[
  {
    "id": "kx-github_issue-d1c1f593087a",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/ml/issues/5",
    "title": "Fresh ML library from the master branch ",
    "text": "# Fresh ML library from the master branch \n\n.ml.fresh.significantfeatures is broken.\r\n\r\nthe function is trying to pull columns from a table using #(take) notation, this is incorrect and will fail, you can do this from a dictionary, but I would recommend using applicative notation. \r\n\r\nHere is original and suggested changes after making these changes the function started working, \r\n0riginal:\r\nfresh.significantfeatures:{[table;targets]\r\n table:(where 0=var each flip table)_table;\r\n bintest:{2=count distinct x};\r\n bintarget:bintest targets;\r\n bincols:where bintest each flip table;\r\n realcols:cols[table]except bincols;\r\n bintab:bincols#table;\r\n realtab:realcols#table;\r\n pvals:raze$[bintarget;\r\n         {y[x;]each flip z}[targets]'[fresh.ks2samp,fresh.fishertest;(realtab;bintab)];\r\n         {y[x;]each flip z}[targets]'[fresh.ktaupy,fresh.ks2samp;(realtab;bintab)]];\r\n insignificant:fresh.benjhochfind[pvals;0.05];\r\n cols[table]except insignificant\r\n }\r\n\r\nsuggested changes:\r\nfresh.significantfeatures:{[table;targets]\r\n table:(where 0=var each flip table)_table;\r\n bintest:{2=count distinct x};\r\n bintarget:bintest targets;\r\n bincols:where bintest each flip table;\r\n realcols:cols[table]except bincols;\r\n **bintab:table[bincols];**\r\n **realtab:table[realcols];**\r\n pvals:raze$[bintarget;\r\n         **{y[x;]each z}[targets]'[fresh.ks2samp,fresh.fishertest;(realtab;bintab)];**\r\n         **{y[x;]each z}[targets]'[fresh.ktaupy,fresh.ks2samp;(realtab;bintab)]];**\r\n insignificant:fresh.benjhochfind[pvals;0.05];\r\n  **cols[table]except cols[table]insignificant**  \r\n }\r\n\r\n\r\n\r\n\n\n## Top Comments\n\n**cmccarthy1**: Hi Pindash,\r\n\r\nThanks for the message, the function is actually doings as it's designed to from what I can see, the take function in the form `x#y` where x is a list of symbols and y is an unkeyed table will return an un-keyed table containing the subset of columns `x` from `y` as in the below example.\r\n\r\n```\r\nq)5#table:([]100?0b;100?1f;100?0b;100?1f)\r\nx         x1 x2         x3\r\n--------------------------\r\n0.7433285 0  0.8481567  0 \r\n0.2371288 1  0.389056   1 \r\n0.567081  1  0.391543   1 \r\n0.4269177 1  0.08123546 0 \r\n0.7704774 0  0.9367503  0 \r\nq)binaryfunc:{2=count distinct x}       /find where columns contain only 'binary' data\r\nq)show binarycols:where binaryfunc each flip table\r\n`x1`x3\r\nq)5#binarytab:binarycols#table\r\nx1 x3\r\n-----\r\n0  0 \r\n1  1 \r\n1  1 \r\n1  0 \r\n0  0 \r\n```\r\n\r\nThis is outlined at https://code.kx.com/q/ref/lists/#take . If you can provide a specific edge case where you have experienced an issue with the function in a working example I'll be more than happy to take a look at it and add in a fix.\r\n\r\nKind regards,\r\n\r\nConor\n\n---\n\n**pindash**: Perhaps its my version of Kdb I'm using 3.6 and I agree that's what is\nsupposed to happen but the function definitely failed when I tried it. just\npull the master branch and load the code up and use the example code from\nthe documentation at http://code.kx.com/ml/toolkit/fresh/\n\nI just went home for the day, but will double check tomorrow morning. I may\nhave made some mistake\n\n\n Tue, Dec 11, 2018, 20:19 cmccarthy1 <notifications@github.com wrote:\n\n> Hi Pindash,\n>\n> Thanks for the message, the function is actually doings as it's designed\n> to from what I can see, the take function in the form x#y where x is a\n> list of symbols and y is an unkeyed table will return an un-keyed table\n> containing the subset of columns x from y as in the below example.\n>\n> q)5#table:([]100?0b;100?1f;100?0b;100?1f)\n> x         x1 x2         x3\n> --------------------------\n> 0.7433285 0  0.8481567  0\n> 0.2371288 1  0.389056   1\n> 0.567081  1  0.391543   1\n> 0.4269177 1  0.08123546 0\n> 0.7704774 0  0.9367503  0\n> q)binaryfunc:{2=count distinct x}       /find where columns contain only 'binary' data\n> q)show binarycols:where binaryfunc each flip table\n> `x1`x3\n> q)5#binarytab:binarycols#table\n> x1 x3\n> -----\n> 0  0\n> 1  1\n> 1  1\n> 1  0\n> 0  0\n>\n> This is outlined at https://code.kx.com/q/ref/lists/#take . If you can\n> provide a specific edge case where you have experienced this I'll be more\n> than happy to take a look at it and add in a fix.\n>\n> Kind regards,\n>\n> Conor\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/KxSystems/ml/issues/5#issuecomment-446425317>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACDWYaSg29uzBogpV9mNaMaNmOqK2_HLks5u4Fm5gaJpZM4ZOhco>\n> .\n>\n\n\n---\n\n**cmccarthy1**: Yeah if you could rerun in the morning that would be great, I'm just after cloning from the git and rerunning the example that's in on code.kx (first running the feature creation section followed by the feature significance section below it) with out any issues. I'm also running 3.6 on Mac but it's also been tested on windows and linux machines.\r\n\r\nLet me know what you find tomorrow.\r\n\r\nAll the best\n\n---\n\n**pindash**: Hey so I tested again today and it still fails:\r\n![image](https://user-images.githubusercontent.com/2152033/49895720-30256b00-fe1f-11e8-9061-68fcd389e59b.png)\r\n\r\nHere is sample code to reproduce:\r\n\\l ml/ml.q\r\n.ml.loadfile`:fresh/init.q\r\nt:flip `absenergy_orderSize`abssumchange_orderSize`count_orderSize!(4 625 2116 1 4 1 1 10000 10000 6290064f;0 0 0 0 0 0 0 0 0 0f;1 1 1 1 1 1 1 1 1 1)\r\ntgt:enlist each 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051\r\n.ml.fresh.significantfeatures[t;tgt]\r\n\n\n---\n\n**cmccarthy1**: So the error is based on the fact that there are no 'binary' columns in the dataset you've provided for the feature significance tests, if it's passed the outputs from the feature creation procedure that's unlikely to be an issue, I'll modify the function tomorrow to handle cases that don't have binary or real components but I think this is likely only a problem in situations where the feature significance procedure is used without considering the feature creation part of the FRESH algorithm which it's built for\r\n\r\nI'll have a look at this in the morning though\n\n---\n\n**pindash**: That's fair. But using the functional changes I provided allows those cases\nto all work and the code can be shorter and has fewer flips.  So I think\nit's a net win, your call.\n\nOn Wed, Dec 12, 2018, 21:28 cmccarthy1 <notifications@github.com wrote:\n\n> So the error is based on the fact that there are no 'binary' columns in\n> the dataset you've provided for the feature significance tests, if it's\n> passed the outputs from the feature creation procedure that's unlikely to\n> be an issue, I'll modify the function tomorrow to handle cases that don't\n> have binary or real components but I think this is likely only a problem in\n> situations where the feature significance procedure is used without\n> considering the feature creation part of the FRESH algorithm which it's\n> built for\n>\n> I'll have a look at this in the morning though\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/KxSystems/ml/issues/5#issuecomment-446819763>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACDWYRIcXFQkCH7X2C_xfuTyW6xYe_uGks5u4bs7gaJpZM4ZOhco>\n> .\n>\n\n\n---\n\n**cmccarthy1**: I've now modified the code to take in your changes. Thanks for highlighting the issue!\n\n---\n\n**pindash**: Thank you\n\nOn Thu, Dec 13, 2018, 07:21 cmccarthy1 <notifications@github.com wrote:\n\n> Closed #5 <https://github.com/KxSystems/ml/issues/5>.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/KxSystems/ml/issues/5#event-2024070003>, or mute the\n> thread\n> <https://github.com/notifications/unsubscribe-auth/ACDWYbvSEHcWSpLWc3br9n7Wh8sxCIsoks5u4kZXgaJpZM4ZOhco>\n> .\n>\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1078,
    "metadata": {
      "issue_number": 5,
      "state": "closed",
      "labels": [],
      "comments_count": 8,
      "created_at": "2018-12-12T00:50:38Z",
      "updated_at": "2018-12-13T19:37:57Z",
      "closed_at": "2018-12-13T12:21:42Z",
      "author": "pindash",
      "top_comments": [
        "**cmccarthy1**: Hi Pindash,\r\n\r\nThanks for the message, the function is actually doings as it's designed to from what I can see, the take function in the form `x#y` where x is a list of symbols and y is an unkeyed table will return an un-keyed table containing the subset of columns `x` from `y` as in the below example.\r\n\r\n```\r\nq)5#table:([]100?0b;100?1f;100?0b;100?1f)\r\nx         x1 x2         x3\r\n--------------------------\r\n0.7433285 0  0.8481567  0 \r\n0.2371288 1  0.389056   1 \r\n0.567081  1  0.391543   1 \r\n0.4269177 1  0.08123546 0 \r\n0.7704774 0  0.9367503  0 \r\nq)binaryfunc:{2=count distinct x}       /find where columns contain only 'binary' data\r\nq)show binarycols:where binaryfunc each flip table\r\n`x1`x3\r\nq)5#binarytab:binarycols#table\r\nx1 x3\r\n-----\r\n0  0 \r\n1  1 \r\n1  1 \r\n1  0 \r\n0  0 \r\n```\r\n\r\nThis is outlined at https://code.kx.com/q/ref/lists/#take . If you can provide a specific edge case where you have experienced an issue with the function in a working example I'll be more than happy to take a look at it and add in a fix.\r\n\r\nKind regards,\r\n\r\nConor",
        "**pindash**: Perhaps its my version of Kdb I'm using 3.6 and I agree that's what is\nsupposed to happen but the function definitely failed when I tried it. just\npull the master branch and load the code up and use the example code from\nthe documentation at http://code.kx.com/ml/toolkit/fresh/\n\nI just went home for the day, but will double check tomorrow morning. I may\nhave made some mistake\n\n\n Tue, Dec 11, 2018, 20:19 cmccarthy1 <notifications@github.com wrote:\n\n> Hi Pindash,\n>\n> Thanks for the message, the function is actually doings as it's designed\n> to from what I can see, the take function in the form x#y where x is a\n> list of symbols and y is an unkeyed table will return an un-keyed table\n> containing the subset of columns x from y as in the below example.\n>\n> q)5#table:([]100?0b;100?1f;100?0b;100?1f)\n> x         x1 x2         x3\n> --------------------------\n> 0.7433285 0  0.8481567  0\n> 0.2371288 1  0.389056   1\n> 0.567081  1  0.391543   1\n> 0.4269177 1  0.08123546 0\n> 0.7704774 0  0.9367503  0\n> q)binaryfunc:{2=count distinct x}       /find where columns contain only 'binary' data\n> q)show binarycols:where binaryfunc each flip table\n> `x1`x3\n> q)5#binarytab:binarycols#table\n> x1 x3\n> -----\n> 0  0\n> 1  1\n> 1  1\n> 1  0\n> 0  0\n>\n> This is outlined at https://code.kx.com/q/ref/lists/#take . If you can\n> provide a specific edge case where you have experienced this I'll be more\n> than happy to take a look at it and add in a fix.\n>\n> Kind regards,\n>\n> Conor\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/KxSystems/ml/issues/5#issuecomment-446425317>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ACDWYaSg29uzBogpV9mNaMaNmOqK2_HLks5u4Fm5gaJpZM4ZOhco>\n> .\n>\n",
        "**cmccarthy1**: Yeah if you could rerun in the morning that would be great, I'm just after cloning from the git and rerunning the example that's in on code.kx (first running the feature creation section followed by the feature significance section below it) with out any issues. I'm also running 3.6 on Mac but it's also been tested on windows and linux machines.\r\n\r\nLet me know what you find tomorrow.\r\n\r\nAll the best",
        "**pindash**: Hey so I tested again today and it still fails:\r\n![image](https://user-images.githubusercontent.com/2152033/49895720-30256b00-fe1f-11e8-9061-68fcd389e59b.png)\r\n\r\nHere is sample code to reproduce:\r\n\\l ml/ml.q\r\n.ml.loadfile`:fresh/init.q\r\nt:flip `absenergy_orderSize`abssumchange_orderSize`count_orderSize!(4 625 2116 1 4 1 1 10000 10000 6290064f;0 0 0 0 0 0 0 0 0 0f;1 1 1 1 1 1 1 1 1 1)\r\ntgt:enlist each 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051 108.3051\r\n.ml.fresh.significantfeatures[t;tgt]\r\n",
        "**cmccarthy1**: So the error is based on the fact that there are no 'binary' columns in the dataset you've provided for the feature significance tests, if it's passed the outputs from the feature creation procedure that's unlikely to be an issue, I'll modify the function tomorrow to handle cases that don't have binary or real components but I think this is likely only a problem in situations where the feature significance procedure is used without considering the feature creation part of the FRESH algorithm which it's built for\r\n\r\nI'll have a look at this in the morning though"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-33fe4af0b0cd",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/ml/issues/104",
    "title": "Find a problem: Invalid function document （https://code.kx.com/q/ml/）",
    "text": "# Find a problem: Invalid function document （https://code.kx.com/q/ml/）\n\ndeal ai@kx.com;\r\n\r\nI find a problem:  Invalid function document （https://code.kx.com/q/ml/）.\r\nI want to ask what happened? Will the website still be maintained?\r\nWhat if I want to query the function?\r\nThank you!\r\n\r\n\r\n2023.03.21\r\nstudent zhao\n\n## Top Comments\n\n**Matoran**: The documentation was moved from website (already deleted) to github repos (not yet merged...).\r\npull request: https://github.com/KxSystems/ml/pull/103\r\nYou can already read everything from https://github.com/StephenTaylor-Kx/ml/tree/2023.03.01/docs",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 71,
    "metadata": {
      "issue_number": 104,
      "state": "open",
      "labels": [],
      "comments_count": 1,
      "created_at": "2023-03-28T07:34:46Z",
      "updated_at": "2023-07-13T14:35:33Z",
      "closed_at": null,
      "author": "zhaoyunzhe",
      "top_comments": [
        "**Matoran**: The documentation was moved from website (already deleted) to github repos (not yet merged...).\r\npull request: https://github.com/KxSystems/ml/pull/103\r\nYou can already read everything from https://github.com/StephenTaylor-Kx/ml/tree/2023.03.01/docs"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-c2b57a057f31",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/ml/issues/88",
    "title": "`k` check in cross validation",
    "text": "# `k` check in cross validation\n\nFor k-fold cross validation, a check could be included to ensure that 0<k<len(data)\r\n\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 19,
    "metadata": {
      "issue_number": 88,
      "state": "open",
      "labels": [],
      "comments_count": 0,
      "created_at": "2021-03-15T14:42:25Z",
      "updated_at": "2021-03-15T14:42:25Z",
      "closed_at": null,
      "author": "Dianeod",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-1a86a6ac8ca1",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/ml/issues/70",
    "title": "C build",
    "text": "# C build\n\nIncorporate C code build into future release for toolkit",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 12,
    "metadata": {
      "issue_number": 70,
      "state": "open",
      "labels": [],
      "comments_count": 0,
      "created_at": "2020-05-11T14:23:27Z",
      "updated_at": "2020-05-11T14:23:27Z",
      "closed_at": null,
      "author": "Dianeod",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  }
]