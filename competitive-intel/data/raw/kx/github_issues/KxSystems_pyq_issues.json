[
  {
    "id": "kx-github_issue-d4d6977b6758",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/109",
    "title": "memory leak in backtrace mode",
    "text": "# memory leak in backtrace mode\n\nHi, please have a look at the memory leak that occurs during conversion from K vectors to numpy arrays. The increasing reference count occurs for all date and time types.\r\n\r\n```\r\n>>> q('a:1000000?.z.D')\r\n>>> q('-16!a')\r\nk('1i')\r\n```\r\n\r\n\r\n```\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2002-10-16',\r\n       '2004-02-07', '2018-03-25'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('2i')\r\n\r\n```\r\n\r\n```\r\n>>> for i in range(1000):\r\n...     _ = np.asarray(q.a)\r\n...\r\n>>> gc.collect()\r\n0\r\n\r\n```\r\n```\r\n>>> q('-16!a')\r\nk('1002i')\r\n\r\n```\r\n\n\n## Top Comments\n\n**antipisa**: The same thing happens when you press the tab key.\r\n\r\n```\r\nq.a=0\r\nq('-16!a')\r\nq.a.<tab>\r\nq('-16!a')\r\nq.a.<tab>\r\nq('-16!a')\r\n```\n\n---\n\n**antipisa**: Is there an update on this?\n\n---\n\n**sashkab**: @antipisa please feel free to provide pull request to address this issue.\n\n---\n\n**cmccarthy1**: @antipisa Can you provide any environment information on versions that you have seen this issue if possible, I can't replicate the issue locally and will look at adding a fix once I can replicate.\r\n```\r\n>>> q('a:1000000?.z.D')\r\nk('::')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> import numpy as np\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2012-12-29',\r\n       '2008-05-15', '2000-07-16'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> for i in range(1000):\r\n...     _ = np.asarray(q.a)\r\n...\r\n>>> q('-16!a')\r\nk('1i')\r\n```\n\n---\n\n**antipisa**: @cmccarthy1 PyQ version 4.2.1, KDB version 3.6.2018.12.24, numpy 1.16.2, all are installed from conda.\n\n---\n\n**cmccarthy1**: @antipisa Thanks for the extra information, unfortunately I still haven't been able to replicate on macOS or Ubuntu Linux what architecture are you seeing the behaviour on?\r\n\r\n@sashkab Have you been able to replicate the issue on your side?\n\n---\n\n**antipisa**: @cmccarthy1 I donâ€™t think this is a specific environment issue. I can reproduce it on CentOS, macOS and RedHat 6 and 7. \n\n---\n\n**sashkab**: @cmccarthy1 Nope. Just tried again:\r\n\r\nThis is RHEL6, 64-bit. \r\n\r\n```sh\r\n$ pyq --versions\r\nPyQ 4.2.1\r\nNumPy 1.16.2\r\nKDB+ 3.5 (2017.06.19) l64\r\nPython 3.6.6 (default, Jul  9 2018, 09:23:37)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)]\r\n\r\n$ pyq\r\nPython 3.6.6 (default, Jul  9 2018, 09:23:37)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q('a:1000000?.z.D')\r\nk('::')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> import numpy as np\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2004-06-10',\r\n       '2004-09-14', '2013-07-24'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> for i in range(1000):\r\n...      _ = np.asarray(q.a)\r\n...\r\n>>> q('-16!a')\r\nk('1i')\r\n>>>\r\n```\r\n\r\n\r\nAnd this is 64-bit macOS:\r\n\r\n```sh\r\n$ pyq --versions\r\nPyQ 4.2.1\r\nNumPy 1.16.2\r\nKDB+ 3.5 (2019.01.31) m64\r\nPython 3.6.9 (default, Oct  4 2019, 22:26:04)\r\n[GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.46.4)]\r\n\r\n$ pyq\r\nPython 3.6.9 (default, Oct  4 2019, 22:26:04)\r\n[GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.46.4)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q('a:1000000?.z.D')\r\nk('::')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> import numpy as np\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2004-06-10',\r\n       '2004-09-14', '2013-07-24'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> for i in range(1000):\r\n...     _ = np.asarray(q.a)\r\n...\r\n>>> q('-16!a')\r\nk('1i')\r\n```\r\n\r\n\n\n---\n\n**antipisa**: @sashkab @cmccarthy1  Can you please try:\r\n\r\nDo a fresh install with conda\r\n\r\nTry it with python 3.6.5 and kdb  3.5.2018.10.12, and with python 3.7.1 and kdb 3.6.2018.12.24\r\n\n\n---\n\n**cmccarthy1**: @antipisa I tried that as follows on Mac unfortunately with the same result on my side\r\n\r\n```sh\r\n(test_pyq) conors-Air:pyq conormccarthy$ pyq --versions\r\nPyQ 4.2.1\r\nNumPy 1.17.2\r\nKDB+ 3.6 (2018.12.24) m64\r\nPython 3.7.1 (default, Dec 14 2018, 13:33:11) \r\n[Clang 4.0.1 (tags/RELEASE_401/final)]\r\n\r\n(test_pyq) conors-Air:pyq conormccarthy$ pyq\r\nPython 3.7.1 (default, Dec 14 2018, 13:33:11) \r\n[Clang 4.0.1 (tags/RELEASE_401/final)] :: Anaconda, Inc. on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import numpy as np\r\n>>> import gc\r\n>>> q('a:1000000?.z.D')\r\nk('::')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2004-06-10',\r\n       '2004-09-14', '2013-07-24'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> for i in range(1000):\r\n...     _ = np.asarray(q.a)\r\n... \r\n>>> gc.collect()\r\n253\r\n>>> q('-16!a')\r\nk('1i')\r\n\r\n```\r\nI won't be online for about a week but once I can replicate this on return I'll take a look into it again. Unfortunately as it stands until we can replicate locally it's not going to be easy to fix as I'm sure you can appreciate",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 664,
    "metadata": {
      "issue_number": 109,
      "state": "closed",
      "labels": [],
      "comments_count": 75,
      "created_at": "2019-05-28T23:32:07Z",
      "updated_at": "2020-09-11T23:02:51Z",
      "closed_at": "2020-09-11T23:02:51Z",
      "author": "antipisa",
      "top_comments": [
        "**antipisa**: The same thing happens when you press the tab key.\r\n\r\n```\r\nq.a=0\r\nq('-16!a')\r\nq.a.<tab>\r\nq('-16!a')\r\nq.a.<tab>\r\nq('-16!a')\r\n```",
        "**antipisa**: Is there an update on this?",
        "**sashkab**: @antipisa please feel free to provide pull request to address this issue.",
        "**cmccarthy1**: @antipisa Can you provide any environment information on versions that you have seen this issue if possible, I can't replicate the issue locally and will look at adding a fix once I can replicate.\r\n```\r\n>>> q('a:1000000?.z.D')\r\nk('::')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> import numpy as np\r\n>>> np.asarray(q.a)\r\narray(['2008-02-04', '2015-01-02', '2003-07-05', ..., '2012-12-29',\r\n       '2008-05-15', '2000-07-16'], dtype='datetime64[D]')\r\n>>> q('-16!a')\r\nk('1i')\r\n>>> for i in range(1000):\r\n...     _ = np.asarray(q.a)\r\n...\r\n>>> q('-16!a')\r\nk('1i')\r\n```",
        "**antipisa**: @cmccarthy1 PyQ version 4.2.1, KDB version 3.6.2018.12.24, numpy 1.16.2, all are installed from conda."
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ec0bb7986c66",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/1",
    "title": "Create version of PyQ for Windows?",
    "text": "# Create version of PyQ for Windows?\n\nHi\nI am evaluating kdb+/q for use in managing large data volumes for an investment process and was keen on utilising PyQ to help manage data wrangling into a kdb database.  I am restricted to operating on Windows and noticed that the pip install or build from source won't work as it is written only for Unix variants OSs.  Is there any chance this could be extended to Windows?  I'd have a crack at it myself, but my programming skills not that extensive .. Would it require much work to adjust to compile on WIndows?  I am running Python 3.4\n\n\n## Top Comments\n\n**abalkin**: We have no plans to support Windows at the moment.  The major supported platforms are MacOS and Linux while we had some success with Solaris and FreeBSD.\n\nThe code itself should compile without any problems on Windows, but some changes will be required\nto setup.py.\n\n\n---\n\n**sashkab**: ### Experimental support for Windows has landed with the PyQ 4.1.0. \r\n\r\nEnsure that kdb+ is installed under `C:\\q`, or `QHOME` environment variable properly set.\r\n\r\nThen, you can install PyQ on Windows using \r\n\r\n```sh\r\npip install -U pyq\r\n```\r\n\r\nYou can start PyQ by running\r\n\r\n```dos\r\nc:\\q\\w32\\q.exe python.q\r\n```\r\n\r\nNote, you will have to press `^Z` and then `Enter` key in order to get into Python REPL. This is known limitation of this version.\r\n\r\nYou can run tests too: first install required packages:\r\n\r\n```sh\r\npip install pytest pytest-pyq\r\n```\r\n\r\nThen run:\r\n\r\n```\r\nset QBIN=c:\\q\\w32\\q.exe\r\nc:\\q\\w32\\q.exe python.q -mpytest --pyargs pyq < nul\r\n```\r\n\r\nWe appreciate all bug reports and any feedback.\n\n---\n\n**bevinahal**: Thanks so much for this release - this is a very good feature.\r\n\r\nMy installation fails with below error. Is this because I'm using 64-bit q.exe version?\r\nI did run vcvarsall.bat x64 before calling \"python setup.py install\"\r\n\r\nPython version : 3.5.2\r\nKDB version : 3.1\r\n\r\n**Error -**\r\n\r\n```\r\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\link.exe /nologo /INCREMENTAL:NO /LTCG /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIB\r\nATH:C:\\Users\\44025173\\AppData\\Local\\Continuum\\Anaconda3\\libs /LIBPATH:C:\\Users\\44025173\\AppData\\Local\\Continuum\\Anaconda3\\PCbuild\\amd64 \"/LIBPATH:C:\\Progr\r\nm Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\P\r\nogram Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program\r\nFiles (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x\r\n6)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program File\r\n (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64\" /LIBPATH:C:\\SYBASE\\OCS-12_5\\lib /EXPO\r\nT:PyInit__k build\\temp.win-amd64-3.5\\Release\\src/pyq/_k.obj /OUT:build\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Releas\r\n\\src/pyq\\_k.cp35-win_amd64.lib src\\pyq\\kx\\w64\\q.lib\r\n_k.obj : warning LNK4197: export 'PyInit__k' specified multiple times; using first specification\r\n   Creating library build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.e\r\np\r\n_k.obj : error LNK2001: unresolved external symbol clr\r\nbuild\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd : fatal error LNK1120: 1 unresolved externals\r\nerror: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\link.exe' failed with exit status 1120\r\n\r\n```\n\n---\n\n**abalkin**: Hi @bevinahal,\r\n\r\nThank you for your report.  I don't think 64bit is an issue here.   More likely it is your use of kdb+ 3.1.  We only fully tested PyQ with the latest (3.5, 32bit) kdb+, but it does compile with (3.5, 64bit) as well.\r\n\r\nThe problem is that with kdb+ < 3.5, PyQ uses an undocumented `clr()` function which apparently is not included in q.lib.  I see the following options for you\r\n\r\n1. Upgrade to kdb+ 3.5.\r\n2. Add `void clr(void)` definition to `q.lib`.  Your Kx support may be able to help you with that.\r\n3. Comment out [line 158](https://github.com/enlnt/pyq/blob/pyq-4.1.0/src/pyq/_k.c#L158)  in `_k.c`.\r\n\r\nIf you decide to take option (3), see [\"Installing from Source Code\"](https://pyq.enlnt.com/install/install.html#installing-from-source-code) instructions. \r\nPlease let us know if any of these solutions work for you.  \n\n---\n\n**abalkin**: Dear @chenkangcrack,\r\n\r\nThank you for your report.  For the 4.1 release, we've only tested PyQ on Windows with Python 3.6.  However, it looks like only a minor change is needed to make it compile under Python 2.7.\r\n\r\nI am attaching the necessary patch.  To apply, clone this repository, download the attachment and run\r\n\r\n```bash\r\ngit apply 0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt\r\n```\r\nYou should then be able to install pyq with\r\n\r\n```\r\npip install .\r\n```\r\n\r\nPlease let us know if you have any other issues.  We will include these changes in the next bug-fix release.\r\n\r\n[0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt](https://github.com/enlnt/pyq/files/1303763/0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt)\r\n\n\n---\n\n**sashkab**: @chenkangcrack  Please try to start PyQ as [described above](https://github.com/enlnt/pyq/issues/1#issuecomment-326099399) by running`c:\\q\\w32\\q.exe python.q` (replace `c:\\q\\w32` with path to your kdb+ installation). \r\n\r\nWhen installing PyQ, please use Command Prompt, not git/mingw shell.  You might need to install [Visual Studio 9 for Python](http://aka.ms/vcpython27) if using Python 2.7.x, and `pip` will instruct you what to do. \n\n---\n\n**abalkin**: Hi @chenkangcrack,\r\n\r\nThank you for trying the patch.   Please note that PyQ runs Python inside a kdb+ process and cannot be loaded in a standard Python.  To start an interactive session, please enter the following command: \r\n\r\n```\r\nc:\\q\\w32\\q.exe python.q\r\n```\r\n\r\nAs [explained above](#issuecomment-326099399), you will have to press <kbd>Control</kbd>+<kbd>Z</kbd> and then <kbd>Enter</kbd> keys to break out of the kdb+ REPL and start entering Python commands. (When running python scripts, redirect STDIN to `nul`.)\r\n\r\nTo make sure you've succeeded in building PyQ, please run the included test suit:\r\n\r\n```\r\npip install pytest pytest-pyq\r\nset QBIN=c:\\q\\w32\\q.exe\r\nc:\\q\\w32\\q.exe python.q -mpytest --pyargs pyq < nul\r\n``` \n\n---\n\n**ghlian**: This is error I got.\r\nwin 10 64bit\r\npython 36 32bit\r\ncompile the pyq successfully but cannot launch it.\r\n\r\n\r\n```\r\n(python36_32) C:\\Users\\ligu1>c:\\q\\w32\\q.exe python.q\r\nKDB+ 3.5 2017.09.06 Copyright (C) 1993-2017 Kx Systems\r\nw32/ 4()core 4095MB ghlian liandelllaptop 192.168.43.33 NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nFatal Python error: Py_Initialize: unable to load the file system codec\r\nModuleNotFoundError: No module named 'encodings'\r\n\r\nCurrent thread 0x000060c0 (most recent call first):\r\n```\n\n---\n\n**ghlian**: After failing to launch it in python36 above (the pyq crashed)\r\n\r\nI tried to do it in python 27 as you described, got the error and cannot start it.\r\n\r\n\r\n```\r\n(python27_32) C:\\Users\\ligu1\\pyq>pip install .\r\nProcessing c:\\users\\ligu1\\pyq\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... done\r\nException:\r\nTraceback (most recent call last):\r\n  File \"F:\\Anaconda_3_64\\envs\\python27_32\\lib\\site-packages\\pip\\basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"F:\\Anaconda_3_64\\envs\\python27_32\\lib\\site-packages\\pip\\commands\\install.py\", line 342, in run\r\n    prefix=options.prefix_path,\r\n  File \"F:\\Anaconda_3_64\\envs\\python27_32\\lib\\site-packages\\pip\\req\\req_set.py\", line 784, in install\r\n    **kwargs\r\n  File \"F:\\Anaconda_3_64\\envs\\python27_32\\lib\\site-packages\\pip\\req\\req_install.py\", line 919, in install\r\n    prepend_root(filename), egg_info_dir)\r\n  File \"F:\\Anaconda_3_64\\envs\\python27_32\\lib\\ntpath.py\", line 529, in relpath\r\n    % (path_prefix, start_prefix))\r\nValueError: path is on drive C:, start on drive F:\r\n```\r\n\r\nIs it because my python is installed in F driver?\r\n\r\nThanks a lot.\r\n\r\n\r\n\n\n---\n\n**abalkin**: Dear @ghlian,\r\n\r\nIt looks like you are using conda.  We have not tested PyQ with it.  I suggest that you install the official CPython distribution from <https://www.python.org/downloads/windows/>.  For the 32-bit version, choose \"Download Windows x86 MSI installer\".",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1072,
    "metadata": {
      "issue_number": 1,
      "state": "closed",
      "labels": [
        "enhancement",
        "windows",
        "notebook",
        "no-issue-activity"
      ],
      "comments_count": 73,
      "created_at": "2015-04-29T01:31:48Z",
      "updated_at": "2020-03-11T00:12:32Z",
      "closed_at": "2020-02-08T00:07:50Z",
      "author": "rogermcintosh",
      "top_comments": [
        "**abalkin**: We have no plans to support Windows at the moment.  The major supported platforms are MacOS and Linux while we had some success with Solaris and FreeBSD.\n\nThe code itself should compile without any problems on Windows, but some changes will be required\nto setup.py.\n",
        "**sashkab**: ### Experimental support for Windows has landed with the PyQ 4.1.0. \r\n\r\nEnsure that kdb+ is installed under `C:\\q`, or `QHOME` environment variable properly set.\r\n\r\nThen, you can install PyQ on Windows using \r\n\r\n```sh\r\npip install -U pyq\r\n```\r\n\r\nYou can start PyQ by running\r\n\r\n```dos\r\nc:\\q\\w32\\q.exe python.q\r\n```\r\n\r\nNote, you will have to press `^Z` and then `Enter` key in order to get into Python REPL. This is known limitation of this version.\r\n\r\nYou can run tests too: first install required packages:\r\n\r\n```sh\r\npip install pytest pytest-pyq\r\n```\r\n\r\nThen run:\r\n\r\n```\r\nset QBIN=c:\\q\\w32\\q.exe\r\nc:\\q\\w32\\q.exe python.q -mpytest --pyargs pyq < nul\r\n```\r\n\r\nWe appreciate all bug reports and any feedback.",
        "**bevinahal**: Thanks so much for this release - this is a very good feature.\r\n\r\nMy installation fails with below error. Is this because I'm using 64-bit q.exe version?\r\nI did run vcvarsall.bat x64 before calling \"python setup.py install\"\r\n\r\nPython version : 3.5.2\r\nKDB version : 3.1\r\n\r\n**Error -**\r\n\r\n```\r\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\link.exe /nologo /INCREMENTAL:NO /LTCG /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIB\r\nATH:C:\\Users\\44025173\\AppData\\Local\\Continuum\\Anaconda3\\libs /LIBPATH:C:\\Users\\44025173\\AppData\\Local\\Continuum\\Anaconda3\\PCbuild\\amd64 \"/LIBPATH:C:\\Progr\r\nm Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\P\r\nogram Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program\r\nFiles (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x\r\n6)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.10240.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program File\r\n (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\8.1\\lib\\winv6.3\\um\\x64\" /LIBPATH:C:\\SYBASE\\OCS-12_5\\lib /EXPO\r\nT:PyInit__k build\\temp.win-amd64-3.5\\Release\\src/pyq/_k.obj /OUT:build\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Releas\r\n\\src/pyq\\_k.cp35-win_amd64.lib src\\pyq\\kx\\w64\\q.lib\r\n_k.obj : warning LNK4197: export 'PyInit__k' specified multiple times; using first specification\r\n   Creating library build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.e\r\np\r\n_k.obj : error LNK2001: unresolved external symbol clr\r\nbuild\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd : fatal error LNK1120: 1 unresolved externals\r\nerror: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\link.exe' failed with exit status 1120\r\n\r\n```",
        "**abalkin**: Hi @bevinahal,\r\n\r\nThank you for your report.  I don't think 64bit is an issue here.   More likely it is your use of kdb+ 3.1.  We only fully tested PyQ with the latest (3.5, 32bit) kdb+, but it does compile with (3.5, 64bit) as well.\r\n\r\nThe problem is that with kdb+ < 3.5, PyQ uses an undocumented `clr()` function which apparently is not included in q.lib.  I see the following options for you\r\n\r\n1. Upgrade to kdb+ 3.5.\r\n2. Add `void clr(void)` definition to `q.lib`.  Your Kx support may be able to help you with that.\r\n3. Comment out [line 158](https://github.com/enlnt/pyq/blob/pyq-4.1.0/src/pyq/_k.c#L158)  in `_k.c`.\r\n\r\nIf you decide to take option (3), see [\"Installing from Source Code\"](https://pyq.enlnt.com/install/install.html#installing-from-source-code) instructions. \r\nPlease let us know if any of these solutions work for you.  ",
        "**abalkin**: Dear @chenkangcrack,\r\n\r\nThank you for your report.  For the 4.1 release, we've only tested PyQ on Windows with Python 3.6.  However, it looks like only a minor change is needed to make it compile under Python 2.7.\r\n\r\nI am attaching the necessary patch.  To apply, clone this repository, download the attachment and run\r\n\r\n```bash\r\ngit apply 0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt\r\n```\r\nYou should then be able to install pyq with\r\n\r\n```\r\npip install .\r\n```\r\n\r\nPlease let us know if you have any other issues.  We will include these changes in the next bug-fix release.\r\n\r\n[0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt](https://github.com/enlnt/pyq/files/1303763/0001-BUG-946-Fixed-compilation-errors-for-Python-2.7-on-W.patch.txt)\r\n"
      ],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-aeaee8aa08d3",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/68",
    "title": "ModuleNotFoundError: No module named 'pyq._k'",
    "text": "# ModuleNotFoundError: No module named 'pyq._k'\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n   Linux (ArchLinux based without systemd - Artix Linux)\r\n    \r\n   64-bit\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    Python 3.6.5\r\n    pyq       4.1.3\r\n    \r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    KDB+ 3.6\r\n    \r\n    32-bit\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n   $HOME/pyq/q\r\n   nb: my virtualenv is $HOME/pyq \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    no    \r\n\r\n\r\n## Steps to reproduce the issue\r\n- compile and install python 3.6 with CFLAGS=-m32 and ldflags=-m32\r\n- install virtualenv with this python 32bits\r\n- create a virtualenv and activate it\r\n- copy the kdb 32bits folder on it and set corresponding QHOME\r\n- do a pip3 install pyq -> no erro\r\n- start pyq -> gives error: ModuleNotFoundError: No module named 'pyq._k'\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\n\n## Top Comments\n\n**abalkin**: Please reinstall pyq in verbose mode:\r\n\r\n```\r\n$ pip install -v -U pyq\r\n```\r\n\r\nand find out where the pyq package gets installed.\r\n\r\nAre you able to run simple Python commands at the q prompt:\r\n\r\n```\r\nq)p)print(42)\r\n```\r\n\r\nIf the above works (prints 42), please check the sys.path:\r\n\r\n```\r\nq)p)import sys\r\nq)p)print(sys.path)\r\n```\r\n\n\n---\n\n**zorg613**: ```\r\n$ export QHOME=$HOME/pyq/q\r\n$ export PATH=$QHOME/l32:$PATH\r\n$ cd $HOME/pyq\r\n$ source bin/activate\r\n(pyq) $ pip3 install -v -U pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-hwt3mxux\r\nCreated temporary directory: /tmp/pip-install-jxfssc6u\r\n1 location(s) to search for versions of pyq:\r\n* https://pypi.org/simple/pyq/\r\nGetting page https://pypi.org/simple/pyq/\r\nLooking up \"https://pypi.org/simple/pyq/\" in the cache\r\nCurrent age based on date: 479\r\nFreshness lifetime from max-age: 600\r\nFreshness lifetime from request max-age: 600\r\nThe response is \"fresh\", returning cached response\r\n600 > 479\r\nAnalyzing links from page https://pypi.org/simple/pyq/\r\n  Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n  Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n  Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n  Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\nInstalled version (4.1.3) is most up-to-date (past versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\nRequirement already up-to-date: pyq in ./lib/python3.6/site-packages (4.1.3)\r\nCleaning up...\r\n(pyq) $ q\r\nKDB+ 3.6 2018.05.17 Copyright (C) 1993-2018 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(42)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n  )\\\r\nq)p)print(42)\r\n42\r\nq)p)import sys\r\nq)p)print(sys.path)\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\nq)\r\n```\r\nsame result after uninstalling, cleaned de wheel and redone the install with pip:\r\n```\r\n(pyq) $ pip3 install -v pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-gfswc9ps\r\nCreated temporary directory: /tmp/pip-install-mcu93nuo\r\nCollecting pyq\r\n  1 location(s) to search for versions of pyq:\r\n  * https://pypi.org/simple/pyq/\r\n  Getting page https://pypi.org/simple/pyq/\r\n  Looking up \"https://pypi.org/simple/pyq/\" in the cache\r\n  Current age based on date: 128\r\n  Freshness lifetime from max-age: 600\r\n  Freshness lifetime from request max-age: 600\r\n  The response is \"fresh\", returning cached response\r\n  600 > 128\r\n  Analyzing links from page https://pypi.org/simple/pyq/\r\n    Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n    Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n    Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n    Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Using version 4.1.3 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\n  Created temporary directory: /tmp/pip-unpack-doc8phqy\r\n  Looking up \"https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\" in the cache\r\n  Ignoring unknown cache-control directive:\r\n  Current age based on date: 90832\r\n  Ignoring unknown cache-control directive: immutable\r\n  Freshness lifetime from max-age: 365000000\r\n  The response is \"fresh\", returning cached response\r\n  365000000 > 90832\r\n  Using cached https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\r\n  Downloading from URL https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/)\r\n  Running setup.py (path:/tmp/pip-install-mcu93nuo/pyq/setup.py) egg_info for package pyq\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-mcu93nuo/pyq has version 4.1.3, which satisfies requirement pyq from https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f\r\nBuilding wheels for collected packages: pyq\r\n  Created temporary directory: /tmp/pip-wheel-rv4vmgbi\r\n  Running setup.py bdist_wheel for pyq ...   Destination directory: /tmp/pip-wheel-rv4vmgbi\r\n  Running command /home/fred/pyq/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-mcu93nuo/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-rv4vmgbi --python-tag cp36\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n  creating build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  running build_ext\r\n  building 'pyq._k' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/src\r\n  creating build/temp.linux-x86_64-3.6/src/pyq\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=6 -I/home/fred/python32/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/home/fred/python32/lib -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -m32\r\n  running build_scripts\r\n  creating build/scripts-3.6\r\n  copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n  copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n  copying src/scripts/ipyq -> build/scripts-3.6\r\n  copying src/scripts/pq -> build/scripts-3.6\r\n  copying src/scripts/qp -> build/scripts-3.6\r\n  changing mode of build/scripts-3.6/pyq-coverage from 644 to 755\r\n  changing mode of build/scripts-3.6/ipyq from 644 to 755\r\n  changing mode of build/scripts-3.6/pq from 644 to 755\r\n  changing mode of build/scripts-3.6/qp from 644 to 755\r\n  running build_qlib\r\n  creating build/qlib\r\n  copying src/pyq/python.q -> build/qlib\r\n  copying src/pyq/p.k -> build/qlib\r\n  copying src/pyq/pyq-operators.q -> build/qlib\r\n  running build_qext\r\n  creating build/temp.linux-x86_64\r\n  creating build/temp.linux-x86_64/src\r\n  creating build/temp.linux-x86_64/src/pyq\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=6 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  creating build/qext.linux-x86_64\r\n  gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so -m32\r\n  running build_exe\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DQARCH=l32 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  creating build/exe.linux-x86_64-3.6\r\n  gcc -pthread -m32 src/pyq.o -o build/exe.linux-x86_64-3.6/pyq\r\n  installing to build/bdist.linux-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  creating build/bdist.linux-x86_64\r\n  creating build/bdist.linux-x86_64/wheel\r\n  creating build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -> build/bdist.linux-x86_64/wheel/pyq\r\n  creating build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_version.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_q.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_no_numpy.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_ci.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/__init__.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_p.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_k.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_magic.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pypath.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_python_q.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_n.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_threads.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_memoryview.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pyq_executable.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_com.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_numpy.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pathlib.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_sd.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/magic.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/conftest.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/cmd.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/version.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_n.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_pt_run.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/__init__.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/ptk.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  running install_data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/p.k -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/pyq-operators.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/python.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying build/qlib/pyq-config.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q/l32\r\n  copying build/qext.linux-x86_64/p.so -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q/l32\r\n  running install_qlib\r\n  copying build/qlib/pyq-operators.q -> /home/fred/pyq/q\r\n  copying build/qlib/p.k -> /home/fred/pyq/q\r\n  copying build/qlib/python.q -> /home/fred/pyq/q\r\n  copying build/qlib/pyq-config.q -> /home/fred/pyq/q\r\n  running install_qext\r\n  copying build/qext.linux-x86_64/p.so -> /home/fred/pyq/q/l32\r\n  running install_exe\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/exe.linux-x86_64-3.6/pyq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq to 755\r\n  running install_egg_info\r\n  running egg_info\r\n  creating src/pyq.egg-info\r\n  writing src/pyq.egg-info/PKG-INFO\r\n  writing dependency_links to src/pyq.egg-info/dependency_links.txt\r\n  writing requirements to src/pyq.egg-info/requires.txt\r\n  writing top-level names to src/pyq.egg-info/top_level.txt\r\n  writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  reading manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  Copying src/pyq.egg-info to build/bdist.linux-x86_64/wheel/pyq-4.1.3-py3.6.egg-info\r\n  running install_scripts\r\n  copying build/scripts-3.6/qp -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/ipyq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pyq-coverage -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pyq-runtests -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/qp to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pq to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/ipyq to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq-coverage to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq-runtests to 755\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.dist-info/WHEEL\r\n  creating '/tmp/pip-wheel-rv4vmgbi/pyq-4.1.3-cp36-cp36m-linux_i686.whl' and adding '.' to it\r\n  adding 'pyq/__init__.py'\r\n  adding 'pyq/_k.cpython-36m-i386-linux-gnu.so'\r\n  adding 'pyq/_n.py'\r\n  adding 'pyq/_pt_run.py'\r\n  adding 'pyq/cmd.py'\r\n  adding 'pyq/conftest.py'\r\n  adding 'pyq/magic.py'\r\n  adding 'pyq/ptk.py'\r\n  adding 'pyq/version.py'\r\n  adding 'pyq/tests/__init__.py'\r\n  adding 'pyq/tests/test_ci.py'\r\n  adding 'pyq/tests/test_com.py'\r\n  adding 'pyq/tests/test_k.py'\r\n  adding 'pyq/tests/test_magic.py'\r\n  adding 'pyq/tests/test_memoryview.py'\r\n  adding 'pyq/tests/test_n.py'\r\n  adding 'pyq/tests/test_no_numpy.py'\r\n  adding 'pyq/tests/test_numpy.py'\r\n  adding 'pyq/tests/test_p.py'\r\n  adding 'pyq/tests/test_pathlib.py'\r\n  adding 'pyq/tests/test_pypath.py'\r\n  adding 'pyq/tests/test_pyq_executable.py'\r\n  adding 'pyq/tests/test_python_q.py'\r\n  adding 'pyq/tests/test_q.py'\r\n  adding 'pyq/tests/test_sd.py'\r\n  adding 'pyq/tests/test_threads.py'\r\n  adding 'pyq/tests/test_version.py'\r\n  adding 'pyq-4.1.3.data/data/q/p.k'\r\n  adding 'pyq-4.1.3.data/data/q/pyq-config.q'\r\n  adding 'pyq-4.1.3.data/data/q/pyq-operators.q'\r\n  adding 'pyq-4.1.3.data/data/q/python.q'\r\n  adding 'pyq-4.1.3.data/data/q/l32/p.so'\r\n  adding 'pyq-4.1.3.data/scripts/ipyq'\r\n  adding 'pyq-4.1.3.data/scripts/pq'\r\n  adding 'pyq-4.1.3.data/scripts/pyq'\r\n  adding 'pyq-4.1.3.data/scripts/pyq-coverage'\r\n  adding 'pyq-4.1.3.data/scripts/pyq-runtests'\r\n  adding 'pyq-4.1.3.data/scripts/qp'\r\n  adding 'pyq-4.1.3.dist-info/top_level.txt'\r\n  adding 'pyq-4.1.3.dist-info/WHEEL'\r\n  adding 'pyq-4.1.3.dist-info/METADATA'\r\n  adding 'pyq-4.1.3.dist-info/RECORD'\r\n  removing build/bdist.linux-x86_64/wheel\r\ndone\r\n  Stored in directory: /home/fred/.cache/pip/wheels/81/72/5d/e1dc2882bcf5959062733c877f5edfda9422faebaf32d3ab65\r\n  Removing source in /tmp/pip-install-mcu93nuo/pyq\r\nSuccessfully built pyq\r\nInstalling collected packages: pyq\r\n\r\nSuccessfully installed pyq-4.1.3\r\nCleaning up...\r\n(pyq) $ q\r\nKDB+ 3.6 2018.05.17 Copyright (C) 1993-2018 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(42)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\\\r\nq)p)import sys; print(sys.path);\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\n```\n\n---\n\n**abalkin**: It looks like regular install does not show the target for the pya package.  Please uninstall and look for the line with `site-packages/pyq/_k.cpython-36m-*.so` in it.  The expected full path is\r\n\r\n```\r\n/home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-*.so\r\n```\r\n\r\nNow reinstall with\r\n\r\n```\r\n(pyq) $ pip3 install -v --no-binary pyq pyq\r\n```\r\n\r\nFrom what I can see so far, you are getting a correct sys.path, so we need to to figure out why you don't have a working `_k.cpython-36m-*.so` in `/site-packages/pyq`.\r\n\r\nI have not used Artix Linux before, but I can try it in Docker if you can point me to the appropriate Docker file.\n\n---\n\n**zorg613**: ```\r\n(pyq) $ file /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n/home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=4e05656ceac9e576d501713ac62ce8830389c4f5, with debug_info, not stripped\r\n(pyq) $ ldd /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n\tlinux-gate.so.1 (0xf7f4f000)\r\n\tlibpython3.6m.so.1.0 => not found\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7ed5000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7cfc000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f51000)\r\n(pyq) $ export LD_LIBRARY_PATH=/home/fred/python32/lib/\r\n(pyq) $ ldd /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n\tlinux-gate.so.1 (0xf7f0e000)\r\n\tlibpython3.6m.so.1.0 => /home/fred/python32/lib/libpython3.6m.so.1.0 (0xf7bd0000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7b76000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf799d000)\r\n\tlibdl.so.2 => /usr/lib32/libdl.so.2 (0xf7998000)\r\n\tlibutil.so.1 => /usr/lib32/libutil.so.1 (0xf7994000)\r\n\tlibm.so.6 => /usr/lib32/libm.so.6 (0xf78c9000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f10000)\r\n```\r\nSo, I tought we found it so, adapted the bin/activate with this and resourced it\r\n```\r\n$ tail -5 pyq/bin/activate\r\nexport QHOME=$VIRTUAL_ENV/q\r\nexport PATH=$QHOME/l32:$PATH\r\nexport LD_LIBRARY_PATH=/home/fred/python32/lib\r\nalias q 2>/dev/null >/dev/null && unalias q\r\ncd $VIRTUAL_ENV\r\n```\r\nbut even with a reinstall with pip3 -v install --no-binary pyq pyq, I've got the same result. \r\n```\r\n(pyq) $ bin/pip3 install -v --no-binary pyq pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-cbvpquyc\r\nCreated temporary directory: /tmp/pip-install-8m8woa89\r\nCollecting pyq\r\n  1 location(s) to search for versions of pyq:\r\n  * https://pypi.org/simple/pyq/\r\n  Getting page https://pypi.org/simple/pyq/\r\n  Looking up \"https://pypi.org/simple/pyq/\" in the cache\r\n  Current age based on date: 67\r\n  Freshness lifetime from max-age: 600\r\n  Freshness lifetime from request max-age: 600\r\n  The response is \"fresh\", returning cached response\r\n  600 > 67\r\n  Analyzing links from page https://pypi.org/simple/pyq/\r\n    Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n    Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n    Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n    Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Using version 4.1.3 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\n  Created temporary directory: /tmp/pip-unpack-jk1zoyqg\r\n  Looking up \"https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\" in the cache\r\n  Ignoring unknown cache-control directive: \r\n  Current age based on date: 152526\r\n  Ignoring unknown cache-control directive: immutable\r\n  Freshness lifetime from max-age: 365000000\r\n  The response is \"fresh\", returning cached response\r\n  365000000 > 152526\r\n  Using cached https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\r\n  Downloading from URL https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/)\r\n  Running setup.py (path:/tmp/pip-install-8m8woa89/pyq/setup.py) egg_info for package pyq\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-8m8woa89/pyq has version 4.1.3, which satisfies requirement pyq from https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f\r\nSkipping bdist_wheel for pyq, due to binaries being disabled for it.\r\nInstalling collected packages: pyq\r\n  Created temporary directory: /tmp/pip-record-k1lj7_0j\r\n  Running setup.py install for pyq ...     Running command /home/fred/pyq/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8m8woa89/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-k1lj7_0j/install-record.txt --single-version-externally-managed --compile --install-headers /home/fred/pyq/include/site/python3.6/pyq\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n    creating build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/src\r\n    creating build/temp.linux-x86_64-3.6/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=5 -I/home/fred/python32/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/home/fred/python32/lib -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -m32\r\n    running build_scripts\r\n    creating build/scripts-3.6\r\n    copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n    copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n    copying src/scripts/ipyq -> build/scripts-3.6\r\n    copying src/scripts/pq -> build/scripts-3.6\r\n    copying src/scripts/qp -> build/scripts-3.6\r\n    changing mode of build/scripts-3.6/pyq-coverage from 644 to 755\r\n    changing mode of build/scripts-3.6/ipyq from 644 to 755\r\n    changing mode of build/scripts-3.6/pq from 644 to 755\r\n    changing mode of build/scripts-3.6/qp from 644 to 755\r\n    running build_qlib\r\n    creating build/qlib\r\n    copying src/pyq/python.q -> build/qlib\r\n    copying src/pyq/p.k -> build/qlib\r\n    copying src/pyq/pyq-operators.q -> build/qlib\r\n    running build_qext\r\n    creating build/temp.linux-x86_64\r\n    creating build/temp.linux-x86_64/src\r\n    creating build/temp.linux-x86_64/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=5 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/qext.linux-x86_64\r\n    gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so -m32\r\n    running build_exe\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DQARCH=l32 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/exe.linux-x86_64-3.6\r\n    gcc -pthread -m32 src/pyq.o -o build/exe.linux-x86_64-3.6/pyq\r\n    running install_lib\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_no_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_ci.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_p.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_k.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pypath.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_python_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_threads.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_memoryview.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pyq_executable.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_com.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pathlib.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_sd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/conftest.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/cmd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_pt_run.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/ptk.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_version.py to test_version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_q.py to test_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_no_numpy.py to test_no_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_ci.py to test_ci.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_p.py to test_p.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_k.py to test_k.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_magic.py to test_magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pypath.py to test_pypath.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_python_q.py to test_python_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_n.py to test_n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_threads.py to test_threads.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_memoryview.py to test_memoryview.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pyq_executable.py to test_pyq_executable.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_com.py to test_com.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_numpy.py to test_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pathlib.py to test_pathlib.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_sd.py to test_sd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/magic.py to magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/conftest.py to conftest.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/cmd.py to cmd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/version.py to version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_n.py to _n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_pt_run.py to _pt_run.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/ptk.py to ptk.cpython-36.pyc\r\n    running install_data\r\n    copying src/pyq/p.k -> /home/fred/pyq/q\r\n    copying src/pyq/pyq-operators.q -> /home/fred/pyq/q\r\n    copying src/pyq/python.q -> /home/fred/pyq/q\r\n    copying build/qlib/pyq-config.q -> /home/fred/pyq/q\r\n    copying build/qext.linux-x86_64/p.so -> /home/fred/pyq/q/l32\r\n    running install_qlib\r\n    running install_qext\r\n    running install_exe\r\n    copying build/exe.linux-x86_64-3.6/pyq -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/pyq to 755\r\n    running install_egg_info\r\n    running egg_info\r\n    creating src/pyq.egg-info\r\n    writing src/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to src/pyq.egg-info/dependency_links.txt\r\n    writing requirements to src/pyq.egg-info/requires.txt\r\n    writing top-level names to src/pyq.egg-info/top_level.txt\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    Copying src/pyq.egg-info to /home/fred/pyq/lib/python3.6/site-packages/pyq-4.1.3-py3.6.egg-info\r\n    running install_scripts\r\n    copying build/scripts-3.6/qp -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/ipyq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-coverage -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-runtests -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/qp to 755\r\n    changing mode of /home/fred/pyq/bin/pq to 755\r\n    changing mode of /home/fred/pyq/bin/ipyq to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-coverage to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-runtests to 755\r\n    writing list of installed files to '/tmp/pip-record-k1lj7_0j/install-record.txt'\r\ndone\r\n  Removing source in /tmp/pip-install-8m8woa89/pyq\r\nSuccessfully installed pyq-4.1.3\r\nCleaning up...\r\n(pyq) $ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'2018.05.29T23:19:00.323 python\r\n(pyq) $ q\r\nKDB+ 3.5 2017.11.30 Copyright (C) 1993-2017 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE  \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(12)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n  )\\\r\nq)p)import sys;print(sys.path)\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\n\r\n```\r\nyou could see that I even tried with q version 3.5 but no change.\r\ngeneral info about found *.so:\r\n```\r\n(pyq) $ find . -name \\*.so -exec ldd {} ';' -print\r\n\tlinux-gate.so.1 (0xf7efc000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7e99000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7cc0000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7efe000)\r\n./q/l32/p.so\r\n\tlinux-gate.so.1 (0xf7f99000)\r\n\tlibpython3.6m.so.1.0 => /home/fred/python32/lib/libpython3.6m.so.1.0 (0xf7c5b000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7c01000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7a28000)\r\n\tlibdl.so.2 => /usr/lib32/libdl.so.2 (0xf7a23000)\r\n\tlibutil.so.1 => /usr/lib32/libutil.so.1 (0xf7a1f000)\r\n\tlibm.so.6 => /usr/lib32/libm.so.6 (0xf7954000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f9b000)\r\n./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n(pyq) $ file ./q/l32/p.so\r\n./q/l32/p.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=d2fea46124d386348f8579bc9f0fdac57ef63c99, with debug_info, not stripped\r\n(pyq) $ file ./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=e582499af36121b9881fbeb33fa56fd9971417e5, with debug_info, not stripped\r\npyq) $ ldd bin/pyq\r\n\tlinux-gate.so.1 (0xf7f1e000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7eba000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7ce1000)\r\n\t/lib/ld-linux.so.2 => /usr/lib/ld-linux.so.2 (0xf7f20000)\r\n```\r\nand sorry but not aware of any docker file for artix.\n\n---\n\n**abalkin**: This is odd.  Do you have the strace utility on your system? If you do, please run\r\n\r\n```\r\n$ strace -f -e open pyq --versions 2>&1 | grep pyq\r\n```\n\n---\n\n**abalkin**: One more question: what is your sys.executable?\r\n\r\n```\r\nq)p)import sys;print(sys.executable)\r\n```\n\n---\n\n**zorg613**: ```\r\npyq) $ strace -f -e open pyq --version 2>&1|grep pyq\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\nModuleNotFoundError: No module named 'pyq._k'\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n(pyq) $ q\r\nKDB+ 3.5 2017.11.30 Copyright (C) 1993-2017 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE  \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)import sys;print(sys.executable)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\\        ^\r\nq)p)import sys;print(sys.executable)\r\n/home/fred/pyq/bin/python3\r\n```\n\n---\n\n**zorg613**: I'm pretty sure it should be linked with this mix of both 64bits/32bits env...but don't really know how to fix it for the moment. I'll try to get a full 32bits environment to try again.\n\n---\n\n**sashkab**: @zorg613 This isn't strace output we expected to see â€” I don't see any strace output in your comment, actually. \r\n\r\nPlease uninstall pyq (`pip uninstall pyq`) and try again using following command. \r\n\r\n```sh\r\npip install --global-option=build_ext --global-option=\"-I/home/fred/python32/include\" --global-option=\"-L/home/fred/python32/lib\"  pyq\r\n```\r\n\r\nor you can try adding following into your activate script and re-activate your environment:\r\n\r\n```sh\r\nexport LDFLAGS=-L/home/fred/python32/lib\r\nexport CPPFLAGS=-I/home/fred/python32/include\r\n```\r\n\n\n---\n\n**zorg613**: sorry, my strace binary was for the native one, so normal that the trace gave nothing.\r\nI recompiled the strace package for 32bits and it gives this (after bin/pip3 uninstall pyq, after having added the  2 lines LDFLAGS= and CFLAGS= to my virtual env in bin/activate and after having resourced it and reinstall pyq with the global-option build_ext):\r\n```\r\n(pyq) $ env|grep FLAG\r\nCPPFLAGS=-I/home/fred/python32/include\r\nLDFLAGS=-L/home/fred/python32/lib\r\n(pyq) $ bin/pip uninstall pyq\r\nUninstalling pyq-4.1.3:\r\n  Would remove:\r\n    /home/fred/pyq/bin/ipyq\r\n    /home/fred/pyq/bin/pq\r\n    /home/fred/pyq/bin/pyq\r\n    /home/fred/pyq/bin/pyq-coverage\r\n    /home/fred/pyq/bin/pyq-runtests\r\n    /home/fred/pyq/bin/qp\r\n    /home/fred/pyq/lib/python3.6/site-packages/pyq-4.1.3-py3.6.egg-info\r\n    /home/fred/pyq/lib/python3.6/site-packages/pyq/*\r\n    /home/fred/pyq/q/l32/p.so\r\n    /home/fred/pyq/q/p.k\r\n    /home/fred/pyq/q/pyq-config.q\r\n    /home/fred/pyq/q/pyq-operators.q\r\n    /home/fred/pyq/q/python.q\r\nProceed (y/n)? y\r\n  Successfully uninstalled pyq-4.1.3\r\n(pyq) $ pip install -v --global-option=build_ext pyq\r\n/home/fred/pyq/lib/python3.6/site-packages/pip/_internal/commands/install.py:199: UserWarning: Disabling all use of wheels due to the use of --build-options / --global-options / --install-options.\r\n  cmdoptions.check_install_build_global(options)\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-upmaxxqo\r\nCreated temporary directory: /tmp/pip-install-53515xe1\r\nCollecting pyq\r\n  1 location(s) to search for versions of pyq:\r\n  * https://pypi.org/simple/pyq/\r\n  Getting page https://pypi.org/simple/pyq/\r\n  Looking up \"https://pypi.org/simple/pyq/\" in the cache\r\n  Current age based on date: 12\r\n  Freshness lifetime from max-age: 600\r\n  Freshness lifetime from request max-age: 600\r\n  The response is \"fresh\", returning cached response\r\n  600 > 12\r\n  Analyzing links from page https://pypi.org/simple/pyq/\r\n    Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n    Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n    Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n    Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Using version 4.1.3 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\n  Created temporary directory: /tmp/pip-unpack-2_f_c54p\r\n  Looking up \"https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\" in the cache\r\n  Ignoring unknown cache-control directive: \r\n  Current age based on date: 226432\r\n  Ignoring unknown cache-control directive: immutable\r\n  Freshness lifetime from max-age: 365000000\r\n  The response is \"fresh\", returning cached response\r\n  365000000 > 226432\r\n  Using cached https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\r\n  Downloading from URL https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/)\r\n  Running setup.py (path:/tmp/pip-install-53515xe1/pyq/setup.py) egg_info for package pyq\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-53515xe1/pyq has version 4.1.3, which satisfies requirement pyq from https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f\r\nSkipping bdist_wheel for pyq, due to binaries being disabled for it.\r\nInstalling collected packages: pyq\r\n  Created temporary directory: /tmp/pip-record-c9zifxx_\r\n  Running setup.py install for pyq ...     Running command /home/fred/pyq/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-53515xe1/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" build_ext install --record /tmp/pip-record-c9zifxx_/install-record.txt --single-version-externally-managed --compile --install-headers /home/fred/pyq/include/site/python3.6/pyq\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/src\r\n    creating build/temp.linux-x86_64-3.6/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -I/home/fred/python32/include -fPIC -DKXVER=3 -DKXVER2=5 -I/home/fred/python32/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/pyq\r\n    gcc -pthread -shared -m32 -m32 -L/home/fred/python32/lib -I/home/fred/python32/include build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/home/fred/python32/lib -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -m32\r\n    running install\r\n    running build\r\n    running build_py\r\n    copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n    creating build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    running build_scripts\r\n    creating build/scripts-3.6\r\n    copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n    copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n    copying src/scripts/ipyq -> build/scripts-3.6\r\n    copying src/scripts/pq -> build/scripts-3.6\r\n    copying src/scripts/qp -> build/scripts-3.6\r\n    changing mode of build/scripts-3.6/pyq-coverage from 644 to 755\r\n    changing mode of build/scripts-3.6/ipyq from 644 to 755\r\n    changing mode of build/scripts-3.6/pq from 644 to 755\r\n    changing mode of build/scripts-3.6/qp from 644 to 755\r\n    running build_qlib\r\n    creating build/qlib\r\n    copying src/pyq/python.q -> build/qlib\r\n    copying src/pyq/p.k -> build/qlib\r\n    copying src/pyq/pyq-operators.q -> build/qlib\r\n    running build_qext\r\n    creating build/temp.linux-x86_64\r\n    creating build/temp.linux-x86_64/src\r\n    creating build/temp.linux-x86_64/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -I/home/fred/python32/include -fPIC -DKXVER=3 -DKXVER2=5 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/qext.linux-x86_64\r\n    gcc -pthread -shared -m32 -m32 -L/home/fred/python32/lib -I/home/fred/python32/include build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so -m32\r\n    running build_exe\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -I/home/fred/python32/include -fPIC -DKXVER=3 -DQARCH=l32 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/exe.linux-x86_64-3.6\r\n    gcc -pthread -m32 src/pyq.o -o build/exe.linux-x86_64-3.6/pyq\r\n    running install_lib\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_no_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_ci.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_p.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_k.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pypath.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_python_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_threads.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_memoryview.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pyq_executable.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_com.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pathlib.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_sd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/conftest.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/cmd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_pt_run.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/ptk.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_version.py to test_version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_q.py to test_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_no_numpy.py to test_no_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_ci.py to test_ci.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_p.py to test_p.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_k.py to test_k.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_magic.py to test_magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pypath.py to test_pypath.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_python_q.py to test_python_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_n.py to test_n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_threads.py to test_threads.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_memoryview.py to test_memoryview.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pyq_executable.py to test_pyq_executable.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_com.py to test_com.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_numpy.py to test_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pathlib.py to test_pathlib.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_sd.py to test_sd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/magic.py to magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/conftest.py to conftest.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/cmd.py to cmd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/version.py to version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_n.py to _n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_pt_run.py to _pt_run.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/ptk.py to ptk.cpython-36.pyc\r\n    running install_data\r\n    copying src/pyq/p.k -> /home/fred/pyq/q\r\n    copying src/pyq/pyq-operators.q -> /home/fred/pyq/q\r\n    copying src/pyq/python.q -> /home/fred/pyq/q\r\n    copying build/qlib/pyq-config.q -> /home/fred/pyq/q\r\n    copying build/qext.linux-x86_64/p.so -> /home/fred/pyq/q/l32\r\n    running install_qlib\r\n    running install_qext\r\n    running install_exe\r\n    copying build/exe.linux-x86_64-3.6/pyq -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/pyq to 755\r\n    running install_egg_info\r\n    running egg_info\r\n    creating src/pyq.egg-info\r\n    writing src/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to src/pyq.egg-info/dependency_links.txt\r\n    writing requirements to src/pyq.egg-info/requires.txt\r\n    writing top-level names to src/pyq.egg-info/top_level.txt\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    Copying src/pyq.egg-info to /home/fred/pyq/lib/python3.6/site-packages/pyq-4.1.3-py3.6.egg-info\r\n    running install_scripts\r\n    copying build/scripts-3.6/qp -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/ipyq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-coverage -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-runtests -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/qp to 755\r\n    changing mode of /home/fred/pyq/bin/pq to 755\r\n    changing mode of /home/fred/pyq/bin/ipyq to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-coverage to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-runtests to 755\r\n    writing list of installed files to '/tmp/pip-record-c9zifxx_/install-record.txt'\r\ndone\r\n  Removing source in /tmp/pip-install-53515xe1/pyq\r\nSuccessfully installed pyq-4.1.3\r\nCleaning up...\r\n(pyq) $ \r\n(pyq) $ strace pyq -f -e open --versions 2>&1|grep pyq\r\nexecve(\"/home/fred/pyq/bin/pyq\", [\"pyq\", \"-f\", \"-e\", \"open\", \"--versions\"], 0x7fff9da39290 /* 52 vars */) = 0\r\nstat64(\"/home/fred/pyq/q/l32/pyq\", 0xfffa318c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/pyq\", {st_mode=S_IFREG|0755, st_size=24096, ...}) = 0\r\nexecve(\"/home/fred/pyq/q/l32/q\", [\"/home/fred/pyq/bin/pyq\", \"python.q\", \"-f@\", \"-e@\", \"open\", \"--versions\", \"-q\"], 0x578cd210 /* 53 vars */) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/k4.lic\", O_RDONLY|O_LARGEFILE) = -1 ENOENT (No such file or directory)\r\nlstat64(\"/home/fred/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q/q.k\", {st_mode=S_IFREG|0644, st_size=22780, ...}) = 0\r\nstat64(\"/home/fred/pyq/q/q.k\", {st_mode=S_IFREG|0644, st_size=22780, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/q.k\", O_RDONLY|O_LARGEFILE) = 3\r\ngetcwd(\"/home/fred/pyq\", 4096)          = 15\r\nlstat64(\"/home/fred/pyq/q.q\", 0xffc5105c) = -1 ENOENT (No such file or directory)\r\nlstat64(\"/home/fred/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q/q.q\", {st_mode=S_IFREG|0644, st_size=215, ...}) = 0\r\nstat64(\"/home/fred/pyq/q/q.q\", {st_mode=S_IFREG|0644, st_size=215, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/q.q\", O_RDONLY|O_LARGEFILE) = 3\r\ngetcwd(\"/home/fred/pyq\", 4096)          = 15\r\nlstat64(\"/home/fred/pyq/python.q\", 0xffc51e6c) = -1 ENOENT (No such file or directory)\r\nlstat64(\"/home/fred/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q/python.q\", {st_mode=S_IFREG|0755, st_size=309, ...}) = 0\r\nstat64(\"/home/fred/pyq/q/python.q\", {st_mode=S_IFREG|0755, st_size=309, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/python.q\", O_RDONLY|O_LARGEFILE) = 3\r\ngetcwd(\"/home/fred/pyq\", 4096)          = 15\r\nlstat64(\"/home/fred/pyq/p.k\", 0xffc5161c) = -1 ENOENT (No such file or directory)\r\nlstat64(\"/home/fred/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q/p.k\", {st_mode=S_IFREG|0644, st_size=507, ...}) = 0\r\nstat64(\"/home/fred/pyq/q/p.k\", {st_mode=S_IFREG|0644, st_size=507, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/p.k\", O_RDONLY|O_LARGEFILE) = 3\r\nread(3, \"\\\\l pyq-c\", 8)                 = 8\r\nread(3, \"\\\\l pyq-config.q\\n\\\\d .p\\nq)(`p 2:(`\"..., 507) = 507\r\ngetcwd(\"/home/fred/pyq\", 4096)          = 15\r\nlstat64(\"/home/fred/pyq/pyq-config.q\", 0xffc50dcc) = -1 ENOENT (No such file or directory)\r\nlstat64(\"/home/fred/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nlstat64(\"/home/fred/pyq/q/pyq-config.q\", {st_mode=S_IFREG|0644, st_size=108, ...}) = 0\r\nstat64(\"/home/fred/pyq/q/pyq-config.q\", {st_mode=S_IFREG|0644, st_size=108, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/pyq-config.q\", O_RDONLY|O_LARGEFILE) = 3\r\nopenat(AT_FDCWD, \"/home/fred/pyq/q/l32/p.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/q/l32/python3\", 0xffc3ecfc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/python3\", {st_mode=S_IFREG|0755, st_size=27260, ...}) = 0\r\nreadlink(\"/home/fred/pyq/bin/python3\", \"python3.6\", 4096) = 9\r\nreadlink(\"/home/fred/pyq/bin/python3.6\", 0xffc3dc7c, 4096) = -1 EINVAL (Invalid argument)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/bin/pyvenv.cfg\", O_RDONLY|O_LARGEFILE) = -1 ENOENT (No such file or directory)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/pyvenv.cfg\", O_RDONLY|O_LARGEFILE) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/Modules/Setup\", 0xffc3ecfc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/lib/python3.6/os.py\", 0xffc3ec2c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/lib/python3.6/os.pyc\", 0xffc3ec2c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/os.py\", {st_mode=S_IFREG|0644, st_size=37526, ...}) = 0\r\nstat64(\"/home/fred/pyq/bin/pybuilddir.txt\", 0xffc3ecfc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/bin/lib/python3.6/lib-dynload\", 0xffc3ecfc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python36.zip\", 0xffc4f53c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python36.zip\", 0xffc4e9cc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/__init__.cpython-36m-x86_64-linux-gnu.so\", 0xffc4ef4c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/__init__.abi3.so\", 0xffc4ef4c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/__init__.so\", 0xffc4ef4c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/__init__.py\", {st_mode=S_IFREG|0644, st_size=5642, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/__init__.py\", {st_mode=S_IFREG|0644, st_size=5642, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/encodings/__pycache__/__init__.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/codecs.py\", {st_mode=S_IFREG|0644, st_size=36276, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/codecs.py\", {st_mode=S_IFREG|0644, st_size=36276, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/codecs.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/encodings\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/aliases.py\", {st_mode=S_IFREG|0644, st_size=15577, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/aliases.py\", {st_mode=S_IFREG|0644, st_size=15577, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/encodings/__pycache__/aliases.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/utf_8.py\", {st_mode=S_IFREG|0644, st_size=1005, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/utf_8.py\", {st_mode=S_IFREG|0644, st_size=1005, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/encodings/__pycache__/utf_8.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/latin_1.py\", {st_mode=S_IFREG|0644, st_size=1264, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/encodings/latin_1.py\", {st_mode=S_IFREG|0644, st_size=1264, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/encodings/__pycache__/latin_1.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/io.py\", {st_mode=S_IFREG|0644, st_size=3517, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/io.py\", {st_mode=S_IFREG|0644, st_size=3517, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/io.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/abc.py\", {st_mode=S_IFREG|0644, st_size=8727, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/abc.py\", {st_mode=S_IFREG|0644, st_size=8727, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/abc.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_weakrefset.py\", {st_mode=S_IFREG|0644, st_size=5705, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_weakrefset.py\", {st_mode=S_IFREG|0644, st_size=5705, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/_weakrefset.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_bootlocale.py\", {st_mode=S_IFREG|0644, st_size=1301, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_bootlocale.py\", {st_mode=S_IFREG|0644, st_size=1301, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/_bootlocale.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site.py\", {st_mode=S_IFREG|0644, st_size=27543, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site.py\", {st_mode=S_IFREG|0644, st_size=27543, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/site.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/os.py\", {st_mode=S_IFREG|0644, st_size=37526, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/os.py\", {st_mode=S_IFREG|0644, st_size=37526, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/os.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/stat.py\", {st_mode=S_IFREG|0644, st_size=5038, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/stat.py\", {st_mode=S_IFREG|0644, st_size=5038, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/stat.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/posixpath.py\", {st_mode=S_IFREG|0644, st_size=15414, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/posixpath.py\", {st_mode=S_IFREG|0644, st_size=15414, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/posixpath.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/genericpath.py\", {st_mode=S_IFREG|0644, st_size=4756, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/genericpath.py\", {st_mode=S_IFREG|0644, st_size=4756, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/genericpath.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_collections_abc.py\", {st_mode=S_IFREG|0644, st_size=26392, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/_collections_abc.py\", {st_mode=S_IFREG|0644, st_size=26392, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/_collections_abc.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/orig-prefix.txt\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/no-global-site-packages.txt\", {st_mode=S_IFREG|0644, st_size=0, ...}) = 0\r\nstat64(\"/home/fred/pyq/local/lib64/python3.6/site-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/lib/python3.6/site-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/lib/site-python\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/python3.6/lib-dynload\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/local/lib/python3.6/dist-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/lib/python3/dist-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/lib/dist-python\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib64/python3.6/site-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/site-python\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/python3.6/lib-dynload\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/local/lib/python3.6/dist-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3/dist-packages\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/dist-python\", 0xffc4efbc) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.cpython-36m-x86_64-linux-gnu.so\", 0xffc4ee6c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.abi3.so\", 0xffc4ee6c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.so\", 0xffc4ee6c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", {st_mode=S_IFREG|0644, st_size=28310, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", {st_mode=S_IFREG|0644, st_size=28310, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__pycache__/__init__.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/__future__.py\", {st_mode=S_IFREG|0644, st_size=4841, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/__future__.py\", {st_mode=S_IFREG|0644, st_size=4841, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/__future__.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload/math.cpython-36m-x86_64-linux-gnu.so\", {st_mode=S_IFREG|0755, st_size=168872, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/math.cpython-36m-x86_64-linux-gnu.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload/_datetime.cpython-36m-x86_64-linux-gnu.so\", {st_mode=S_IFREG|0755, st_size=367276, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/_datetime.cpython-36m-x86_64-linux-gnu.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/__init__.cpython-36m-x86_64-linux-gnu.so\", 0xffc4db7c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/__init__.abi3.so\", 0xffc4db7c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/__init__.so\", 0xffc4db7c) = -1 ENOENT (No such file or directory)\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/__init__.py\", {st_mode=S_IFREG|0644, st_size=45812, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/__init__.py\", {st_mode=S_IFREG|0644, st_size=45812, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/collections/__pycache__/__init__.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/operator.py\", {st_mode=S_IFREG|0644, st_size=10863, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/operator.py\", {st_mode=S_IFREG|0644, st_size=10863, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/operator.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/keyword.py\", {st_mode=S_IFREG|0755, st_size=2211, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/keyword.py\", {st_mode=S_IFREG|0755, st_size=2211, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/keyword.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/heapq.py\", {st_mode=S_IFREG|0644, st_size=22929, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/heapq.py\", {st_mode=S_IFREG|0644, st_size=22929, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/heapq.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload/_heapq.cpython-36m-x86_64-linux-gnu.so\", {st_mode=S_IFREG|0755, st_size=51720, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/_heapq.cpython-36m-x86_64-linux-gnu.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/reprlib.py\", {st_mode=S_IFREG|0644, st_size=5336, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/reprlib.py\", {st_mode=S_IFREG|0644, st_size=5336, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/reprlib.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/site-packages/pyq\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages/pyq\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/re.py\", {st_mode=S_IFREG|0644, st_size=15552, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/re.py\", {st_mode=S_IFREG|0644, st_size=15552, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/re.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/enum.py\", {st_mode=S_IFREG|0644, st_size=33472, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/enum.py\", {st_mode=S_IFREG|0644, st_size=33472, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/enum.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/types.py\", {st_mode=S_IFREG|0644, st_size=8870, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/types.py\", {st_mode=S_IFREG|0644, st_size=8870, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/types.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/functools.py\", {st_mode=S_IFREG|0644, st_size=31142, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/functools.py\", {st_mode=S_IFREG|0644, st_size=31142, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/functools.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/weakref.py\", {st_mode=S_IFREG|0644, st_size=20466, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/weakref.py\", {st_mode=S_IFREG|0644, st_size=20466, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/weakref.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/collections\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_CLOEXEC|O_DIRECTORY) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/abc.py\", {st_mode=S_IFREG|0644, st_size=68, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/collections/abc.py\", {st_mode=S_IFREG|0644, st_size=68, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/collections/__pycache__/abc.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_compile.py\", {st_mode=S_IFREG|0644, st_size=19338, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_compile.py\", {st_mode=S_IFREG|0644, st_size=19338, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/sre_compile.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_parse.py\", {st_mode=S_IFREG|0644, st_size=36536, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_parse.py\", {st_mode=S_IFREG|0644, st_size=36536, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/sre_parse.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_constants.py\", {st_mode=S_IFREG|0644, st_size=6821, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/sre_constants.py\", {st_mode=S_IFREG|0644, st_size=6821, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/sre_constants.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/copyreg.py\", {st_mode=S_IFREG|0644, st_size=7007, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/copyreg.py\", {st_mode=S_IFREG|0644, st_size=7007, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/copyreg.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/warnings.py\", {st_mode=S_IFREG|0644, st_size=18488, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/warnings.py\", {st_mode=S_IFREG|0644, st_size=18488, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/warnings.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload/_posixsubprocess.cpython-36m-x86_64-linux-gnu.so\", {st_mode=S_IFREG|0755, st_size=60336, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/_posixsubprocess.cpython-36m-x86_64-linux-gnu.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload/select.cpython-36m-x86_64-linux-gnu.so\", {st_mode=S_IFREG|0755, st_size=78072, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/select.cpython-36m-x86_64-linux-gnu.so\", O_RDONLY|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/lib-dynload\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/linecache.py\", {st_mode=S_IFREG|0644, st_size=5312, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/linecache.py\", {st_mode=S_IFREG|0644, st_size=5312, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/linecache.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/tokenize.py\", {st_mode=S_IFREG|0644, st_size=28959, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/tokenize.py\", {st_mode=S_IFREG|0644, st_size=28959, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/tokenize.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nstat64(\"/home/fred/pyq/lib/python3.6\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/token.py\", {st_mode=S_IFREG|0644, st_size=3075, ...}) = 0\r\nstat64(\"/home/fred/pyq/lib/python3.6/token.py\", {st_mode=S_IFREG|0644, st_size=3075, ...}) = 0\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/__pycache__/token.cpython-36.pyc\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python36.zip/<string>\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = -1 ENOENT (No such file or directory)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/<string>\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = -1 ENOENT (No such file or directory)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/lib-dynload/<string>\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = -1 ENOENT (No such file or directory)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages/<string>\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = -1 ENOENT (No such file or directory)\r\nopenat(AT_FDCWD, \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 3\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\nModuleNotFoundError: No module named 'pyq._k'\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n(pyq) $ \r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 6991,
    "metadata": {
      "issue_number": 68,
      "state": "closed",
      "labels": [
        "linux"
      ],
      "comments_count": 32,
      "created_at": "2018-05-28T04:23:58Z",
      "updated_at": "2018-05-31T12:43:50Z",
      "closed_at": "2018-05-31T11:10:14Z",
      "author": "zorg613",
      "top_comments": [
        "**abalkin**: Please reinstall pyq in verbose mode:\r\n\r\n```\r\n$ pip install -v -U pyq\r\n```\r\n\r\nand find out where the pyq package gets installed.\r\n\r\nAre you able to run simple Python commands at the q prompt:\r\n\r\n```\r\nq)p)print(42)\r\n```\r\n\r\nIf the above works (prints 42), please check the sys.path:\r\n\r\n```\r\nq)p)import sys\r\nq)p)print(sys.path)\r\n```\r\n",
        "**zorg613**: ```\r\n$ export QHOME=$HOME/pyq/q\r\n$ export PATH=$QHOME/l32:$PATH\r\n$ cd $HOME/pyq\r\n$ source bin/activate\r\n(pyq) $ pip3 install -v -U pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-hwt3mxux\r\nCreated temporary directory: /tmp/pip-install-jxfssc6u\r\n1 location(s) to search for versions of pyq:\r\n* https://pypi.org/simple/pyq/\r\nGetting page https://pypi.org/simple/pyq/\r\nLooking up \"https://pypi.org/simple/pyq/\" in the cache\r\nCurrent age based on date: 479\r\nFreshness lifetime from max-age: 600\r\nFreshness lifetime from request max-age: 600\r\nThe response is \"fresh\", returning cached response\r\n600 > 479\r\nAnalyzing links from page https://pypi.org/simple/pyq/\r\n  Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n  Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n  Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n  Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n  Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\nInstalled version (4.1.3) is most up-to-date (past versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\nRequirement already up-to-date: pyq in ./lib/python3.6/site-packages (4.1.3)\r\nCleaning up...\r\n(pyq) $ q\r\nKDB+ 3.6 2018.05.17 Copyright (C) 1993-2018 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(42)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n  )\\\r\nq)p)print(42)\r\n42\r\nq)p)import sys\r\nq)p)print(sys.path)\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\nq)\r\n```\r\nsame result after uninstalling, cleaned de wheel and redone the install with pip:\r\n```\r\n(pyq) $ pip3 install -v pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-gfswc9ps\r\nCreated temporary directory: /tmp/pip-install-mcu93nuo\r\nCollecting pyq\r\n  1 location(s) to search for versions of pyq:\r\n  * https://pypi.org/simple/pyq/\r\n  Getting page https://pypi.org/simple/pyq/\r\n  Looking up \"https://pypi.org/simple/pyq/\" in the cache\r\n  Current age based on date: 128\r\n  Freshness lifetime from max-age: 600\r\n  Freshness lifetime from request max-age: 600\r\n  The response is \"fresh\", returning cached response\r\n  600 > 128\r\n  Analyzing links from page https://pypi.org/simple/pyq/\r\n    Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n    Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n    Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); it is not compatible with this Python\r\n    Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n    Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Using version 4.1.3 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\n  Created temporary directory: /tmp/pip-unpack-doc8phqy\r\n  Looking up \"https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\" in the cache\r\n  Ignoring unknown cache-control directive:\r\n  Current age based on date: 90832\r\n  Ignoring unknown cache-control directive: immutable\r\n  Freshness lifetime from max-age: 365000000\r\n  The response is \"fresh\", returning cached response\r\n  365000000 > 90832\r\n  Using cached https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\r\n  Downloading from URL https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/)\r\n  Running setup.py (path:/tmp/pip-install-mcu93nuo/pyq/setup.py) egg_info for package pyq\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-mcu93nuo/pyq has version 4.1.3, which satisfies requirement pyq from https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f\r\nBuilding wheels for collected packages: pyq\r\n  Created temporary directory: /tmp/pip-wheel-rv4vmgbi\r\n  Running setup.py bdist_wheel for pyq ...   Destination directory: /tmp/pip-wheel-rv4vmgbi\r\n  Running command /home/fred/pyq/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-mcu93nuo/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-rv4vmgbi --python-tag cp36\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n  copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n  creating build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n  running build_ext\r\n  building 'pyq._k' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/src\r\n  creating build/temp.linux-x86_64-3.6/src/pyq\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=6 -I/home/fred/python32/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/home/fred/python32/lib -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -m32\r\n  running build_scripts\r\n  creating build/scripts-3.6\r\n  copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n  copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n  copying src/scripts/ipyq -> build/scripts-3.6\r\n  copying src/scripts/pq -> build/scripts-3.6\r\n  copying src/scripts/qp -> build/scripts-3.6\r\n  changing mode of build/scripts-3.6/pyq-coverage from 644 to 755\r\n  changing mode of build/scripts-3.6/ipyq from 644 to 755\r\n  changing mode of build/scripts-3.6/pq from 644 to 755\r\n  changing mode of build/scripts-3.6/qp from 644 to 755\r\n  running build_qlib\r\n  creating build/qlib\r\n  copying src/pyq/python.q -> build/qlib\r\n  copying src/pyq/p.k -> build/qlib\r\n  copying src/pyq/pyq-operators.q -> build/qlib\r\n  running build_qext\r\n  creating build/temp.linux-x86_64\r\n  creating build/temp.linux-x86_64/src\r\n  creating build/temp.linux-x86_64/src/pyq\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=6 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  creating build/qext.linux-x86_64\r\n  gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so -m32\r\n  running build_exe\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DQARCH=l32 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n  creating build/exe.linux-x86_64-3.6\r\n  gcc -pthread -m32 src/pyq.o -o build/exe.linux-x86_64-3.6/pyq\r\n  installing to build/bdist.linux-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  creating build/bdist.linux-x86_64\r\n  creating build/bdist.linux-x86_64/wheel\r\n  creating build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -> build/bdist.linux-x86_64/wheel/pyq\r\n  creating build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_version.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_q.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_no_numpy.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_ci.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/__init__.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_p.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_k.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_magic.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pypath.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_python_q.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_n.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_threads.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_memoryview.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pyq_executable.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_com.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_numpy.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_pathlib.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/tests/test_sd.py -> build/bdist.linux-x86_64/wheel/pyq/tests\r\n  copying build/lib.linux-x86_64-3.6/pyq/magic.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/conftest.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/cmd.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/version.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_n.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/_pt_run.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/__init__.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  copying build/lib.linux-x86_64-3.6/pyq/ptk.py -> build/bdist.linux-x86_64/wheel/pyq\r\n  running install_data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/p.k -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/pyq-operators.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying src/pyq/python.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  copying build/qlib/pyq-config.q -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q/l32\r\n  copying build/qext.linux-x86_64/p.so -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/data/q/l32\r\n  running install_qlib\r\n  copying build/qlib/pyq-operators.q -> /home/fred/pyq/q\r\n  copying build/qlib/p.k -> /home/fred/pyq/q\r\n  copying build/qlib/python.q -> /home/fred/pyq/q\r\n  copying build/qlib/pyq-config.q -> /home/fred/pyq/q\r\n  running install_qext\r\n  copying build/qext.linux-x86_64/p.so -> /home/fred/pyq/q/l32\r\n  running install_exe\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/exe.linux-x86_64-3.6/pyq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq to 755\r\n  running install_egg_info\r\n  running egg_info\r\n  creating src/pyq.egg-info\r\n  writing src/pyq.egg-info/PKG-INFO\r\n  writing dependency_links to src/pyq.egg-info/dependency_links.txt\r\n  writing requirements to src/pyq.egg-info/requires.txt\r\n  writing top-level names to src/pyq.egg-info/top_level.txt\r\n  writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  reading manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n  Copying src/pyq.egg-info to build/bdist.linux-x86_64/wheel/pyq-4.1.3-py3.6.egg-info\r\n  running install_scripts\r\n  copying build/scripts-3.6/qp -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/ipyq -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pyq-coverage -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  copying build/scripts-3.6/pyq-runtests -> build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/qp to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pq to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/ipyq to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq-coverage to 755\r\n  changing mode of build/bdist.linux-x86_64/wheel/pyq-4.1.3.data/scripts/pyq-runtests to 755\r\n  creating build/bdist.linux-x86_64/wheel/pyq-4.1.3.dist-info/WHEEL\r\n  creating '/tmp/pip-wheel-rv4vmgbi/pyq-4.1.3-cp36-cp36m-linux_i686.whl' and adding '.' to it\r\n  adding 'pyq/__init__.py'\r\n  adding 'pyq/_k.cpython-36m-i386-linux-gnu.so'\r\n  adding 'pyq/_n.py'\r\n  adding 'pyq/_pt_run.py'\r\n  adding 'pyq/cmd.py'\r\n  adding 'pyq/conftest.py'\r\n  adding 'pyq/magic.py'\r\n  adding 'pyq/ptk.py'\r\n  adding 'pyq/version.py'\r\n  adding 'pyq/tests/__init__.py'\r\n  adding 'pyq/tests/test_ci.py'\r\n  adding 'pyq/tests/test_com.py'\r\n  adding 'pyq/tests/test_k.py'\r\n  adding 'pyq/tests/test_magic.py'\r\n  adding 'pyq/tests/test_memoryview.py'\r\n  adding 'pyq/tests/test_n.py'\r\n  adding 'pyq/tests/test_no_numpy.py'\r\n  adding 'pyq/tests/test_numpy.py'\r\n  adding 'pyq/tests/test_p.py'\r\n  adding 'pyq/tests/test_pathlib.py'\r\n  adding 'pyq/tests/test_pypath.py'\r\n  adding 'pyq/tests/test_pyq_executable.py'\r\n  adding 'pyq/tests/test_python_q.py'\r\n  adding 'pyq/tests/test_q.py'\r\n  adding 'pyq/tests/test_sd.py'\r\n  adding 'pyq/tests/test_threads.py'\r\n  adding 'pyq/tests/test_version.py'\r\n  adding 'pyq-4.1.3.data/data/q/p.k'\r\n  adding 'pyq-4.1.3.data/data/q/pyq-config.q'\r\n  adding 'pyq-4.1.3.data/data/q/pyq-operators.q'\r\n  adding 'pyq-4.1.3.data/data/q/python.q'\r\n  adding 'pyq-4.1.3.data/data/q/l32/p.so'\r\n  adding 'pyq-4.1.3.data/scripts/ipyq'\r\n  adding 'pyq-4.1.3.data/scripts/pq'\r\n  adding 'pyq-4.1.3.data/scripts/pyq'\r\n  adding 'pyq-4.1.3.data/scripts/pyq-coverage'\r\n  adding 'pyq-4.1.3.data/scripts/pyq-runtests'\r\n  adding 'pyq-4.1.3.data/scripts/qp'\r\n  adding 'pyq-4.1.3.dist-info/top_level.txt'\r\n  adding 'pyq-4.1.3.dist-info/WHEEL'\r\n  adding 'pyq-4.1.3.dist-info/METADATA'\r\n  adding 'pyq-4.1.3.dist-info/RECORD'\r\n  removing build/bdist.linux-x86_64/wheel\r\ndone\r\n  Stored in directory: /home/fred/.cache/pip/wheels/81/72/5d/e1dc2882bcf5959062733c877f5edfda9422faebaf32d3ab65\r\n  Removing source in /tmp/pip-install-mcu93nuo/pyq\r\nSuccessfully built pyq\r\nInstalling collected packages: pyq\r\n\r\nSuccessfully installed pyq-4.1.3\r\nCleaning up...\r\n(pyq) $ q\r\nKDB+ 3.6 2018.05.17 Copyright (C) 1993-2018 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(42)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\\\r\nq)p)import sys; print(sys.path);\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\n```",
        "**abalkin**: It looks like regular install does not show the target for the pya package.  Please uninstall and look for the line with `site-packages/pyq/_k.cpython-36m-*.so` in it.  The expected full path is\r\n\r\n```\r\n/home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-*.so\r\n```\r\n\r\nNow reinstall with\r\n\r\n```\r\n(pyq) $ pip3 install -v --no-binary pyq pyq\r\n```\r\n\r\nFrom what I can see so far, you are getting a correct sys.path, so we need to to figure out why you don't have a working `_k.cpython-36m-*.so` in `/site-packages/pyq`.\r\n\r\nI have not used Artix Linux before, but I can try it in Docker if you can point me to the appropriate Docker file.",
        "**zorg613**: ```\r\n(pyq) $ file /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n/home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=4e05656ceac9e576d501713ac62ce8830389c4f5, with debug_info, not stripped\r\n(pyq) $ ldd /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n\tlinux-gate.so.1 (0xf7f4f000)\r\n\tlibpython3.6m.so.1.0 => not found\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7ed5000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7cfc000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f51000)\r\n(pyq) $ export LD_LIBRARY_PATH=/home/fred/python32/lib/\r\n(pyq) $ ldd /home/fred/pyq/lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n\tlinux-gate.so.1 (0xf7f0e000)\r\n\tlibpython3.6m.so.1.0 => /home/fred/python32/lib/libpython3.6m.so.1.0 (0xf7bd0000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7b76000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf799d000)\r\n\tlibdl.so.2 => /usr/lib32/libdl.so.2 (0xf7998000)\r\n\tlibutil.so.1 => /usr/lib32/libutil.so.1 (0xf7994000)\r\n\tlibm.so.6 => /usr/lib32/libm.so.6 (0xf78c9000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f10000)\r\n```\r\nSo, I tought we found it so, adapted the bin/activate with this and resourced it\r\n```\r\n$ tail -5 pyq/bin/activate\r\nexport QHOME=$VIRTUAL_ENV/q\r\nexport PATH=$QHOME/l32:$PATH\r\nexport LD_LIBRARY_PATH=/home/fred/python32/lib\r\nalias q 2>/dev/null >/dev/null && unalias q\r\ncd $VIRTUAL_ENV\r\n```\r\nbut even with a reinstall with pip3 -v install --no-binary pyq pyq, I've got the same result. \r\n```\r\n(pyq) $ bin/pip3 install -v --no-binary pyq pyq\r\nCreated temporary directory: /tmp/pip-ephem-wheel-cache-cbvpquyc\r\nCreated temporary directory: /tmp/pip-install-8m8woa89\r\nCollecting pyq\r\n  1 location(s) to search for versions of pyq:\r\n  * https://pypi.org/simple/pyq/\r\n  Getting page https://pypi.org/simple/pyq/\r\n  Looking up \"https://pypi.org/simple/pyq/\" in the cache\r\n  Current age based on date: 67\r\n  Freshness lifetime from max-age: 600\r\n  Freshness lifetime from request max-age: 600\r\n  The response is \"fresh\", returning cached response\r\n  600 > 67\r\n  Analyzing links from page https://pypi.org/simple/pyq/\r\n    Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246f485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n    Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41d2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n    Skipping link https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Skipping link https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/); No binaries permitted for pyq\r\n    Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n    Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Using version 4.1.3 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3)\r\n  Created temporary directory: /tmp/pip-unpack-jk1zoyqg\r\n  Looking up \"https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\" in the cache\r\n  Ignoring unknown cache-control directive: \r\n  Current age based on date: 152526\r\n  Ignoring unknown cache-control directive: immutable\r\n  Freshness lifetime from max-age: 365000000\r\n  The response is \"fresh\", returning cached response\r\n  365000000 > 152526\r\n  Using cached https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz\r\n  Downloading from URL https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f (from https://pypi.org/simple/pyq/)\r\n  Running setup.py (path:/tmp/pip-install-8m8woa89/pyq/setup.py) egg_info for package pyq\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n  Source in /tmp/pip-install-8m8woa89/pyq has version 4.1.3, which satisfies requirement pyq from https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d13a2a02f\r\nSkipping bdist_wheel for pyq, due to binaries being disabled for it.\r\nInstalling collected packages: pyq\r\n  Created temporary directory: /tmp/pip-record-k1lj7_0j\r\n  Running setup.py install for pyq ...     Running command /home/fred/pyq/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8m8woa89/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-k1lj7_0j/install-record.txt --single-version-externally-managed --compile --install-headers /home/fred/pyq/include/site/python3.6/pyq\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n    creating build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/src\r\n    creating build/temp.linux-x86_64-3.6/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=5 -I/home/fred/python32/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/home/fred/python32/lib -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -m32\r\n    running build_scripts\r\n    creating build/scripts-3.6\r\n    copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n    copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n    copying src/scripts/ipyq -> build/scripts-3.6\r\n    copying src/scripts/pq -> build/scripts-3.6\r\n    copying src/scripts/qp -> build/scripts-3.6\r\n    changing mode of build/scripts-3.6/pyq-coverage from 644 to 755\r\n    changing mode of build/scripts-3.6/ipyq from 644 to 755\r\n    changing mode of build/scripts-3.6/pq from 644 to 755\r\n    changing mode of build/scripts-3.6/qp from 644 to 755\r\n    running build_qlib\r\n    creating build/qlib\r\n    copying src/pyq/python.q -> build/qlib\r\n    copying src/pyq/p.k -> build/qlib\r\n    copying src/pyq/pyq-operators.q -> build/qlib\r\n    running build_qext\r\n    creating build/temp.linux-x86_64\r\n    creating build/temp.linux-x86_64/src\r\n    creating build/temp.linux-x86_64/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DKXVER2=5 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/qext.linux-x86_64\r\n    gcc -pthread -shared -m32 -m32 build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so -m32\r\n    running build_exe\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -m32 -m32 -fPIC -DKXVER=3 -DQARCH=l32 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing -m32\r\n    creating build/exe.linux-x86_64-3.6\r\n    gcc -pthread -m32 src/pyq.o -o build/exe.linux-x86_64-3.6/pyq\r\n    running install_lib\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-i386-linux-gnu.so -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    creating /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_no_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_ci.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_p.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_k.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pypath.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_python_q.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_threads.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_memoryview.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pyq_executable.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_com.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_numpy.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_pathlib.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/tests/test_sd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq/tests\r\n    copying build/lib.linux-x86_64-3.6/pyq/magic.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/conftest.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/cmd.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/version.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_n.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/_pt_run.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/__init__.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    copying build/lib.linux-x86_64-3.6/pyq/ptk.py -> /home/fred/pyq/lib/python3.6/site-packages/pyq\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_version.py to test_version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_q.py to test_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_no_numpy.py to test_no_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_ci.py to test_ci.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_p.py to test_p.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_k.py to test_k.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_magic.py to test_magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pypath.py to test_pypath.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_python_q.py to test_python_q.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_n.py to test_n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_threads.py to test_threads.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_memoryview.py to test_memoryview.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pyq_executable.py to test_pyq_executable.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_com.py to test_com.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_numpy.py to test_numpy.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_pathlib.py to test_pathlib.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/tests/test_sd.py to test_sd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/magic.py to magic.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/conftest.py to conftest.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/cmd.py to cmd.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/version.py to version.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_n.py to _n.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/_pt_run.py to _pt_run.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py to __init__.cpython-36.pyc\r\n    byte-compiling /home/fred/pyq/lib/python3.6/site-packages/pyq/ptk.py to ptk.cpython-36.pyc\r\n    running install_data\r\n    copying src/pyq/p.k -> /home/fred/pyq/q\r\n    copying src/pyq/pyq-operators.q -> /home/fred/pyq/q\r\n    copying src/pyq/python.q -> /home/fred/pyq/q\r\n    copying build/qlib/pyq-config.q -> /home/fred/pyq/q\r\n    copying build/qext.linux-x86_64/p.so -> /home/fred/pyq/q/l32\r\n    running install_qlib\r\n    running install_qext\r\n    running install_exe\r\n    copying build/exe.linux-x86_64-3.6/pyq -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/pyq to 755\r\n    running install_egg_info\r\n    running egg_info\r\n    creating src/pyq.egg-info\r\n    writing src/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to src/pyq.egg-info/dependency_links.txt\r\n    writing requirements to src/pyq.egg-info/requires.txt\r\n    writing top-level names to src/pyq.egg-info/top_level.txt\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    reading manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    writing manifest file 'src/pyq.egg-info/SOURCES.txt'\r\n    Copying src/pyq.egg-info to /home/fred/pyq/lib/python3.6/site-packages/pyq-4.1.3-py3.6.egg-info\r\n    running install_scripts\r\n    copying build/scripts-3.6/qp -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/ipyq -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-coverage -> /home/fred/pyq/bin\r\n    copying build/scripts-3.6/pyq-runtests -> /home/fred/pyq/bin\r\n    changing mode of /home/fred/pyq/bin/qp to 755\r\n    changing mode of /home/fred/pyq/bin/pq to 755\r\n    changing mode of /home/fred/pyq/bin/ipyq to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-coverage to 755\r\n    changing mode of /home/fred/pyq/bin/pyq-runtests to 755\r\n    writing list of installed files to '/tmp/pip-record-k1lj7_0j/install-record.txt'\r\ndone\r\n  Removing source in /tmp/pip-install-8m8woa89/pyq\r\nSuccessfully installed pyq-4.1.3\r\nCleaning up...\r\n(pyq) $ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'2018.05.29T23:19:00.323 python\r\n(pyq) $ q\r\nKDB+ 3.5 2017.11.30 Copyright (C) 1993-2017 Kx Systems\r\nl32/ 4()core 5813MB fred jumperpro3 127.0.0.1 NONEXPIRE  \r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nq)p)print(12)\r\nTraceback (most recent call last):\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/fred/pyq/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n  )\\\r\nq)p)import sys;print(sys.path)\r\n['/home/fred/pyq/lib/python36.zip', '/home/fred/pyq/lib/python3.6', '/home/fred/pyq/lib/python3.6/lib-dynload', '/home/fred/python32/lib/python3.6', '/home/fred/pyq/lib/python3.6/site-packages']\r\n\r\n```\r\nyou could see that I even tried with q version 3.5 but no change.\r\ngeneral info about found *.so:\r\n```\r\n(pyq) $ find . -name \\*.so -exec ldd {} ';' -print\r\n\tlinux-gate.so.1 (0xf7efc000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7e99000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7cc0000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7efe000)\r\n./q/l32/p.so\r\n\tlinux-gate.so.1 (0xf7f99000)\r\n\tlibpython3.6m.so.1.0 => /home/fred/python32/lib/libpython3.6m.so.1.0 (0xf7c5b000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7c01000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7a28000)\r\n\tlibdl.so.2 => /usr/lib32/libdl.so.2 (0xf7a23000)\r\n\tlibutil.so.1 => /usr/lib32/libutil.so.1 (0xf7a1f000)\r\n\tlibm.so.6 => /usr/lib32/libm.so.6 (0xf7954000)\r\n\t/usr/lib/ld-linux.so.2 (0xf7f9b000)\r\n./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n(pyq) $ file ./q/l32/p.so\r\n./q/l32/p.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=d2fea46124d386348f8579bc9f0fdac57ef63c99, with debug_info, not stripped\r\n(pyq) $ file ./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so\r\n./lib/python3.6/site-packages/pyq/_k.cpython-36m-i386-linux-gnu.so: ELF 32-bit LSB pie executable Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=e582499af36121b9881fbeb33fa56fd9971417e5, with debug_info, not stripped\r\npyq) $ ldd bin/pyq\r\n\tlinux-gate.so.1 (0xf7f1e000)\r\n\tlibpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf7eba000)\r\n\tlibc.so.6 => /usr/lib32/libc.so.6 (0xf7ce1000)\r\n\t/lib/ld-linux.so.2 => /usr/lib/ld-linux.so.2 (0xf7f20000)\r\n```\r\nand sorry but not aware of any docker file for artix.",
        "**abalkin**: This is odd.  Do you have the strace utility on your system? If you do, please run\r\n\r\n```\r\n$ strace -f -e open pyq --versions 2>&1 | grep pyq\r\n```"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-a453ae93c936",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/76",
    "title": "Error importing SSL in PyQ",
    "text": "# Error importing SSL in PyQ\n\nHi,\r\n\r\nI am getting a ssl import error when importing _ssl using PyQ. Please see the error below.\r\n\r\nimport _ssl\r\n\r\nImportError: <path>/lib/python3.6/lib-dynload/_ssl.cpython-36m-x86_64-linux-gnu.so: undefined symbol: SSL_CTX_set_alpn_protos\r\n\r\nI don't have the same issue if I were to use Python executable directly to run my code while keeping all environment variable the same. Are you seeing the same issue in the past? Just wondering if any SSL library is overridden in PyQ?\r\n\r\nThanks\r\n\r\nJeffrey\r\n\r\n\n\n## Top Comments\n\n**abalkin**: Dear Jeffrey,\r\n\r\nUnfortunately you ignored the questionnaire in the issue template and told us nothing about your system.\r\n\r\nFrom the little information that you gave, it looks like you've installed PyQ in a system location without using a virtual environment.  While such configuration may work, it usually requires substantial expertise to get right.  For this reason we strongly recommend using a virtual environment.\r\n\r\nAs for your question, no PyQ does not override the SSL library.  You can find out which library is used by PyQ as follows:\r\n\r\n```sh\r\n$ ldd $(pyq -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n\tlibssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f87048a8000)\r\n```\r\n\r\nIf the same command with pyq replaced by python gives a different result - you have a misconfiguration.\r\n\r\nCan you post the output of the following commands:\r\n\r\n```sh\r\nldd $(which python)\r\n```\r\n\r\nand\r\n\r\n```sh\r\ncat $QHOME/pyq-config.q\r\n```\r\n\r\nwhere `$QHOME` is the location of your kdb+ installation.\r\n \n\n---\n\n**jljs**: Apologize for my under specification. Please see my system setup below.\r\n\r\nWhich operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nRed Hat Enterprise Linux Server release 6.9 (Santiago)\r\n\r\nWhich version of PyQ are you running? You can use pyq --versions or pip list | grep pyq.\r\n\r\nPyQ 4.1.3\r\nWhich version of kdb+ are you using, is it 32-bit or 64-bit?\r\nKDB+ 3.4 (2016.10.10) l64\r\nIf on 64-bit, is your QLIC set? Please provide output env | grep QLIC on linux/macOS, or set|grep QLIC on Windows.\r\nQLIC=/opt/kx/3.4\r\nDid you use virtual environment to install PyQ? If not, why?\r\n\r\nYes with Anaconda\r\n\r\nWhere is your QHOME? Please provide output env | grep QHOME on linux/macOS, or set|grep QHOME on Windows.\r\n\r\nQHOME=/opt/kx/3.4\r\nDo you use Conda? If so, what version?\r\n\r\nYes. conda 3.14.1\r\n\r\n-----------------------------------------------------------------------------------------------\r\n\r\nHi,\r\n\r\nI'm am using Conda as my virtual environment. \r\n\r\nthe output of \r\n\r\n**ldd $(which python)**\r\n\r\nis\r\n\r\n(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which python)\r\n        linux-vdso.so.1 =>  (0x00007fff87d6c000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n\r\n**cat $QHOME/pyq-config.q**\r\n\r\nis\r\n\r\n\\d .p\r\npython_dll:\"/home/svc_tpmdb_research/.conda/envs/py36an440/bin/../lib/libpython3.6m.so.1.0\\000\"\r\npyq_executable:\"/home/svc_tpmdb_research/.conda/envs/py36an440/bin/pyq\"\r\n\r\n**$QHOME location**\r\n\r\n/opt/kx/3.4\n\n---\n\n**jljs**: More information as I dig into this more. I found some difference when running the following two commands.\r\n\r\n**(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which ~/.conda/envs/py36an440/bin/python3.6_org)**\r\n        linux-vdso.so.1 =>  (0x00007ffd251e2000)\r\n        libpython3.6m.so.1.0 => /home/svc_tpmdb_research/.conda/envs/py36an440/bin/../lib/libpython3.6m.so.1.0 (0x00007fa5978b2000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libdl.so.2 => /lib64/libdl.so.2 (0x0000003df9800000)\r\n        libutil.so.1 => /lib64/libutil.so.1 (0x0000003dfac00000)\r\n        librt.so.1 => /lib64/librt.so.1 (0x0000003dfa000000)\r\n        libm.so.6 => /lib64/libm.so.6 (0x0000003dfa400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n**(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which pyq)**\r\n        linux-vdso.so.1 =>  (0x00007ffee79c9000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n\n\n---\n\n**abalkin**: Before we spend more time troubleshooting, since you are using conda, you may want to try our recently released conda package:\r\n\r\n```sh\r\nconda install -c enlnt -c kx pyq\r\n```\r\n\n\n---\n\n**abalkin**: Did you try\r\n\r\n```sh\r\nldd $(pyq -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n```\r\n\r\nand compare it with\r\n\r\n```sh\r\nldd $(python -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n```\r\n\r\n?\r\n\r\nNote that `ldd $(which pyq)` is rather pointless because pyq is just glorified `exec q python.q`.\n\n---\n\n**jljs**: Yes and I see the following differences.\r\n\r\n**ldd $(pyq -c \"import _ssl;print(_ssl.__file__)\")| grep libssl**\r\n\r\nlinux-vdso.so.1 => (0x00007ffee79c9000)\r\nlibpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\nlibc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n/lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n\r\nand compare it with\r\n\r\n**ldd $(python -c \"import _ssl;print(_ssl.__file__)\")| grep libssl**\r\nlinux-vdso.so.1 => (0x00007ffd251e2000)\r\nlibpython3.6m.so.1.0 => /home/svc_tpmdb_research/.conda/envs/py36an440/bin/../lib/libpython3.6m.so.1.0 (0x00007fa5978b2000)\r\nlibpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\nlibdl.so.2 => /lib64/libdl.so.2 (0x0000003df9800000)\r\nlibutil.so.1 => /lib64/libutil.so.1 (0x0000003dfac00000)\r\nlibrt.so.1 => /lib64/librt.so.1 (0x0000003dfa000000)\r\nlibm.so.6 => /lib64/libm.so.6 (0x0000003dfa400000)\r\nlibc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n/lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n\r\nNote that ldd $(which pyq) is rather pointless because pyq is just glorified exec q python.q.\n\n---\n\n**abalkin**: OK, now, let's see the paths to _ssl:\r\n\r\n```sh\r\npyq -c \"import _ssl;print(_ssl.__file__)\"\r\n```\r\n\r\nand\r\n\r\n```sh\r\npython -c \"import _ssl;print(_ssl.__file__)\"\r\n```\r\n\r\nbut I already suspect that the problem is with your QHOME location.  We recommend setting QHOME to $CONDA_PREFIX/q.\r\n\r\nYou should still be able to fix your setup by setting PYTHONHOME and/or PYTHONPATH. \n\n---\n\n**jljs**: Not able to get the path to _ssl for pyq due to import error. But the path to _ssl for python is below\r\n\r\n/home/svc_tpmdb_research/.conda/envs/py36an440/lib/python3.6/lib-dynload/_ssl.cpython-36m-x86_64-linux-gnu.so\r\n\n\n---\n\n**jljs**: What is your $CONDA_PREFIX set to? I don't have this variable defined in my env.\n\n---\n\n**abalkin**: If you don't have CONDA_PREFIX set - you don't have an activated conda env.  Did you run conda activate command?  Please consult conda documentation.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 784,
    "metadata": {
      "issue_number": 76,
      "state": "closed",
      "labels": [],
      "comments_count": 28,
      "created_at": "2018-07-06T13:22:31Z",
      "updated_at": "2018-07-09T16:41:52Z",
      "closed_at": "2018-07-09T16:41:52Z",
      "author": "jljs",
      "top_comments": [
        "**abalkin**: Dear Jeffrey,\r\n\r\nUnfortunately you ignored the questionnaire in the issue template and told us nothing about your system.\r\n\r\nFrom the little information that you gave, it looks like you've installed PyQ in a system location without using a virtual environment.  While such configuration may work, it usually requires substantial expertise to get right.  For this reason we strongly recommend using a virtual environment.\r\n\r\nAs for your question, no PyQ does not override the SSL library.  You can find out which library is used by PyQ as follows:\r\n\r\n```sh\r\n$ ldd $(pyq -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n\tlibssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f87048a8000)\r\n```\r\n\r\nIf the same command with pyq replaced by python gives a different result - you have a misconfiguration.\r\n\r\nCan you post the output of the following commands:\r\n\r\n```sh\r\nldd $(which python)\r\n```\r\n\r\nand\r\n\r\n```sh\r\ncat $QHOME/pyq-config.q\r\n```\r\n\r\nwhere `$QHOME` is the location of your kdb+ installation.\r\n ",
        "**jljs**: Apologize for my under specification. Please see my system setup below.\r\n\r\nWhich operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nRed Hat Enterprise Linux Server release 6.9 (Santiago)\r\n\r\nWhich version of PyQ are you running? You can use pyq --versions or pip list | grep pyq.\r\n\r\nPyQ 4.1.3\r\nWhich version of kdb+ are you using, is it 32-bit or 64-bit?\r\nKDB+ 3.4 (2016.10.10) l64\r\nIf on 64-bit, is your QLIC set? Please provide output env | grep QLIC on linux/macOS, or set|grep QLIC on Windows.\r\nQLIC=/opt/kx/3.4\r\nDid you use virtual environment to install PyQ? If not, why?\r\n\r\nYes with Anaconda\r\n\r\nWhere is your QHOME? Please provide output env | grep QHOME on linux/macOS, or set|grep QHOME on Windows.\r\n\r\nQHOME=/opt/kx/3.4\r\nDo you use Conda? If so, what version?\r\n\r\nYes. conda 3.14.1\r\n\r\n-----------------------------------------------------------------------------------------------\r\n\r\nHi,\r\n\r\nI'm am using Conda as my virtual environment. \r\n\r\nthe output of \r\n\r\n**ldd $(which python)**\r\n\r\nis\r\n\r\n(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which python)\r\n        linux-vdso.so.1 =>  (0x00007fff87d6c000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n\r\n**cat $QHOME/pyq-config.q**\r\n\r\nis\r\n\r\n\\d .p\r\npython_dll:\"/home/svc_tpmdb_research/.conda/envs/py36an440/bin/../lib/libpython3.6m.so.1.0\\000\"\r\npyq_executable:\"/home/svc_tpmdb_research/.conda/envs/py36an440/bin/pyq\"\r\n\r\n**$QHOME location**\r\n\r\n/opt/kx/3.4",
        "**jljs**: More information as I dig into this more. I found some difference when running the following two commands.\r\n\r\n**(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which ~/.conda/envs/py36an440/bin/python3.6_org)**\r\n        linux-vdso.so.1 =>  (0x00007ffd251e2000)\r\n        libpython3.6m.so.1.0 => /home/svc_tpmdb_research/.conda/envs/py36an440/bin/../lib/libpython3.6m.so.1.0 (0x00007fa5978b2000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libdl.so.2 => /lib64/libdl.so.2 (0x0000003df9800000)\r\n        libutil.so.1 => /lib64/libutil.so.1 (0x0000003dfac00000)\r\n        librt.so.1 => /lib64/librt.so.1 (0x0000003dfa000000)\r\n        libm.so.6 => /lib64/libm.so.6 (0x0000003dfa400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n**(py36an440)[svc_tpmdb_research@pridbtsskdb02 bin]$ ldd $(which pyq)**\r\n        linux-vdso.so.1 =>  (0x00007ffee79c9000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000003df9400000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x0000003df9000000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003df8c00000)\r\n",
        "**abalkin**: Before we spend more time troubleshooting, since you are using conda, you may want to try our recently released conda package:\r\n\r\n```sh\r\nconda install -c enlnt -c kx pyq\r\n```\r\n",
        "**abalkin**: Did you try\r\n\r\n```sh\r\nldd $(pyq -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n```\r\n\r\nand compare it with\r\n\r\n```sh\r\nldd $(python -c \"import _ssl;print(_ssl.__file__)\")| grep libssl\r\n```\r\n\r\n?\r\n\r\nNote that `ldd $(which pyq)` is rather pointless because pyq is just glorified `exec q python.q`."
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-c9d43b935989",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/59",
    "title": "Segmentation fault when using threading",
    "text": "# Segmentation fault when using threading\n\n- Linux version:\r\n64-bit Ubuntu\r\n- PyQ version:\r\nPyQ 4.1.3\r\nNumPy 1.13.3\r\nKDB+ 3.5 (2018.02.26) l64\r\nPython 2.7.12 (default, Dec  4 [2017,](url) 14:50:18) \r\n[GCC 5.4.0 20160609]\r\n\r\n- kdb+ version:\r\n64-bit kdb+\r\nQLIC=/home/zakariyya/q/q64\r\n\r\n- Not install via virtual environment\r\n\r\n- QHOME=/home/zakariyya/q/q64\r\n\r\n- Not using Conda\r\n\r\n\r\nHi guys,\r\n\r\nI'm getting a segmentation fault when running a q process that loads in a Python script (.p)\r\nThe use-case if fairly simple. I'm exposing Python subscription and unsubscription functions for Redis to q, then I call them so that they can run in a separate thread. That means that q can still work in \"parallel\"\r\n\r\n\r\n```q\r\n$ cat redis.q\r\nsystem \"l /home/zakariyya/redis_thread.p\";\r\n.z.pc:{ if[x ~ hndl; -2\" lost handle to tp\"; if[`res in key `.;unsubscribe_redis enlist (res)] ] };\r\n.z.exit:{ if[`res in key `.;unsubscribe_redis enlist (res)]; };\r\nhndl:hopen 6006;\r\nupd:{[t;d] data:d; neg[hndl](`upd;`tbl; data)};\r\nshow .z.i\r\n$ q redis.q\r\nKDB+ 3.5 2018.02.26 Copyright (C) 1993-2018 Kx Systems\r\nl64/ 8()core 15999MB zakariyya zakariyya-pc-2193 127.0.1.1 EXPIRE 2018.07.01 zak********* KOD #51578\r\n\r\n3645i\r\nq)res:subscribe_redis(\"quote*\";\"quote\")\r\n```\r\nAnd the Python script\r\n\r\n```python\r\n$ cat redis_thread.p\r\nimport threading\r\nimport sys\r\nimport time\r\nimport redis\r\nimport signal\r\nimport os\r\nfrom functools import partial\r\nfrom pyq import q, K, _k\r\n\r\nclass PublisherThread(threading.Thread):\r\n\r\n    def __init__(self, channel, r, kdb_table):\r\n        super(PublisherThread, self).__init__()\r\n        self._stopper = threading.Event()\r\n        self.channel = channel\r\n        self.kdb_table = kdb_table\r\n        self.redis = r\r\n        self.pubsub = self.redis.pubsub()\r\n        self.redis.client_setname(\"kdb-feed-\" + self.kdb_table)\r\n        self.pubsub.psubscribe(self.channel)\r\n\r\n    def stop(self):\r\n        print('Closing Redis connection...')\r\n        self.pubsub.close()\r\n        self._stopper = True\r\n\r\n    @property\r\n    def stopped(self):\r\n        return self._stopper.isSet()\r\n\r\n    def run(self):\r\n        while not self.stopped:\r\n            try:\r\n                msg = self.pubsub.get_message()\r\n                if msg:\r\n                    if msg['type'] in ('message', 'pmessage'):\r\n                        #print(msg)\r\n                        qmsg = K.string(msg)\r\n                        q('upd', self.kdb_table, qmsg)\r\n                        time.sleep(0.001)\r\n            except _k.error as e:\r\n                print('Caught Q error. Cannot insert data to table')\r\n                self.stop()\r\n            except Exception as e:\r\n                print('Received unhandled exception. Cannot insert data to table')\r\n                self.stop()\r\n\r\n\r\nclass RedisManager(object):\r\n\r\n    def __init__(self, subscriber_init):\r\n        self._subscribers_store = {}\r\n        self.subscriber_init = subscriber_init\r\n\r\n    def add(self, feed, kdb_table):\r\n       print('Subscribing')\r\n        key = ':'.join([feed, kdb_table])\r\n        self._subscribers_store[key] = self.subscriber_init(feed, kdb_table)\r\n        return key\r\n\r\n    def remove(self, key):\r\n        self._subscribers_store[key].stop()\r\n        del self._subscribers_store[key]\r\n        return True\r\n\r\n\r\ndef subscriber_init(feed, kdb_table, redis_client):\r\n    t = PublisherThread(feed, redis_client, kdb_table)\r\n    t.start()\r\n    return t\r\n\r\n\r\n# Create curried function of RedisManager's init\r\nredis_manager = RedisManager(\r\n    partial(subscriber_init,\r\n         redis_client=redis.StrictRedis(host='XX.XXX.XXX.XXX', port=6399, db=0)))\r\n\r\n# Create and expose Python functions a q callables\r\n\r\ndef q_subscribe_redis(feed, kdb_table):\r\n    return redis_manager.add(str(feed), str(kdb_table))\r\n\r\ndef q_unsubscribe_redis(key):\r\n    return redis_manager.remove(str(key))\r\n\r\n\r\nq.subscribe_redis = q_subscribe_redis\r\nq.unsubscribe_redis = q_unsubscribe_redis\r\n\r\n\r\n```\r\n\r\nAnd the segmentation fault:\r\n\r\n```\r\nq)Sorry, this application or an associated library has encountered a fatal error and will exit.\r\nIf known, please email the steps to reproduce this error to tech@kx.com\r\nwith a copy of the kdb+ startup banner.\r\nThank you.\r\n/home/zakariyya/q/q64/l64/q() [0x47a8b1]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390) [0x7fc0aa739390]\r\n/home/zakariyya/q/q64/l64/q(r0+0) [0x41bd40]\r\n/home/zakariyya/q/q64/l64/q() [0x408a9c]\r\n/home/zakariyya/q/q64/l64/q() [0x40fb6f]\r\n/home/zakariyya/q/q64/l64/q() [0x4042c8]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7fc0aa37e830]\r\n/home/zakariyya/q/q64/l64/q() [0x4043a1]\r\nrlwrap: warning: q crashed, killed by SIGSEGV (core dumped).\r\nrlwrap itself has not crashed, but for transparency,\r\nit will now kill itself with the same signal\r\n\r\n\r\nwarnings can be silenced by the --no-warnings (-n) option\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n\r\n\n\n## Top Comments\n\n**abalkin**: I did not have time to reproduce your issue, but from the backtrace it looks like you are passing a K object from one thread to another resulting in `r0` being called in one thread on an object created in another thread.  To avoid this you should convert K objects to native Python objects whenever they can be shared between threads.  \n\n---\n\n**abalkin**: @zak-b2c2 - your redis.q scrip attempts to `hopen` a handle to port 6006.  What process is listening on this port?  An unmodified redis server does not accept kdb+ connections.\n\n---\n\n**zak-b2c2**: @abalkin - Thanks for the quick update. From what I can see in the code, there is not much being shared between threads. And as you can see for yourself, I make sure to redefine d as data in 'upd'\r\n\r\nI've also changed:\r\n```\r\n                        qmsg = K.string(msg)\r\n                        q('upd', self.kdb_table, qmsg)\r\n```\r\n\r\nto \r\n```\r\n                        q('upd', self.kdb_table, msg)\r\n```\r\n\r\nso that data is never casted to K object.\r\n\r\nAs for port 6006, it is a simple q process that gets updates from the redis.q process\r\n\r\n```\r\ntbl:([] msg:());\r\nupd:{x insert enlist enlist y}; / y is whatever is sent from upstream\r\n```\n\n---\n\n**abalkin**: Thanks for the missing part, but I still cannot reproduce your problem.  For me, the your `redis.q` script hangs after printing \"Subscribing\" and after a few minutes prints a connection error:\r\n\r\n```\r\n$ q redis.q\r\nKDB+ 3.5 2017.06.19 Copyright (C) 1993-2017 Kx Systems\r\nm32/ 20()core 65536MB a **** NONEXPIRE\r\n\r\n98033i\r\nq)subscribe_redis(\"quote*\";\"quote\")\r\nSubscribing\r\n'ConnectionError\r\n  [0]  subscribe_redis(\"quote*\";\"quote\")\r\n       ^\r\n```\r\n\r\nNote that when you call `q('upd', self.kdb_table, msg)`, msg is implicitly cast to a q symbol, so this is not what you might want to do.\r\n\r\nI am running a redis server on the default 6379 port.  How do you run the redis server?\r\n\r\n\r\n\n\n---\n\n**abalkin**: Aha, I missed the\r\n\r\n```python\r\nredis_client=redis.StrictRedis(host='XX.XXX.XXX.XXX', port=6399, db=0)\r\n```\r\n\r\npart.  Let me restart redis on port 6399.\n\n---\n\n**zak-b2c2**: Sorry, yes I blurred out the host and port for security reasons. It's an in-house Redis server\n\n---\n\n**abalkin**: OK, let me try 127.0.0.1 ...\n\n---\n\n**abalkin**: Now it looks like I am getting a connection but still no crash:\r\n\r\n```\r\nq)subscribe_redis(\"quote*\";\"quote\")\r\nSubscribing\r\n`quote*:quote\r\nq)\r\n```\r\n\r\nApparently, there is something on your redis server that causes the problem.  Can you reproduce the issue using a local redis instance with a minimal setup that you can share?\n\n---\n\n**zak-b2c2**: Two things:\r\n - The error happens randomly (can be after 10 seconds or after 20 minutes)\r\n - The throughput is about 10,000 messages/minute\n\n---\n\n**zak-b2c2**: Ok I've managed to reproduce on a local instance\r\n - Redis host = 127.0.0.1\r\n - Redis port = 6379\r\n\r\nI have 3 q processes with different functionalities:\r\n - Process 1 - Redis Publisher\r\n```\r\n$ q\r\nq).z.ts:{ do[100;system \"redis-cli -h 127.0.0.1 -p 6379 PUBLISH quote Hello\"] }\r\nq)\\t 100\r\n```\r\n - Process 2  - Redis Listener\r\n```\r\n$ q redis.q \r\nKDB+ 3.5 2018.02.26 Copyright (C) 1993-2018 Kx Systems\r\nl64/ 8()core 15999MB zakariyya zakariyya-pc-2193 127.0.1.1 EXPIRE 2018.07.01 zak********* KOD #51578\r\n\r\n27814i\r\nq)res:subscribe_redis(\"quote*\";\"quote\")\r\nSubscribing\r\nq)\r\n```\r\n- Process 3 - \"Tickerplant\"\r\n```\r\n$ q\r\nq)tbl:([] msg:());\r\nq)upd:{x insert enlist enlist y};\r\n```\r\n\r\n\r\nAnd the error raised on Process 2\r\n```\r\nq)Sorry, this application or an associated library has encountered a fatal error and will exit.\r\nIf known, please email the steps to reproduce this error to tech@kx.com\r\nwith a copy of the kdb+ startup banner.\r\nThank you.\r\n/home/zakariyya/q/q64/l64/q() [0x47a8b1]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390) [0x7f8a1de58390]\r\n/home/zakariyya/q/q64/l64/q(r0+0) [0x41bd40]\r\n/home/zakariyya/q/q64/l64/q() [0x408a9c]\r\n/home/zakariyya/q/q64/l64/q() [0x40fb6f]\r\n/home/zakariyya/q/q64/l64/q() [0x4042c8]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7f8a1da9d830]\r\n/home/zakariyya/q/q64/l64/q() [0x4043a1]\r\nrlwrap: warning: q crashed, killed by SIGSEGV (core dumped).\r\nrlwrap itself has not crashed, but for transparency,\r\nit will now kill itself with the same signal\r\n\r\n\r\nwarnings can be silenced by the --no-warnings (-n) option\r\nSegmentation fault (core dumped)\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1104,
    "metadata": {
      "issue_number": 59,
      "state": "closed",
      "labels": [
        "invalid",
        "upstream"
      ],
      "comments_count": 24,
      "created_at": "2018-05-08T14:28:46Z",
      "updated_at": "2018-05-11T20:15:54Z",
      "closed_at": "2018-05-11T20:15:54Z",
      "author": "zak-b2c2",
      "top_comments": [
        "**abalkin**: I did not have time to reproduce your issue, but from the backtrace it looks like you are passing a K object from one thread to another resulting in `r0` being called in one thread on an object created in another thread.  To avoid this you should convert K objects to native Python objects whenever they can be shared between threads.  ",
        "**abalkin**: @zak-b2c2 - your redis.q scrip attempts to `hopen` a handle to port 6006.  What process is listening on this port?  An unmodified redis server does not accept kdb+ connections.",
        "**zak-b2c2**: @abalkin - Thanks for the quick update. From what I can see in the code, there is not much being shared between threads. And as you can see for yourself, I make sure to redefine d as data in 'upd'\r\n\r\nI've also changed:\r\n```\r\n                        qmsg = K.string(msg)\r\n                        q('upd', self.kdb_table, qmsg)\r\n```\r\n\r\nto \r\n```\r\n                        q('upd', self.kdb_table, msg)\r\n```\r\n\r\nso that data is never casted to K object.\r\n\r\nAs for port 6006, it is a simple q process that gets updates from the redis.q process\r\n\r\n```\r\ntbl:([] msg:());\r\nupd:{x insert enlist enlist y}; / y is whatever is sent from upstream\r\n```",
        "**abalkin**: Thanks for the missing part, but I still cannot reproduce your problem.  For me, the your `redis.q` script hangs after printing \"Subscribing\" and after a few minutes prints a connection error:\r\n\r\n```\r\n$ q redis.q\r\nKDB+ 3.5 2017.06.19 Copyright (C) 1993-2017 Kx Systems\r\nm32/ 20()core 65536MB a **** NONEXPIRE\r\n\r\n98033i\r\nq)subscribe_redis(\"quote*\";\"quote\")\r\nSubscribing\r\n'ConnectionError\r\n  [0]  subscribe_redis(\"quote*\";\"quote\")\r\n       ^\r\n```\r\n\r\nNote that when you call `q('upd', self.kdb_table, msg)`, msg is implicitly cast to a q symbol, so this is not what you might want to do.\r\n\r\nI am running a redis server on the default 6379 port.  How do you run the redis server?\r\n\r\n\r\n",
        "**abalkin**: Aha, I missed the\r\n\r\n```python\r\nredis_client=redis.StrictRedis(host='XX.XXX.XXX.XXX', port=6399, db=0)\r\n```\r\n\r\npart.  Let me restart redis on port 6399."
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-4f355d6650eb",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/132",
    "title": "q can't find python package in virtual env",
    "text": "# q can't find python package in virtual env\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n    \r\n    ```macOS Catalina 10.15.4```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n    \r\n    ```4.2.1```\r\n   \r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n    \r\n    ```3.6 64-bit```\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n       \r\n```No, but my license file is under `$VIRTUAL_EVN/q````\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n   - yes\r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n    ```QHOME=/Users/xiangpeng/venv37/q```\r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n    ```No```\r\n## Steps to reproduce the issue\r\n`source venv37/bin/activate`\r\n`export QHOME=$VIRTUAL_ENV/q`\r\n`$VIRTUAL_ENV/q/m64/q`\r\n`q)p)import numpy as np`\r\n## Expected result\r\n\r\n## Actual result\r\n```\r\nKDB+ 3.6 2018.06.14 Copyright (C) 1993-2018 Kx Systems\r\nm64/ 4(16)core 24576MB xiangpeng imac 192.168.1.11 EXPIRE 2021.02.22 zhangxiangpeng2008@gmail.com KOD #4169312\r\n\r\nq)p)import numpy as np\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/Cellar/python/3.7.7/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyq/__init__.py\", line 841, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\nModuleNotFoundError: No module named 'numpy'\r\n'python\r\nq)\\\\\r\n```\r\n\r\n## Workaround\r\nI just updated my python3.7 and re-created virtual env following: https://github.com/KxSystems/pyq/issues/131#issuecomment-627361984\r\nIt looks like python tries to look for package from system instead of inside virtual env.\r\nMeanwhile, `pyq` has no problem to import package from virtual env.\r\n<img width=\"909\" alt=\"Screenshot 2020-05-12 at 11 27 24 PM\" src=\"https://user-images.githubusercontent.com/15676035/81713213-27b7e080-94a8-11ea-9f1d-8f4a5f91be8d.png\">\r\n \r\nIf you know workaround, please provide it here.\r\n\n\n## Top Comments\n\n**sashkab**: Unable to reproduce. \r\n\r\n```sh\r\n$ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKDB+ 3.5 ...\r\nm64/ ...\r\nq)p)import numpy\r\nq)p)print(numpy.zeros(5))\r\n[0. 0. 0. 0. 0.]\r\n```\r\n\r\n\n\n---\n\n**sashkab**: Please provide output of:\r\n\r\n```sh\r\npyq -mpip list | grep -E 'pyq|numpy'\r\npython -mpip list | grep -E 'pyq|numpy'\r\npython3.7 -mpip list | grep -E 'pyq|numpy'\r\n```\n\n---\n\n**xiangpeng2008**: @sashkab  Thanks a lot for your reply !\r\nhere's the output\r\n```\r\n(venv37) iMac /Users/xiangpeng $ pyq -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n(venv37) iMac /Users/xiangpeng $ python -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n(venv37) iMac /Users/xiangpeng $ python3.7 -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n```\r\n<img width=\"470\" alt=\"Screenshot 2020-05-12 at 11 42 24 PM\" src=\"https://user-images.githubusercontent.com/15676035/81714975-3f906400-94aa-11ea-8d9d-a1ed3e22fbf6.png\">\r\n\n\n---\n\n**xiangpeng2008**: Does `numpy` package exist in your `/usr/local/Cellar/python/......` as well ?\r\nWhat if you try with some package only existing in your virtual env ?\n\n---\n\n**sashkab**: All packages are installed for me in virtualenv, and nothing is installed to the homebrew site-packages.  But your PyQ is installed into main homebrew site-packages -- sorry, missed it on first look. \r\n\r\nPlease do following:\r\n\r\n```sh\r\ndeactivate\r\npython3.7 -mpip uninstall pyq\r\n```\r\n\r\nThen re-install PyQ into virtualenv. \r\n\r\n```sh\r\nsource venv37/bin/activate\r\npython3.7 -mpip install pyq\r\n```\r\n\n\n---\n\n**xiangpeng2008**: @sashkab  thanks a lot for your advice.\r\nIndeed, I really have PyQ installed in main homebrew site-packages. However after doing\r\n\r\n```sh\r\ndeactivate\r\npython3.7 -mpip uninstall pyq\r\n```\r\n\r\n`q)p)print(1)`\r\n\r\nstops working, even after I redo what you asked https://github.com/KxSystems/pyq/issues/131#issuecomment-627361984\r\n\r\n```sh\r\niMac /Users/xiangpeng $ rm -fr pyq\r\niMac /Users/xiangpeng $ brew upgrade\r\niMac /Users/xiangpeng $ python3.7 -mvenv pyq\r\niMac /Users/xiangpeng $ source pyq/bin/activate\r\n(pyq) iMac /Users/xiangpeng $ cp -r q64 $VIRTUAL_ENV/q\r\n(pyq) iMac /Users/xiangpeng $ python3.7 -mpip install pyq\r\nCollecting pyq\r\n  Using cached https://files.pythonhosted.org/packages/55/ef/c0ce6cfd39dc599cba09e1d889dc750fea83d2ab47afca328df46f3441cf/pyq-4.2.1.tar.gz\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... done\r\nSuccessfully installed pyq-4.2.1\r\nWARNING: You are using pip version 19.2.3, however version 20.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n(pyq) iMac /Users/xiangpeng $ pyq --versions\r\nPyQ 4.2.1\r\nKDB+ 3.6 (2018.06.14) m64\r\nPython 3.7.7 (default, May 12 2020, 22:03:45)\r\n[Clang 11.0.0 (clang-1100.0.33.17)]\r\n(pyq) iMac /Users/xiangpeng $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKDB+ 3.6 2018.06.14 Copyright (C) 1993-2018 Kx Systems\r\nm64/ 4(16)core 24576MB xiangpeng imac 192.168.1.11 EXPIRE 2021.02.22 zhangxiangpeng2008@gmail.com KOD #4169312\r\n\r\nq)p)print(1)\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pyq'\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n```\r\n<img width=\"641\" alt=\"Screenshot 2020-05-13 at 12 38 02 AM\" src=\"https://user-images.githubusercontent.com/15676035/81721225-2390c080-94b2-11ea-8fb4-770d2127ea97.png\">\r\n\n\n---\n\n**sashkab**: You didn't follow my instructions 100%. You used `cp q64 ...`, but I suggested to use clean `macos.zip` to extract. I don't know what's inside your `q64` directory. \r\n\r\nAlso, after creating virtual env and prior to installing PyQ, please upgrade pip and other pypa tools to the latest versions:\r\n\r\n```sh\r\npython3.7 -mpip install -U pip setuptools wheel\r\n```\r\n\r\nThanks.\n\n---\n\n**xiangpeng2008**: @sashkab  I tried several more times just as you told me, it's really really wired\r\nI believe you wanted say `setuptools` instead of `setup` and `tools` ?\r\n```\r\nrm -fr pyq\r\nbrew upgrade\r\npython3.7 -mvenv pyq\r\nsource pyq/bin/activate\r\nmkdir $VIRTUAL_ENV/q\r\nunzip Downloads/m64.zip -d $VIRTUAL_ENV/q\r\npython3.7 -mpip install -U pip setuptools wheel\r\ncp q64/kc.lic $VIRTUAL_ENV/q/\r\npython3.7 -mpip install pyq\r\nQHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nQHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\np)1\r\n```\r\n```\r\nRestored session: Wed May 13 21:18:31 +08 2020\r\niMac /Users/xiangpeng $ rm -fr pyq\r\niMac /Users/xiangpeng $ brew upgrade\r\niMac /Users/xiangpeng $ python3.7 -mvenv pyq\r\niMac /Users/xiangpeng $ source pyq/bin/activate\r\n(pyq) iMac /Users/xiangpeng $ mkdir $VIRTUAL_ENV/q\r\n(pyq) iMac /Users/xiangpeng $ unzip Downloads/m64.zip -d $VIRTUAL_ENV/q\r\nArchive:  Downloads/m64.zip\r\n  inflating: /Users/xiangpeng/pyq/q/m64/q\r\n  inflating: /Users/xiangpeng/pyq/q/q.k\r\n(pyq) iMac /Users/xiangpeng $ python3.7 -mpip install -U pip setuptools wheel\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/54/2e/df11ea7e23e7e761d484ed3740285a34e38548cf2bad2bed3dd5768ec8b9/pip-20.1-py2.py3-none-any.whl\r\nCollecting setuptools\r\n  Using cached https://files.pythonhosted.org/packages/73/22/156aac338c4ac8ffb1c3c6c3d4841611fdd4e40a9be7518bf5be432fd38c/setuptools-46.2.0-py3-none-any.whl\r\nCollecting wheel\r\n  Using cached https://files.pythonhosted.org/packages/8c/23/848298cccf8e40f5bbb59009b32848a4c38f4e7f3364297ab3c3e2e2cd14/wheel-0.34.2-py2.py3-none-any.whl\r\nInstalling collected packages: pip, setuptools, wheel\r\n  Found existing installation: pip 19.2.3\r\n    Uninstalling pip-19.2.3:\r\n      Successfully uninstalled pip-19.2.3\r\n  Found existing installation: setuptools 41.2.0\r\n    Uninstalling setuptools-41.2.0:\r\n      Successfully uninstalled setuptools-41.2.0\r\nSuccessfully installed pip-20.1 setuptools-46.2.0 wheel-0.34.2\r\n(pyq) iMac /Users/xiangpeng $ cp q64/kc.lic $VIRTUAL_ENV/q/\r\n(pyq) iMac /Users/xiangpeng $ python3.7 -mpip install pyq\r\nProcessing ./Library/Caches/pip/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-macosx_10_15_x86_64.whl\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.2.1\r\n(pyq) iMac /Users/xiangpeng $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKilled: 9\r\n(pyq) iMac /Users/xiangpeng $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKDB+ 3.6 2019.09.19 Copyright (C) 1993-2019 Kx Systems\r\nm64/ 4(16)core 24576MB xiangpeng imac 192.168.1.11 EXPIRE 2021.02.22 zhangxiangpeng2008@gmail.com KOD #4169312\r\n\r\nq)p)1\r\n'dlopen(/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/Python, 10): image not found\r\n  [2]  /Users/xiangpeng/pyq/q/p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dll\r\n                                     ^\r\n  [0]  (<load>)\r\n\r\n  )\r\n```\r\nMeanwhile, I don't have python version 3.7.6_1 after `brew upgrade`.\r\nIs it because `pyq` doesn't support python3.7.7 yet ?\r\nThanks !\r\n<img width=\"950\" alt=\"Screenshot 2020-05-13 at 9 21 34 PM\" src=\"https://user-images.githubusercontent.com/15676035/81817901-e7b43480-955f-11ea-98c8-85aa02dc1da6.png\">\r\n\r\n\n\n---\n\n**xiangpeng2008**: I tried again on another mac, which gave me very similar error\r\n```\r\nMacBookPro /Users/xiangpeng $ rm -fr pyq\r\nMacBookPro /Users/xiangpeng $ brew upgrade\r\nUpdating Homebrew...\r\n==> Auto-updated Homebrew!\r\nUpdated 1 tap (homebrew/cask).\r\n==> Updated Casks\r\nbrave-browser\r\n\r\nMacBookPro /Users/xiangpeng $ python3.7 -mvenv pyq\r\nsource pyq/bin/activate\r\nmkdir $VIRTUAL_ENV/q\r\nMacBookPro /Users/xiangpeng $ source pyq/bin/activate\r\n(pyq) MacBookPro /Users/xiangpeng $ mkdir $VIRTUAL_ENV/q\r\n(pyq) MacBookPro /Users/xiangpeng $ cp -r Downloads/m64-2/* $VIRTUAL_ENV/q/\r\n(pyq) MacBookPro /Users/xiangpeng $ ls $VIRTUAL_ENV/q/\r\n./   ../  m64/ q.k\r\n(pyq) MacBookPro /Users/xiangpeng $ python3.7 -mpip install -U pip setuptools wheel\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/54/2e/df11ea7e23e7e761d484ed3740285a34e38548cf2bad2bed3dd5768ec8b9/pip-20.1-py2.py3-none-any.whl\r\nCollecting setuptools\r\n  Using cached https://files.pythonhosted.org/packages/09/27/98ef5f13ca9c63d9d8601e739817839dde55baeb105a6c32fc8f24daddc2/setuptools-46.3.0-py3-none-any.whl\r\nCollecting wheel\r\n  Using cached https://files.pythonhosted.org/packages/8c/23/848298cccf8e40f5bbb59009b32848a4c38f4e7f3364297ab3c3e2e2cd14/wheel-0.34.2-py2.py3-none-any.whl\r\nInstalling collected packages: pip, setuptools, wheel\r\n  Found existing installation: pip 19.2.3\r\n    Uninstalling pip-19.2.3:\r\n      Successfully uninstalled pip-19.2.3\r\n  Found existing installation: setuptools 41.2.0\r\n    Uninstalling setuptools-41.2.0:\r\n      Successfully uninstalled setuptools-41.2.0\r\nSuccessfully installed pip-20.1 setuptools-46.3.0 wheel-0.34.2\r\n(pyq) MacBookPro /Users/xiangpeng $ cp venv37/q/kc.lic $VIRTUAL_ENV/q/\r\n(pyq) MacBookPro /Users/xiangpeng $ python3.7 -mpip install pyq\r\nProcessing ./Library/Caches/pip/wheels/ac/e1/86/336491a8401046eed5f231db7a49e1c15555d0ad10a49be74f/pyq-4.2.1-cp37-cp37m-macosx_10_14_x86_64.whl\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.2.1\r\n(pyq) MacBookPro /Users/xiangpeng $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKilled: 9\r\n(pyq) MacBookPro /Users/xiangpeng $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKDB+ 3.6 2019.09.19 Copyright (C) 1993-2019 Kx Systems\r\nm64/ 4(16)core 8192MB xiangpeng macbookpro 192.168.1.7 EXPIRE 2021.02.22 zhangxiangpeng2008@gmail.com KOD #4169312\r\n\r\nq)p)1\r\n'dlopen(/usr/local/Cellar/python/3.7.4/Frameworks/Python.framework/Versions/3.7/Python, 10): image not found\r\n  [2]  /Users/xiangpeng/pyq/q/p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dll\r\n                                     ^\r\n  [0]  (<load>)\r\n\r\n  )\r\n```\r\nThe difference is it looks python3.7.4 now which is the python version before `brew upgrade` \r\n<img width=\"723\" alt=\"Screenshot 2020-05-14 at 12 08 05 AM\" src=\"https://user-images.githubusercontent.com/15676035/81837140-03770500-9577-11ea-89a1-6c95528b2094.png\">\r\n\n\n---\n\n**sashkab**: > I believe you wanted say `setuptools` instead of `setup` and `tools` ?\r\n\r\nCorrect, fixed comment. \r\n\r\nI will look into this further, still unable to reproduce on my system. ",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 1320,
    "metadata": {
      "issue_number": 132,
      "state": "closed",
      "labels": [
        "bug",
        "macOS"
      ],
      "comments_count": 20,
      "created_at": "2020-05-12T15:27:42Z",
      "updated_at": "2020-07-23T13:02:01Z",
      "closed_at": "2020-06-02T16:32:29Z",
      "author": "xiangpeng2008",
      "top_comments": [
        "**sashkab**: Unable to reproduce. \r\n\r\n```sh\r\n$ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\nKDB+ 3.5 ...\r\nm64/ ...\r\nq)p)import numpy\r\nq)p)print(numpy.zeros(5))\r\n[0. 0. 0. 0. 0.]\r\n```\r\n\r\n",
        "**sashkab**: Please provide output of:\r\n\r\n```sh\r\npyq -mpip list | grep -E 'pyq|numpy'\r\npython -mpip list | grep -E 'pyq|numpy'\r\npython3.7 -mpip list | grep -E 'pyq|numpy'\r\n```",
        "**xiangpeng2008**: @sashkab  Thanks a lot for your reply !\r\nhere's the output\r\n```\r\n(venv37) iMac /Users/xiangpeng $ pyq -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n(venv37) iMac /Users/xiangpeng $ python -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n(venv37) iMac /Users/xiangpeng $ python3.7 -mpip list | grep -E 'pyq|numpy'\r\nnumpy           1.18.4\r\npyq             4.2.1\r\n```\r\n<img width=\"470\" alt=\"Screenshot 2020-05-12 at 11 42 24 PM\" src=\"https://user-images.githubusercontent.com/15676035/81714975-3f906400-94aa-11ea-8d9d-a1ed3e22fbf6.png\">\r\n",
        "**xiangpeng2008**: Does `numpy` package exist in your `/usr/local/Cellar/python/......` as well ?\r\nWhat if you try with some package only existing in your virtual env ?",
        "**sashkab**: All packages are installed for me in virtualenv, and nothing is installed to the homebrew site-packages.  But your PyQ is installed into main homebrew site-packages -- sorry, missed it on first look. \r\n\r\nPlease do following:\r\n\r\n```sh\r\ndeactivate\r\npython3.7 -mpip uninstall pyq\r\n```\r\n\r\nThen re-install PyQ into virtualenv. \r\n\r\n```sh\r\nsource venv37/bin/activate\r\npython3.7 -mpip install pyq\r\n```\r\n"
      ],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-42efe33f3e62",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/7",
    "title": "Send data to python from q function scope?",
    "text": "# Send data to python from q function scope?\n\nHello,\r\n\r\nIs it at all possible to set/get a variable in python from q, when running in a q function, meaning the data has no global q scope? Perhaps using e0 inside p.k? This would be the identical of using Rset/Rget in the Kx rserver package to communicate with R from KDB. So what I want to do is this:\r\n\r\n```\r\nq)myFunc:{[x;y]\r\n         set_variable_in_python[x;\"py_var_x\"];\r\n         set_variable_in_python[y;\"py_var_y\"];\r\n         // check vars are in Python\r\n        .p.e[\"print(py_var_x)\"];.p.e[\"print(py_var_y)\"];\r\n        // run some crazy python func\r\n        .p.e[\"res = some_py_func(py_var_x,py_var_y)\"];\r\n        // fetch res from python\r\n        kdb_res:get_var_from_python[\"res\"];\r\n        :kdb_res;\r\n};\r\n```\r\n\r\nIs anything like this possible using PyQ? I know that if I use global scope, it can work by using pyq.q(), even if called from q, like this:\r\n\r\n```\r\nq)myFunc:{[x]\r\n         global_x::x;\r\n         .p.e[\"q.global_res = some_py_func(q('global_x'))\"];\r\n         :global_res;\r\n};\r\n```\r\n\r\nHowever this is not efficient for a number of reasons, chiefly in that it prohibits using myFunc with peach.\r\n\r\nBasically, is there something like the equivalent of pyq.q() but from the KDB side, in order to get and set variables into python? I want to do everything which pyq allows one to do from Python->KDB, but going the other way, KDB->python. Not sure if pyq can do this or not?\n\n## Top Comments\n\n**abalkin**: While you cannot change binding of local python variables from q, you can modify mutable local variables as shown in the following snippet:\r\n\r\n```python\r\nfrom pyq import q\r\n\r\ndef f():\r\n    x = {}\r\n    def set(name, val):\r\n        x[str(name)] = val\r\n        return q('::')\r\n    q('{x(`a;42)}', set)\r\n    print(x['a'])\r\n\r\nf()\r\n```\r\n\r\nIf you execute this code, it should print \"42\".\r\n\r\nHowever, I would advise you against using tricks like this in peach.  Since CPython has a global interpreter lock, you can not achieve true parallelism and currently pyq cannot deal properly with q objects created in the other than main threads. \n\n---\n\n**trias702**: Thank you kindly for your help with this question. Unfortunately, I'm afraid I don't understand your reply. My original question involved writing only q code, from a running q instance, utilising PyQ's p.k, yet your answer example is from Python talking to q via pyq.q(). I need example code going the opposite way, e.g. a function executed in q which sets variables in python.\r\n\r\nMy goal is to create python variables from inside q functions, using only a running q process, meaning no call to the pyq executable or \"q python.q\". Basically something like this:\r\n\r\n```\r\n<start vanilla q from unix command line, no parameters passed>\r\nq)p)import pyq\r\nq){[] somehow set a variable in python from inside q function }[]\r\nq)p)print(variable you created above)\r\nq)\\\\\r\n```\r\n\r\nIs this even possible to do in the current pyq?\n\n---\n\n**abalkin**: Would this do what you want? \r\n\r\nFirst, create a file `set.p` with the following code:\r\n\r\n```python\r\nfrom pyq import q\r\ndef set(name, value):\r\n    globals()[str(name)] = value\r\n    return q('::')\r\nq.pyset = set\r\n```\r\n\r\nNow, in q\r\n\r\n```\r\nq)\\l set.p\r\nq){pyset(`a;42)}[]\r\nq)p)print(a)\r\n42\r\n```\r\n\n\n---\n\n**abalkin**: Going back to your original example\r\n\r\n```\r\nq)myFunc:{[x;y]\r\n         set_variable_in_python[x;\"py_var_x\"];\r\n         set_variable_in_python[y;\"py_var_y\"];\r\n         // check vars are in Python\r\n        .p.e[\"print(py_var_x)\"];.p.e[\"print(py_var_y)\"];\r\n        // run some crazy python func\r\n        .p.e[\"res = some_py_func(py_var_x,py_var_y)\"];\r\n        // fetch res from python\r\n        kdb_res:get_var_from_python[\"res\"];\r\n        :kdb_res;}\r\n```\r\n\r\nYou can define `set_variable_in_python` in terms of `pyset`:\r\n\r\n```\r\nq)set_variable_in_python:{pyset(y;x)}\r\n```\r\n\r\nAlso, you can add\r\n\r\n```\r\nfrom pyq import K\r\ndef get(name):\r\n      return K(global()[str(name)])\r\nq.pyget = get\r\n```\r\n\r\nto `set.p` and define `get_var_from_python` as\r\n\r\n```\r\nq)get_var_from_python:{pyget enlist x}\r\n```\r\n\r\nHowever, if all you want is to pass `x` and `y` to `some_py_func`, I would recommend the following approach:\r\n\r\n```\r\nq)p)from some_module import some_py_func\r\nq)p)q.some_py_func = some_py_func\r\nq){res:some_py_func(x;y);:res}[]\r\n```\r\n\r\nPlease be aware of the somewhat unusual calling convention for the python functions exported to `q`: they take a single argument that is a list of arguments to be passed to python.\n\n---\n\n**trias702**: Apologies in advance for a long post.\r\n\r\nThank you most kindly for the wonderful examples, I have done everything as you have stated, and it works quite well, although there seems to be a bug with your last example (number 3 below). I also have two questions (1 and 2):\r\n\r\n1) When working in python with \"from pyq import q\", you can set variables inside q using: \r\n\r\nq.some_variable = 4\r\n\r\nand this is the same as doing\r\n\r\nq)some_variable:4\r\n\r\nBut what is the syntax (from python) if you want to set a namespace variable inside q? So, how would I duplicate the following q code from python:\r\n\r\n```\r\nq).test.myvar:768768\r\nq)show .test.myvar\r\n768768\r\n```\r\n\r\nIs there a way to do this from python using pyq.q()? So basically, I want to do what you originally said:\r\n\r\n`q)p)q.some_py_func = some_py_func`\r\n\r\nBut rather than have it called \"some_py_func\" in `. in q, i want to call it \".test.some_py_func\"\r\n\r\n2) In your \"def get(name)\" function, I notice you wrap the returned value from the globals() dictionary inside K(), which converts the python type to a KDB type. Does this mean that any python function which you want to call from q needs to have its return value wrapped in K()? Because if so, that means you cannot call some_py_func directly from q, since its return value is not wrapped in K()? Additionally, any variables you send to python from q using pyset becomes a pyq.K type, and not python native:\r\n\r\n```\r\nq)\\l set.p\r\nq)pyset[(`aa;7777)];\r\nq)p)print(aa)\r\n7777\r\nq)p)print(type(aa))\r\n<class 'pyq.K'>\r\nq)p)print(type(aa+1000))\r\n<class 'pyq.K'>\r\nq)p)print(aa+1000)\r\n8777\r\nq)p)xx = 8777\r\nq)p)print(type(xx))\r\n<class 'int'>\r\n```\r\n\r\n3) Finally, I tried doing the following:\r\n\r\n```\r\nq)p)from some_module import some_py_func\r\nq)p)q.some_py_func = some_py_func\r\nq){res:some_py_func(x;y);:res}[]\r\n```\r\n\r\nInto set.p, I added the following python code:\r\n\r\n```\r\nimport math\r\ndef myexp(x):\r\n\treturn math.exp(x)\r\n```\r\n\r\nThen I tried the following from q:\r\n\r\n```\r\nq)\\l set.p\r\nq)p)print(myexp(2))\r\n7.38905609893065\r\nq)p)q.test = myexp\r\nq)test\r\ncode[130026840;132072176]\r\nq)test[2]\r\n'type error\r\nq)test[2i]\r\n'type error\r\nq)test[2f]\r\n'type error\r\n```\r\n\r\nEven if I did the following, it doesn't work:\r\n\r\n```\r\nimport math\r\ndef myexp(x):\r\n\treturn K(math.exp(x))\r\n```\r\n\r\nThis gives the same 'type error\r\n\r\nWhat am I doing wrong?\r\n\r\nMy ultimate goal is to be able to call python NumPy/SciPy/Keras functions from q directly, so being able to bind python funcs to q funcs using \"q)p)q.py_func = py_func\" seems to be an amazing possibility, but it doesn't appear to work, is this because the arguments being passed are not converted from pyq.K types to native python types?\n\n---\n\n**abalkin**: > What am I doing wrong?\r\n\r\nDid you see my warning about an unusual calling convention?  It is particularly noticeable when you export a one-argument function from python to q.\r\n\r\n```\r\nq)p)import math\r\nq)p)def f(x): return math.exp(x)\r\nq)p)q.f = f\r\nq)f enlist 1\r\n2.718282\r\n```\r\nThe `f` function in q expects a list, so to pass `1` above we had to enlist it.  If you don't â€“ you get the type error:\r\n\r\n```\r\nq)f 1\r\n'type error\r\n```\n\n---\n\n**abalkin**: > But what is the syntax (from python) if you want to set a namespace variable inside q? \r\n\r\nThere is no special syntax.  You need to use the `q.set` function:\r\n\r\n```\r\n>>> q.set('.test.x', 42)\r\nk('`.test.x')\r\n>>> q()\r\nq).test.x\r\n42\r\n```\n\n---\n\n**abalkin**: > Does this mean that any python function which you want to call from q needs to have its return value wrapped in K()? \r\n\r\nIn the upcoming release we are relaxing this restriction, however the most effective use of python on kdb+ data is to use numpy functions and redirect output to q vectors.\r\n\r\n```\r\nq)p)import numpy\r\nq)data:([]x:5?1f;y:5#0n)\r\nq)data\r\nx         y\r\n-----------\r\n0.3927524\r\n0.5170911\r\n0.5159796\r\n0.4066642\r\n0.1780839\r\nq)p)numpy.log10(q.data.x, out=numpy.asarray(q.data.y))\r\nq)data\r\nx         y\r\n--------------------\r\n0.3927524 -0.4058812\r\n0.5170911 -0.2864329\r\n0.5159796 -0.2873674\r\n0.4066642 -0.3907641\r\n0.1780839 -0.7493754\r\n```\n\n---\n\n**trias702**: Ah yes, very sorry about the enlist mistake, especially since you just wrote to me about it, and I even used in my own get_var_from_python function. Thank you very much for taking the time to help me with these issues, I greatly appreciate it.\r\n\r\nSo I just tried to replicate your work, and still got the type error, until I wrapped in K():\r\n\r\n```\r\nq)\\l set.p\r\nq)p)import math\r\nq)p)def f(x): return math.exp(x)\r\nq)p)q.f = f\r\nq)f enlist 2\r\n'py-type error     // weird??\r\nq)p)def f(x): return K(math.exp(x))   // aha! I need to wrap in K()\r\nq)p)q.f = f\r\nq)f enlist 2\r\n7.389056\r\n```\r\n\r\nI'm still not entirely clear on this K() requirement, it seems to me that I cannot just bind my favourite numpy/scipy functions to q functions using this system:\r\n\r\n`q)p)q.some_numpy_func = numpy.some_func`\r\n\r\nAnd then call the numpy funcs direct from q:\r\n\r\n`q)result:some_numpy_func[enlist some_val]      // will always type error`\r\n\r\nThe only way I can do this, is by creating a python wrapper which casts the return to K():\r\n\r\n```\r\nq)p)def wrap_some_func(x): return K(numpy.some_func(x))\r\nq)p)q.some_numpy_func = wrap_some_func\r\nq)result:some_numpy_func[enlist some_val]      // this will work\r\n```\r\n\r\nNow, if I use my original example, of pyset and pyget, I seem to sidestep this problem:\r\n\r\n```\r\nq)\\l set.p\r\nq)pyset(`aa;2);\r\nq)p)print(aa)\r\n2\r\nq)p)import math\r\nq)p)xx = math.exp(aa)\r\nq)pyget enlist `xx\r\n7.389056\r\n```\r\n\r\nThe above works because the pyget function includes a K() cast:\r\n\r\n```\r\ndef get(name):\r\n\treturn K(globals()[str(name)])    // this makes all the difference\r\nq.pyget = get\r\n```\r\n\r\nAm I correct that I cannot just bind every useful numpy/scipy function to q without somehow casting the python result in K() before returning the result to q?\r\n\r\nFinally, just to make sure I understand your last example, \"out=numpy.asarray(q.data.y)\", this will only work if you have a global variable already defined in q, before you call the python func, correct? Which means, you cannot do it from inside a q function:\r\n\r\n```\r\nq)p)import numpy\r\nq){[x] x:0n;\r\n    .p.e \"numpy.log10(0.5, out=numpy.asarray(q.x))\";  // ERROR: variable x does not exist in q global scope\r\n    :x;\r\n};\r\n```\r\n\r\nHowever, if my understanding is correct, this will work:\r\n\r\n```\r\nq)p)import numpy\r\nq){[x] x::0n;   // make x global scope\r\n    .p.e \"numpy.log10(0.5, out=numpy.asarray(q.x))\";  // works now\r\n    :x;\r\n};\r\n```\r\n\r\nAm I correct in my understanding of everything?\n\n---\n\n**abalkin**: >  I just tried to replicate your work, and still got the type error, until I wrapped in K()\r\n\r\nIt will work without K() in the new version that we are about to release.\r\n\r\n> I cannot just bind my favourite numpy/scipy functions \r\n\r\nWe will consider adding this functionality in a future release.\r\n\r\n> \"out=numpy.asarray(q.data.y)\", this will only work if you have a global variable already defined in q, before you call the python func, correct?\r\n\r\nIf you want to use `.p.e` or `p)` syntax, then you are restricted to communication via global variables.  This makes it only useful in the interactive session or in small scripts.  For any non-trivial program you should wrap numpy methods in a function that can be exported to q.  For example, with the following code in `log.p`,\r\n\r\n```python\r\nimport numpy\r\ndef log(x, y):\r\n    numpy.log(x, out=numpy.asarray(y))    \r\n    return q('::')\r\nq.numpy_log = log\r\n```\r\n\r\ntry\r\n\r\n```\r\nq)\\l log.p\r\nq)f:{r:count[x]#0n;numpy_log(x;r);r}\r\nq)f 5?1f\r\n-0.9345759 -0.6595362 -0.661688 -0.8997675 -1.725501\r\n```\r\n\r\nAs you can see, `numpy_log` can work with local variables.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1789,
    "metadata": {
      "issue_number": 7,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 18,
      "created_at": "2017-02-18T16:10:57Z",
      "updated_at": "2017-08-30T19:17:51Z",
      "closed_at": "2017-08-30T19:17:51Z",
      "author": "trias702",
      "top_comments": [
        "**abalkin**: While you cannot change binding of local python variables from q, you can modify mutable local variables as shown in the following snippet:\r\n\r\n```python\r\nfrom pyq import q\r\n\r\ndef f():\r\n    x = {}\r\n    def set(name, val):\r\n        x[str(name)] = val\r\n        return q('::')\r\n    q('{x(`a;42)}', set)\r\n    print(x['a'])\r\n\r\nf()\r\n```\r\n\r\nIf you execute this code, it should print \"42\".\r\n\r\nHowever, I would advise you against using tricks like this in peach.  Since CPython has a global interpreter lock, you can not achieve true parallelism and currently pyq cannot deal properly with q objects created in the other than main threads. ",
        "**trias702**: Thank you kindly for your help with this question. Unfortunately, I'm afraid I don't understand your reply. My original question involved writing only q code, from a running q instance, utilising PyQ's p.k, yet your answer example is from Python talking to q via pyq.q(). I need example code going the opposite way, e.g. a function executed in q which sets variables in python.\r\n\r\nMy goal is to create python variables from inside q functions, using only a running q process, meaning no call to the pyq executable or \"q python.q\". Basically something like this:\r\n\r\n```\r\n<start vanilla q from unix command line, no parameters passed>\r\nq)p)import pyq\r\nq){[] somehow set a variable in python from inside q function }[]\r\nq)p)print(variable you created above)\r\nq)\\\\\r\n```\r\n\r\nIs this even possible to do in the current pyq?",
        "**abalkin**: Would this do what you want? \r\n\r\nFirst, create a file `set.p` with the following code:\r\n\r\n```python\r\nfrom pyq import q\r\ndef set(name, value):\r\n    globals()[str(name)] = value\r\n    return q('::')\r\nq.pyset = set\r\n```\r\n\r\nNow, in q\r\n\r\n```\r\nq)\\l set.p\r\nq){pyset(`a;42)}[]\r\nq)p)print(a)\r\n42\r\n```\r\n",
        "**abalkin**: Going back to your original example\r\n\r\n```\r\nq)myFunc:{[x;y]\r\n         set_variable_in_python[x;\"py_var_x\"];\r\n         set_variable_in_python[y;\"py_var_y\"];\r\n         // check vars are in Python\r\n        .p.e[\"print(py_var_x)\"];.p.e[\"print(py_var_y)\"];\r\n        // run some crazy python func\r\n        .p.e[\"res = some_py_func(py_var_x,py_var_y)\"];\r\n        // fetch res from python\r\n        kdb_res:get_var_from_python[\"res\"];\r\n        :kdb_res;}\r\n```\r\n\r\nYou can define `set_variable_in_python` in terms of `pyset`:\r\n\r\n```\r\nq)set_variable_in_python:{pyset(y;x)}\r\n```\r\n\r\nAlso, you can add\r\n\r\n```\r\nfrom pyq import K\r\ndef get(name):\r\n      return K(global()[str(name)])\r\nq.pyget = get\r\n```\r\n\r\nto `set.p` and define `get_var_from_python` as\r\n\r\n```\r\nq)get_var_from_python:{pyget enlist x}\r\n```\r\n\r\nHowever, if all you want is to pass `x` and `y` to `some_py_func`, I would recommend the following approach:\r\n\r\n```\r\nq)p)from some_module import some_py_func\r\nq)p)q.some_py_func = some_py_func\r\nq){res:some_py_func(x;y);:res}[]\r\n```\r\n\r\nPlease be aware of the somewhat unusual calling convention for the python functions exported to `q`: they take a single argument that is a list of arguments to be passed to python.",
        "**trias702**: Apologies in advance for a long post.\r\n\r\nThank you most kindly for the wonderful examples, I have done everything as you have stated, and it works quite well, although there seems to be a bug with your last example (number 3 below). I also have two questions (1 and 2):\r\n\r\n1) When working in python with \"from pyq import q\", you can set variables inside q using: \r\n\r\nq.some_variable = 4\r\n\r\nand this is the same as doing\r\n\r\nq)some_variable:4\r\n\r\nBut what is the syntax (from python) if you want to set a namespace variable inside q? So, how would I duplicate the following q code from python:\r\n\r\n```\r\nq).test.myvar:768768\r\nq)show .test.myvar\r\n768768\r\n```\r\n\r\nIs there a way to do this from python using pyq.q()? So basically, I want to do what you originally said:\r\n\r\n`q)p)q.some_py_func = some_py_func`\r\n\r\nBut rather than have it called \"some_py_func\" in `. in q, i want to call it \".test.some_py_func\"\r\n\r\n2) In your \"def get(name)\" function, I notice you wrap the returned value from the globals() dictionary inside K(), which converts the python type to a KDB type. Does this mean that any python function which you want to call from q needs to have its return value wrapped in K()? Because if so, that means you cannot call some_py_func directly from q, since its return value is not wrapped in K()? Additionally, any variables you send to python from q using pyset becomes a pyq.K type, and not python native:\r\n\r\n```\r\nq)\\l set.p\r\nq)pyset[(`aa;7777)];\r\nq)p)print(aa)\r\n7777\r\nq)p)print(type(aa))\r\n<class 'pyq.K'>\r\nq)p)print(type(aa+1000))\r\n<class 'pyq.K'>\r\nq)p)print(aa+1000)\r\n8777\r\nq)p)xx = 8777\r\nq)p)print(type(xx))\r\n<class 'int'>\r\n```\r\n\r\n3) Finally, I tried doing the following:\r\n\r\n```\r\nq)p)from some_module import some_py_func\r\nq)p)q.some_py_func = some_py_func\r\nq){res:some_py_func(x;y);:res}[]\r\n```\r\n\r\nInto set.p, I added the following python code:\r\n\r\n```\r\nimport math\r\ndef myexp(x):\r\n\treturn math.exp(x)\r\n```\r\n\r\nThen I tried the following from q:\r\n\r\n```\r\nq)\\l set.p\r\nq)p)print(myexp(2))\r\n7.38905609893065\r\nq)p)q.test = myexp\r\nq)test\r\ncode[130026840;132072176]\r\nq)test[2]\r\n'type error\r\nq)test[2i]\r\n'type error\r\nq)test[2f]\r\n'type error\r\n```\r\n\r\nEven if I did the following, it doesn't work:\r\n\r\n```\r\nimport math\r\ndef myexp(x):\r\n\treturn K(math.exp(x))\r\n```\r\n\r\nThis gives the same 'type error\r\n\r\nWhat am I doing wrong?\r\n\r\nMy ultimate goal is to be able to call python NumPy/SciPy/Keras functions from q directly, so being able to bind python funcs to q funcs using \"q)p)q.py_func = py_func\" seems to be an amazing possibility, but it doesn't appear to work, is this because the arguments being passed are not converted from pyq.K types to native python types?"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ccf4457c15cd",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/49",
    "title": "Cannot run pyq with 64bit kdb+",
    "text": "# Cannot run pyq with 64bit kdb+\n\nHi, I am trying to install pyq in a python virtualenv, following [the instructions here](https://code.kx.com/q/interfaces/pyq/install/#installing-into-a-virtual-environment), with a licensed copy of kdb (64bit).\r\nInstallation goes fine, but when I try to run pyq I get the following error:\r\n ```\r\n(krypton_env_64) giovanni@mymachine ~$ pyq\r\nqbinpath = /home/giovanni/workspace/krypton_env_64/q/l64/q\r\nqbinpath = /home/giovanni/workspace/krypton_env_64/q/l64/q\r\nqbinpath = /home/giovanni/workspace/krypton_env_64/q/l64/q\r\nqbinpath = /home/giovanni/q/l64/q\r\nNo such file or directory\r\n ```\r\nAlthough, as you can see, the q binary is there:\r\n ```\r\n(krypton_env_64) giovanni@mymachine ~$ ls -R /home/giovanni/workspace/krypton_env_64/q/\r\n/home/giovanni/workspace/krypton_env_64/q/:\r\nk4.lic  l64  p.k  pyq-config.q  pyq-operators.q  python.q  q.k\r\n \r\n/home/giovanni/workspace/krypton_env_64/q/l64:\r\np.so  q\r\n ```\r\nCould you please advise on how to handle this issue?\r\nIâ€™m using `Python 3.6.1 |Continuum Analytics, Inc.| (default, May 11 2017, 13:09:58)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux`\r\n\n\n## Top Comments\n\n**sashkab**: Which version of pyq do you have?\r\n\r\n```sh\r\npip list | grep pyq\r\n```\r\n\r\nWhat do you see when you run following command?\r\n\r\n```sh\r\nQHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/l64/q\r\n```\r\n\r\nThanks.\r\n\n\n---\n\n**abalkin**: Please see [my comment](https://github.com/KxSystems/pyq/issues/32#issuecomment-346160696) on issue #32.  You can also look at the [build logs](https://travis-ci.org/KxSystems/pyq/jobs/347749426) for the installation of PyQ with Miniconda2.\n\n---\n\n**gtataranni**: I'm using `pyq (4.1.2)`. By running `QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/l64/q` I received a `Permission denied` error, which made me realise that the q binary had no execute permission.\r\nAfter setting it, I was able to run pyq. Yet, I am not able to `import pyq` in python:\r\n```\r\n(krypton_env_64) giovanni@mymachine ~$ python\r\nPython 3.6.1 |Continuum Analytics, Inc.| (default, May 11 2017, 13:09:58)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pyq\r\nTraceback (most recent call last):\r\n  File \"/home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nImportError: /home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/_k.cpython-36m-x86_64-linux-gnu.so: undefined symbol: k\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n>>>\r\n```\r\nIs this an intended behaviour? If not, could you suggest a solution?\n\n---\n\n**sashkab**: @gtataranni Unfortunately you excluding commands you running. This makes troubleshooting hard.\r\nHow did you start Python? Did you use `python` or `pyq` command? \n\n---\n\n**gtataranni**: I used `python` (updated previous comment). \n\n---\n\n**sashkab**: Than the error message you received is expected. You should use `pyq` instead of `python` to start Python interpreter for use with PyQ.\n\n---\n\n**gtataranni**: Ok. Is this expected for the interpreter only or also when running a script (no interactivity)?\n\n---\n\n**sashkab**: You always need to use `pyq` when you `import pyq` in your script. \n\n---\n\n**abalkin**: Starting with release, 4.1.4 use\r\n\r\n```bash\r\nconda install -c kx -c enlnt pyq\r\n```\r\n\r\nto install both kdb+ and PyQ.\n\n---\n\n**RemKamal**: Hello all,\r\n\r\nif I start python interpreter using pyq, I do not see python prompt shown here [1], when the first code example starts with import (from pyq import q). What am I missing? Here is what I do:\r\n\r\nbash-4.2$ echo ${QHOME}\r\n/home/nynfs01/remkamal/q/\r\nbash-4.2$ pyq\r\n'2019.11.12T17:30:53.816 cores\r\nbash-4.2$ \r\n\r\n[1]\r\nhttps://code.kx.com/v2/interfaces/pyq/user-guide/\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 511,
    "metadata": {
      "issue_number": 49,
      "state": "closed",
      "labels": [
        "conda"
      ],
      "comments_count": 15,
      "created_at": "2018-03-02T15:13:38Z",
      "updated_at": "2019-11-13T15:03:53Z",
      "closed_at": "2018-06-19T17:01:14Z",
      "author": "gtataranni",
      "top_comments": [
        "**sashkab**: Which version of pyq do you have?\r\n\r\n```sh\r\npip list | grep pyq\r\n```\r\n\r\nWhat do you see when you run following command?\r\n\r\n```sh\r\nQHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/l64/q\r\n```\r\n\r\nThanks.\r\n",
        "**abalkin**: Please see [my comment](https://github.com/KxSystems/pyq/issues/32#issuecomment-346160696) on issue #32.  You can also look at the [build logs](https://travis-ci.org/KxSystems/pyq/jobs/347749426) for the installation of PyQ with Miniconda2.",
        "**gtataranni**: I'm using `pyq (4.1.2)`. By running `QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/l64/q` I received a `Permission denied` error, which made me realise that the q binary had no execute permission.\r\nAfter setting it, I was able to run pyq. Yet, I am not able to `import pyq` in python:\r\n```\r\n(krypton_env_64) giovanni@mymachine ~$ python\r\nPython 3.6.1 |Continuum Analytics, Inc.| (default, May 11 2017, 13:09:58)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pyq\r\nTraceback (most recent call last):\r\n  File \"/home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nImportError: /home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/_k.cpython-36m-x86_64-linux-gnu.so: undefined symbol: k\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/giovanni/workspace/krypton_env_64/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n>>>\r\n```\r\nIs this an intended behaviour? If not, could you suggest a solution?",
        "**sashkab**: @gtataranni Unfortunately you excluding commands you running. This makes troubleshooting hard.\r\nHow did you start Python? Did you use `python` or `pyq` command? ",
        "**gtataranni**: I used `python` (updated previous comment). "
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ec93282ca002",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/126",
    "title": "[Windows] fail to load",
    "text": "# [Windows] fail to load\n\n# Questions\r\nI have installed pyq for Windows in a conda 32-bit venv. I am using my own venv i created specifically for this. Installation went fine, i now have a pyq.dll in my c:\\q\\w32 folder. But when I activate my venv, i get this error:\r\n```\r\n(jmitek_32bit_3_7) C:\\>cd C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>set QHOME=c:\\q\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip uninstall pyq\r\nFound existing installation: pyq 4.2.1\r\nUninstalling pyq-4.2.1:\r\n  Would remove:\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq-4.2.1.dist-info\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\p.k\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-config.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-operators.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\python.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\w32\\pyq.dll\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\ipyq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-coverage\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-runtests\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\qp\r\n  Would not remove (might be manually added):\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\kernel.py\r\nProceed (y/n)? y\r\n  Successfully uninstalled pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip install pyq\r\nProcessing c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\ac\\e1\\86\\336491a8401046eed5f231db7a49e1c15555d0ad10a49be74f\\pyq-4.2.1-cp37-cp37m-win32.whl\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>c:\\q\\w32\\q.exe python.q\r\nKDB+ 3.6 2019.04.02 Copyright (C) 1993-2019 Kx Systems\r\nw32/ 8()core 4095MB jmitek sydw1mx1qm2 10.16.203.24 NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pyq'\r\n'python\r\n  [0]  (<load>)\r\n\r\n  )\r\n```\r\n\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 7\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    (jmitek_32bit_3_7) \r\n    C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>python -V\r\n    Python 3.7.6\r\n\r\n    (jmitek_32bit_3_7) \r\n    C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip show pyq\r\n    Name: pyq\r\n    Version: 4.2.1\r\n    Summary: PyQ - Python for kdb+\r\n    Home-page: https://github.com/KxSystems/pyq\r\n    Author: None\r\n    Author-email: None\r\n    License: Apache License\r\n    Location: c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\r\n    Requires:\r\n    Required-by:\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32-bit\r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes, anaconda venv\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    (jmitek_32bit_3_7) \r\n    C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>set QHOME\r\n    QHOME=c:\\q\r\n\r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    yes,\r\n    (jmitek_32bit_3_7) \r\n    C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>conda -- \r\n   version conda 4.8.2 \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\n\n## Top Comments\n\n**sashkab**: Did you try using conda to install PyQ under Windows?\r\n\r\n```sh\r\nconda install -c kx -c enlnt pyq \r\n```\r\n\r\nNote, this will install conda-provided version of kdb+.\n\n---\n\n**sashkab**: Another thing, try removing `c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\ac\\e1\\86\\336491a8401046eed5f231db7a49e1c15555d0ad10a49be74f\\pyq-4.2.1-cp37-cp37m-win32.whl` file and re-installing PyQ from sources. Perhaps wheel has hard-coded paths somewhere. Or use `pip install --no-binary pyq pyq` instead.\n\n---\n\n**jmitek**: Thanks, I have tried as suggested, but the package is not found:\r\n```\r\nI uninstalled, deleted the the whl file, then\r\n1)\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>conda install -c kx -c enlnt pyq\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\nCollecting package metadata (repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\n\r\nPackagesNotFoundError: The following packages are not available from current channels:\r\n\r\n  - pyq\r\n\r\nCurrent channels:\r\n\r\n  - https://conda.anaconda.org/kx/win-32\r\n  - https://conda.anaconda.org/kx/noarch\r\n  - https://conda.anaconda.org/enlnt/win-32\r\n  - https://conda.anaconda.org/enlnt/noarch\r\n  - https://repo.anaconda.com/pkgs/main/win-32\r\n  - https://repo.anaconda.com/pkgs/main/noarch\r\n  - https://repo.anaconda.com/pkgs/r/win-32\r\n  - https://repo.anaconda.com/pkgs/r/noarch\r\n  - https://repo.anaconda.com/pkgs/msys2/win-32\r\n  - https://repo.anaconda.com/pkgs/msys2/noarch\r\n\r\nTo search for alternate channels that may provide the conda package you're\r\nlooking for, navigate to\r\n\r\n    https://anaconda.org\r\n\r\nand use the search bar at the top of the page.\r\n```\r\n2) I tried uninstalling and using regular install\r\n3) tried uninstalling, and using no binary mode\r\n\r\nUnfortunately for 1) it didn't fiund the package, and 2 & 3 gave the same error.\r\n\n\n---\n\n**sashkab**: Please post full output of the \r\n\r\n```sh\r\nset QHOME=c:\\path\\to\\qhome\r\npython -mpip install -v pyq\r\n```\r\n\r\nPlease ensure you're using at least pip 19.x.\n\n---\n\n**jmitek**: Pip is quite recent i think:\r\n```\r\n(jmitek_32bit_3_7) C:\\>pip --version\r\npip 20.0.2 from C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pip (python 3.7)\r\n```\r\n\r\n```\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>python -mpip install -v pyq\r\nNon-user install because site-packages writeable\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-ephem-wheel-cache-8vxxuxhs\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nInitialized build tracking at C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nCreated build tracker: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nEntered build tracker: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-install-i_wabg2q\r\n1 location(s) to search for versions of pyq:\r\n* https://pypi.org/simple/pyq/\r\nFetching project page and analyzing links: https://pypi.org/simple/pyq/\r\nGetting page https://pypi.org/simple/pyq/\r\nFound index url https://pypi.org/simple\r\nGetting credentials from keyring for https://pypi.org/simple\r\nGetting credentials from keyring for pypi.org\r\nStarting new HTTPS connection (1): pypi.org:443\r\nhttps://pypi.org:443 \"GET /simple/pyq/ HTTP/1.1\" 200 1789\r\n  Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246\r\nf485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n  Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41\r\nd2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-macosx_10_12_intel: https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-c\r\np27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win32: https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win\r\n32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win_amd64: https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m\r\n-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-macosx_10_12_intel: https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-c\r\np36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win32: https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win\r\n32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win_amd64: https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m\r\n-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win32: https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32\r\n.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win_amd64: https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-w\r\nin_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win32: https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32\r\n.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win_amd64: https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-w\r\nin_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/)\r\n  Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b\r\n4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n  Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d\r\n13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Found link https://files.pythonhosted.org/packages/53/de/195ce13d50784489365fee87d1e7d637fa2e42f3c5ae359d56c13595c93c/pyq-4.1.4.tar.gz#sha256=3386268669be9f6c3826862edfd8fc91e7b1be2ff246ebc2275c30ae\r\na5075211 (from https://pypi.org/simple/pyq/), version: 4.1.4\r\n  Found link https://files.pythonhosted.org/packages/ec/ec/5cac702015b3b83de26cd896e38a5d7cbace513a48d37da9c7390dcc86eb/pyq-4.2.0.tar.gz#sha256=eb0fcb2773b89055174b000d1c0fcefd27dbea06a7ffe6c23924768f\r\n6d922c35 (from https://pypi.org/simple/pyq/), version: 4.2.0\r\n  Found link https://files.pythonhosted.org/packages/55/ef/c0ce6cfd39dc599cba09e1d889dc750fea83d2ab47afca328df46f3441cf/pyq-4.2.1.tar.gz#sha256=4f0c1b654a99d356992b06493acb843fcd9611f76449b068a47dd3cb\r\n30e907ca (from https://pypi.org/simple/pyq/), version: 4.2.1\r\nGiven no hashes to check 7 links for project 'pyq': discarding no candidates\r\nUsing version 4.2.1 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3, 4.1.4, 4.2.0, 4.2.1)\r\nUsing cached wheel link: file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl\r\nProcessing c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\eb\\82\\3d\\7caf530ccb243dd5f55b260ddc247d87283840118e86983734\\pyq-4.2.1-cp37-cp37m-win32.whl\r\n  Added pyq from file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl to build tracker 'C:\\\\Users\\\\jmitek\\\\\r\nAppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\n  Removed pyq from file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl from build tracker 'C:\\\\Users\\\\jmit\r\nek\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\nInstalling collected packages: pyq\r\n  Created temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-unpacked-wheel-aia53nzf\r\n\r\nSuccessfully installed pyq-4.2.1\r\nCleaning up...\r\nRemoved build tracker: 'C:\\\\Users\\\\jmitek\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\n```\r\n\n\n---\n\n**sashkab**: Please remove `C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl` wheel and then ensure you set `QHOME` to point into your kdb+ installation before running `pip install..` and try again. \n\n---\n\n**jmitek**: Thanks @sashkab I have done that, but unfortunately still the same issue. Here are all my steps today:\r\n```\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip uninstall pyq\r\nFound existing installation: pyq 4.2.1\r\nUninstalling pyq-4.2.1:\r\n  Would remove:\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq-4.2.1.dist-info\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\p.k\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-config.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-operators.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\python.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\w32\\pyq.dll\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\ipyq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-coverage\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-runtests\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\qp\r\n  Would not remove (might be manually added):\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\kernel.py\r\nProceed (y/n)? y\r\n  Successfully uninstalled pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>echo %QHOME%\r\nC:\\Users\\jmitek\\apps\\q\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>del C:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\eb\\82\\3d\\7caf530ccb243dd5f55b260ddc247d87283840118e8\r\n6983734\\pyq-4.2.1-cp37-cp37m-win32.whl\r\nCould Not Find C:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\eb\\82\\3d\\7caf530ccb243dd5f55b260ddc247d87283840118e86983734\\pyq-4.2.1-cp37-cp37m-win32.whl\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip install pyq\r\nProcessing c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\ac\\e1\\86\\336491a8401046eed5f231db7a49e1c15555d0ad10a49be74f\\pyq-4.2.1-cp37-cp37m-win32.whl\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip uninstall pyq\r\nFound existing installation: pyq 4.2.1\r\nUninstalling pyq-4.2.1:\r\n  Would remove:\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq-4.2.1.dist-info\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\*\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\p.k\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-config.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\pyq-operators.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\python.q\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\w32\\pyq.dll\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\ipyq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pq\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-coverage\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\pyq-runtests\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\scripts\\qp\r\n  Would not remove (might be manually added):\r\n    c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pyq\\kernel.py\r\nProceed (y/n)? y\r\n  Successfully uninstalled pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>del c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\ac\\e1\\86\\336491a8401046eed5f231db7a49e1c15555d0ad10a\r\n49be74f\\pyq-4.2.1-cp37-cp37m-win32.whl\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>pip install pyq\r\nCollecting pyq\r\n  Downloading pyq-4.2.1.tar.gz (102 kB)\r\n     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 102 kB 2.2 MB/s\r\nBuilding wheels for collected packages: pyq\r\n  Building wheel for pyq (setup.py) ... done\r\n  Created wheel for pyq: filename=pyq-4.2.1-cp37-cp37m-win32.whl size=192178 sha256=74e1c5d69afa841decd949dda09b9f30cf6f1a7df360a21aa35b1bd462e9995f\r\n  Stored in directory: c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\eb\\82\\3d\\7caf530ccb243dd5f55b260ddc247d87283840118e86983734\r\nSuccessfully built pyq\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>where q\r\nC:\\Users\\jmitek\\apps\\q\\w32\\q.exe\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>q python.q\r\nKDB+ 3.6 2019.04.02 Copyright (C) 1993-2019 Kx Systems\r\nw32/ 8()core 4095MB jmitek sydw1mx1qm2 10.16.203.24 NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pyq'\r\n'python\r\n  [0]  (<load>)\r\n```\n\n---\n\n**jmitek**: Note i tried a couple of times, so that file you asked me to delete, I had deleted, but then tried the same thing a few more time. That whl file moved, but as you can see I deleted that as well, so it downloaded fresh file and did the build.\n\n---\n\n**sashkab**: Please install kdb+ into `c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\\`, set `QHOME` to point into `c:\\users\\jmitek\\appdata\\local\\continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q`, and try installing PyQ again `python -mpip install --no-binary pyq pyq`.\r\n\r\nPerhaps, dropping kdb+ into this directory and setting QHOME will make your PyQ installation working without reinstalling.  \r\n \n\n---\n\n**jmitek**: Seems to have actually loaded python shell. When i 'import pyq', it hangs, and then i do ^Z+Enter, but nothing happens. There is an error stating the venv is not initialized, even though it clearly is.. Running just 'python' works fine though.\r\n\r\n```\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>set QHOME=C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\q\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>python -mpip install --no-binary pyq pyq\r\nCollecting pyq\r\n  Downloading pyq-4.2.1.tar.gz (102 kB)\r\n     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 102 kB 3.2 MB/s\r\nSkipping wheel build for pyq, due to binaries being disabled for it.\r\nInstalling collected packages: pyq\r\n    Running setup.py install for pyq ... done\r\nSuccessfully installed pyq-4.2.1\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>where q\r\nC:\\Users\\jmitek\\apps\\q\\w32\\q.exe\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>q\\w32\\q.exe python.q\r\nKDB+ 3.6 2019.04.02 Copyright (C) 1993-2019 Kx Systems\r\nw32/ 8()core 4095MB jmitek sydw1mx1qm2 10.16.203.24 NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nPython 3.7.6 (default, Jan  8 2020, 16:21:45) [MSC v.1916 32 bit (Intel)] :: Anaconda, Inc. on win32\r\n\r\nWarning:\r\nThis Python interpreter is in a conda environment, but the environment has\r\nnot been activated.  Libraries may fail to load.  To activate this environment\r\nplease see https://conda.io/activation\r\n\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pyq\r\nZ\r\n\r\nKeyboardInterrupt\r\n>>>\r\n>>>\r\n>>>\r\n\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>python\r\nPython 3.7.6 (default, Jan  8 2020, 16:21:45) [MSC v.1916 32 bit (Intel)] :: Anaconda, Inc. on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>\r\n```\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1600,
    "metadata": {
      "issue_number": 126,
      "state": "closed",
      "labels": [
        "windows",
        "no-issue-activity"
      ],
      "comments_count": 14,
      "created_at": "2020-02-10T03:54:25Z",
      "updated_at": "2020-05-04T00:11:43Z",
      "closed_at": "2020-05-04T00:11:43Z",
      "author": "jmitek",
      "top_comments": [
        "**sashkab**: Did you try using conda to install PyQ under Windows?\r\n\r\n```sh\r\nconda install -c kx -c enlnt pyq \r\n```\r\n\r\nNote, this will install conda-provided version of kdb+.",
        "**sashkab**: Another thing, try removing `c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\ac\\e1\\86\\336491a8401046eed5f231db7a49e1c15555d0ad10a49be74f\\pyq-4.2.1-cp37-cp37m-win32.whl` file and re-installing PyQ from sources. Perhaps wheel has hard-coded paths somewhere. Or use `pip install --no-binary pyq pyq` instead.",
        "**jmitek**: Thanks, I have tried as suggested, but the package is not found:\r\n```\r\nI uninstalled, deleted the the whl file, then\r\n1)\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>conda install -c kx -c enlnt pyq\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\nCollecting package metadata (repodata.json): done\r\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\r\n\r\nPackagesNotFoundError: The following packages are not available from current channels:\r\n\r\n  - pyq\r\n\r\nCurrent channels:\r\n\r\n  - https://conda.anaconda.org/kx/win-32\r\n  - https://conda.anaconda.org/kx/noarch\r\n  - https://conda.anaconda.org/enlnt/win-32\r\n  - https://conda.anaconda.org/enlnt/noarch\r\n  - https://repo.anaconda.com/pkgs/main/win-32\r\n  - https://repo.anaconda.com/pkgs/main/noarch\r\n  - https://repo.anaconda.com/pkgs/r/win-32\r\n  - https://repo.anaconda.com/pkgs/r/noarch\r\n  - https://repo.anaconda.com/pkgs/msys2/win-32\r\n  - https://repo.anaconda.com/pkgs/msys2/noarch\r\n\r\nTo search for alternate channels that may provide the conda package you're\r\nlooking for, navigate to\r\n\r\n    https://anaconda.org\r\n\r\nand use the search bar at the top of the page.\r\n```\r\n2) I tried uninstalling and using regular install\r\n3) tried uninstalling, and using no binary mode\r\n\r\nUnfortunately for 1) it didn't fiund the package, and 2 & 3 gave the same error.\r\n",
        "**sashkab**: Please post full output of the \r\n\r\n```sh\r\nset QHOME=c:\\path\\to\\qhome\r\npython -mpip install -v pyq\r\n```\r\n\r\nPlease ensure you're using at least pip 19.x.",
        "**jmitek**: Pip is quite recent i think:\r\n```\r\n(jmitek_32bit_3_7) C:\\>pip --version\r\npip 20.0.2 from C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7\\lib\\site-packages\\pip (python 3.7)\r\n```\r\n\r\n```\r\n(jmitek_32bit_3_7) C:\\Users\\jmitek\\AppData\\Local\\Continuum\\anaconda3_32bit\\envs\\jmitek_32bit_3_7>python -mpip install -v pyq\r\nNon-user install because site-packages writeable\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-ephem-wheel-cache-8vxxuxhs\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nInitialized build tracking at C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nCreated build tracker: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nEntered build tracker: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-req-tracker-dsjy3b0d\r\nCreated temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-install-i_wabg2q\r\n1 location(s) to search for versions of pyq:\r\n* https://pypi.org/simple/pyq/\r\nFetching project page and analyzing links: https://pypi.org/simple/pyq/\r\nGetting page https://pypi.org/simple/pyq/\r\nFound index url https://pypi.org/simple\r\nGetting credentials from keyring for https://pypi.org/simple\r\nGetting credentials from keyring for pypi.org\r\nStarting new HTTPS connection (1): pypi.org:443\r\nhttps://pypi.org:443 \"GET /simple/pyq/ HTTP/1.1\" 200 1789\r\n  Found link https://files.pythonhosted.org/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246\r\nf485fd963e1637 (from https://pypi.org/simple/pyq/), version: 4.1.0.post1\r\n  Found link https://files.pythonhosted.org/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41\r\nd2bfee18 (from https://pypi.org/simple/pyq/), version: 4.1.1\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-macosx_10_12_intel: https://files.pythonhosted.org/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-c\r\np27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c5d2eff2f7c0951b66262fec9847ee20aa614009a (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win32: https://files.pythonhosted.org/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win\r\n32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050abe2a81cd7ca096a73ea82a3b3fe4 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win_amd64: https://files.pythonhosted.org/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m\r\n-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd70801749deb0498b5a847df8437155347aaa33 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-macosx_10_12_intel: https://files.pythonhosted.org/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-c\r\np36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85d1d018286cfcbed1fcc08f72114f7631942609bf (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win32: https://files.pythonhosted.org/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win\r\n32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2012d8143c4cfcd2dd1395e5f33a (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win_amd64: https://files.pythonhosted.org/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m\r\n-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5d262099eb68caef1bc474e7688abd23 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win32: https://files.pythonhosted.org/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32\r\n.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d3218c8f4d4e02362a601f8fa9c0 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp27-cp27m-win_amd64: https://files.pythonhosted.org/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-w\r\nin_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a6fa8c65cfb1dc52dd33552ac900a7 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win32: https://files.pythonhosted.org/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32\r\n.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2fc60ea52dca82e67aa9c54d570 (from https://pypi.org/simple/pyq/)\r\n  Skipping link: none of the wheel's tags match: cp36-cp36m-win_amd64: https://files.pythonhosted.org/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-w\r\nin_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d89aa683f5b880e1179320f2a1fae1 (from https://pypi.org/simple/pyq/)\r\n  Found link https://files.pythonhosted.org/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b\r\n4ece865b (from https://pypi.org/simple/pyq/), version: 4.1.2\r\n  Found link https://files.pythonhosted.org/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d\r\n13a2a02f (from https://pypi.org/simple/pyq/), version: 4.1.3\r\n  Found link https://files.pythonhosted.org/packages/53/de/195ce13d50784489365fee87d1e7d637fa2e42f3c5ae359d56c13595c93c/pyq-4.1.4.tar.gz#sha256=3386268669be9f6c3826862edfd8fc91e7b1be2ff246ebc2275c30ae\r\na5075211 (from https://pypi.org/simple/pyq/), version: 4.1.4\r\n  Found link https://files.pythonhosted.org/packages/ec/ec/5cac702015b3b83de26cd896e38a5d7cbace513a48d37da9c7390dcc86eb/pyq-4.2.0.tar.gz#sha256=eb0fcb2773b89055174b000d1c0fcefd27dbea06a7ffe6c23924768f\r\n6d922c35 (from https://pypi.org/simple/pyq/), version: 4.2.0\r\n  Found link https://files.pythonhosted.org/packages/55/ef/c0ce6cfd39dc599cba09e1d889dc750fea83d2ab47afca328df46f3441cf/pyq-4.2.1.tar.gz#sha256=4f0c1b654a99d356992b06493acb843fcd9611f76449b068a47dd3cb\r\n30e907ca (from https://pypi.org/simple/pyq/), version: 4.2.1\r\nGiven no hashes to check 7 links for project 'pyq': discarding no candidates\r\nUsing version 4.2.1 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3, 4.1.4, 4.2.0, 4.2.1)\r\nUsing cached wheel link: file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl\r\nProcessing c:\\users\\jmitek\\appdata\\local\\pip\\cache\\wheels\\eb\\82\\3d\\7caf530ccb243dd5f55b260ddc247d87283840118e86983734\\pyq-4.2.1-cp37-cp37m-win32.whl\r\n  Added pyq from file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl to build tracker 'C:\\\\Users\\\\jmitek\\\\\r\nAppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\n  Removed pyq from file:///C:/users/jmitek/appdata/local/pip/cache/wheels/eb/82/3d/7caf530ccb243dd5f55b260ddc247d87283840118e86983734/pyq-4.2.1-cp37-cp37m-win32.whl from build tracker 'C:\\\\Users\\\\jmit\r\nek\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\nInstalling collected packages: pyq\r\n  Created temporary directory: C:\\Users\\jmitek\\AppData\\Local\\Temp\\pip-unpacked-wheel-aia53nzf\r\n\r\nSuccessfully installed pyq-4.2.1\r\nCleaning up...\r\nRemoved build tracker: 'C:\\\\Users\\\\jmitek\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-dsjy3b0d'\r\n```\r\n"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-1deef78acb69",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/74",
    "title": "Issues installing PyQ on Win10",
    "text": "# Issues installing PyQ on Win10\n\nI'm trying to install PyQ on a 64-bit Win 10 system, python v 3.6.6.  I currently have the 32-bit version of kdb+ installed.  \r\n\r\nI'd initially run into an error indicating I was missing the VS 14 build tools.  The link provided was dead (I'm guessing as it point to the VS2015 build tools and VS2017 had been released) so I DLed and installed the the VS2017 build tools.  This didn't fix the issue.  I tried installing VS 2017 which had some additional python support.  This fixed the original issue, but gave rise to another related unresolved externals, which I was able to resolve by running from developer cmd.\r\n\r\nI was able to resolve that issue but am now running into an error stating:\r\n` error: command 'cl.exe' failed: No such file or directory`\r\n\r\nIn short, from what I've seen and also following the issues posted here on git, Windows support for PyQ isn't a primary concern nor is it known to play particularly well with Windows natively.  As I have the option of dual booting into a Linux system, before I continue down this rabbit hole, am I likely going to be better off by simply attempting a Ubuntu install?  I'd considered simply moving all my development activities to Linux anyway as I've run into a number of issues setting up my system on Windows.  \r\n\r\nAny advice on resolving the error or input on the relative suitability of PyQ (and kdb and python by extension) to Windows versus Linux is appreciated. \r\n\r\nRegards,\r\nChris\r\n\n\n## Top Comments\n\n**abalkin**: We building pyq and running the tests on 32-bit Window as a part of our internal CI, so you should be able to build any recent version.  From your description, it does not look like anything specific pyq.  Are you able to build any other python package?  Please try\r\n\r\n```\r\npip install --no-binary numpy numpy\r\n```\r\n\r\n> Any advice on resolving the error or input on the relative suitability of PyQ (and kdb and python by extension) to Windows versus Linux is appreciated.\r\n\r\nWindows support is still considered experimental, but since we run the same tests on Linux and Windows, once you overcome the installation hurdles, you will be able to use the same features on both platforms.  The only major missing feature on windows is the pyq executable: you have to run `q python.q script.py` instead of `pyq script.py`.\n\n---\n\n**abalkin**: >  The link provided was dead (I'm guessing as it point to the VS2015 build tools and VS2017 had been released) so I DLed and installed the the VS2017 build tools. This didn't fix the issue. I tried installing VS 2017 which had some additional python support.\r\n\r\n@sashkab - should we update [Windows build instructions](https://code.kx.com/q/interfaces/pyq/install/#installing-on-windows)?  I am not sure what link @cppt is complaining about. Both Python 2.7 and Python 3.6 links that we provide work for me. \n\n---\n\n**cppt**: Thanks.  The first error message I got included the following link to get the missing build tools:\r\nhttps://landinghub.visualstudio.com/visual-cpp-build-tools\r\n\r\nI've since closed that cmd terminal otherwise I'd paste the error message.  \r\n\r\nnumpy install completed successfully though threw an error after completing.  A quick google seems to suggest this is an existing issue with python 3.6 and numpy, hopefully resolved with 3.7:\r\n![image](https://user-images.githubusercontent.com/40817827/42295925-4594c390-7fa4-11e8-8460-44abb13533e1.png)\r\n\r\nRe Windows support:  It sounds like you all aren't running into any of these issues in your testing on Windows then?  \r\n\r\nok, I might just install Ubuntu then and give all of this a try there.  I'm far from married to Windows and was leaning toward doing that anyway.  \r\n\n\n---\n\n**abalkin**: Interesting.   Can you rebuild numpy in verbose mode?\r\n\r\n```\r\npip uninstall numpy\r\npip install -vvv  --no-binary numpy numpy\r\n```\r\n\r\n\n\n---\n\n**abalkin**: > The first error message I got included the following link to get the missing build tools:\r\nhttps://landinghub.visualstudio.com/visual-cpp-build-tools\r\n\r\nI am not sure where such message may come from.  We don't issue this message and I could not find it in Python sources either.  Apparently, people have seen this message [with other packages](https://github.com/statsmodels/statsmodels/issues/4160) as well.  Are you using Anaconda Python by any chance?\n\n---\n\n**cppt**: No, though I've been considering installing it in hopes of remedying some of these issues given all the supplemental packages it comes with.  I did originally have PyCharm installed though.    \r\n\r\nLog file for verbose install is attached:\r\n[numpyInstall.txt](https://github.com/KxSystems/pyq/files/2164510/numpyInstall.txt)\n\n---\n\n**abalkin**: Thanks, can you also attach a similar verbose log from\r\n\r\n```\r\npip install -vvv  --no-binary pyq pyq\r\n```\n\n---\n\n**sashkab**: Our instructions are correct, nothing to update. He complains about link provided from `pip`, which is dead. End user suppose to install Visual Studio compiler in order to compile PyQ. For Python 3.6 -- It's from https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2017. Based on numpyInstall.txt, it seems like he already has them installed. \r\n\r\nFrom here, `pip install -U pyq==4.1.4` should install latest version of PyQ, as long as you followed our instructions. \r\n\n\n---\n\n**cppt**: Attached.  \r\n[pyqInstall.txt](https://github.com/KxSystems/pyq/files/2167745/pyqInstall.txt)\r\n\n\n---\n\n**abalkin**: Thanks for sharing the log.  It looks like you are attempting to build 32-bit PyQ using 64-bit Python.  This cannot work.  You should download 32-bit python from <https://www.python.org/downloads/windows> and use it to build PyQ.  Alternatively, you can get a 64-bit kdb+ from <https://ondemand.kx.com> and use that together with the 64-bit python to build 64-bit PyQ.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 870,
    "metadata": {
      "issue_number": 74,
      "state": "closed",
      "labels": [],
      "comments_count": 12,
      "created_at": "2018-07-04T21:04:01Z",
      "updated_at": "2018-07-07T02:10:34Z",
      "closed_at": "2018-07-07T02:10:34Z",
      "author": "cppt",
      "top_comments": [
        "**abalkin**: We building pyq and running the tests on 32-bit Window as a part of our internal CI, so you should be able to build any recent version.  From your description, it does not look like anything specific pyq.  Are you able to build any other python package?  Please try\r\n\r\n```\r\npip install --no-binary numpy numpy\r\n```\r\n\r\n> Any advice on resolving the error or input on the relative suitability of PyQ (and kdb and python by extension) to Windows versus Linux is appreciated.\r\n\r\nWindows support is still considered experimental, but since we run the same tests on Linux and Windows, once you overcome the installation hurdles, you will be able to use the same features on both platforms.  The only major missing feature on windows is the pyq executable: you have to run `q python.q script.py` instead of `pyq script.py`.",
        "**abalkin**: >  The link provided was dead (I'm guessing as it point to the VS2015 build tools and VS2017 had been released) so I DLed and installed the the VS2017 build tools. This didn't fix the issue. I tried installing VS 2017 which had some additional python support.\r\n\r\n@sashkab - should we update [Windows build instructions](https://code.kx.com/q/interfaces/pyq/install/#installing-on-windows)?  I am not sure what link @cppt is complaining about. Both Python 2.7 and Python 3.6 links that we provide work for me. ",
        "**cppt**: Thanks.  The first error message I got included the following link to get the missing build tools:\r\nhttps://landinghub.visualstudio.com/visual-cpp-build-tools\r\n\r\nI've since closed that cmd terminal otherwise I'd paste the error message.  \r\n\r\nnumpy install completed successfully though threw an error after completing.  A quick google seems to suggest this is an existing issue with python 3.6 and numpy, hopefully resolved with 3.7:\r\n![image](https://user-images.githubusercontent.com/40817827/42295925-4594c390-7fa4-11e8-8460-44abb13533e1.png)\r\n\r\nRe Windows support:  It sounds like you all aren't running into any of these issues in your testing on Windows then?  \r\n\r\nok, I might just install Ubuntu then and give all of this a try there.  I'm far from married to Windows and was leaning toward doing that anyway.  \r\n",
        "**abalkin**: Interesting.   Can you rebuild numpy in verbose mode?\r\n\r\n```\r\npip uninstall numpy\r\npip install -vvv  --no-binary numpy numpy\r\n```\r\n\r\n",
        "**abalkin**: > The first error message I got included the following link to get the missing build tools:\r\nhttps://landinghub.visualstudio.com/visual-cpp-build-tools\r\n\r\nI am not sure where such message may come from.  We don't issue this message and I could not find it in Python sources either.  Apparently, people have seen this message [with other packages](https://github.com/statsmodels/statsmodels/issues/4160) as well.  Are you using Anaconda Python by any chance?"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-11cbcdcbe18e",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/133",
    "title": "pandas 1.0.3 incompatibility",
    "text": "# pandas 1.0.3 incompatibility\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Linux Red Hat 7\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    4.2.1\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    KDB 3.6\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n \r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/Users/adb/miniconda3/q\r\n\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    Miniconda 3\r\n    ```   \r\n\r\n\r\n\r\nLists cannot be cast to pandas series in version > 1.0.\r\n\r\nVersions:\r\nPyQ 4.2.1\r\nPandas 1.0.3\r\nNumpy 1.17.4\r\n\r\n```\r\nfrom pyq import q\r\nimport pandas as pd\r\n\r\npd.Series(q(\"`a`b`c\"))\r\n\r\npd.Series(q.til(10))\r\n\r\n```\r\n\r\nBoth yield\r\n`AttributeError: items`\n\n## Top Comments\n\n**sashkab**: @antipisa please do not delete questionaries when opening issues. Future issues with removed questionaries will be closed immediately as invalid. \n\n---\n\n**sashkab**: Internal issue 1069.\n\n---\n\n**antipisa**: Has this been resolved?\n\n---\n\n**sashkab**: No, but accepting pull requests. \n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**cmccarthy1**: @sashkab I see this had been labelled an internal issue, has there been any progress on this? There have been a number of users on internal channels asking about this\n\n---\n\n**sashkab**: @cmccarthy1 no updates.\n\n---\n\n**cmccarthy1**: If possible can this be prioritised for any future updates. It's a blocking issue for the user that has been requesting the change\n\n---\n\n**nmcdaid**: This is also causing issues for my team - has there been an update on this? I thought PyQ was supposed to be supported by Kx rather than relying on external PRs?",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 360,
    "metadata": {
      "issue_number": 133,
      "state": "open",
      "labels": [
        "pandas",
        "accepting pull requests"
      ],
      "comments_count": 10,
      "created_at": "2020-05-15T22:13:05Z",
      "updated_at": "2021-06-11T16:12:05Z",
      "closed_at": null,
      "author": "antipisa",
      "top_comments": [
        "**sashkab**: @antipisa please do not delete questionaries when opening issues. Future issues with removed questionaries will be closed immediately as invalid. ",
        "**sashkab**: Internal issue 1069.",
        "**antipisa**: Has this been resolved?",
        "**sashkab**: No, but accepting pull requests. ",
        "**github-actions[bot]**: Stale issue message"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-2f378f7526a8",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/43",
    "title": "Is it possible to return Python output into KDB?",
    "text": "# Is it possible to return Python output into KDB?\n\nHello,\r\n\r\nUsing PyQ from inside a running q process, is it possible at all to return evaluated data from Python in an anonymous and dynamic way?\r\n\r\nFor example (from q):\r\n\r\n`q)show .p.e \"6*7\"`\r\n\r\nI know that I can send data from Python into q using q global variables as follows:\r\n\r\n```\r\nq)p)q.my_variable = 6*7\r\nq)show my_variable\r\n```\r\n\r\nBut this is a very inelegant solution, and would not scale well for large data science operations.\r\n\r\nIdeally, something like .p.pyeval in embedPy but for PyQ. Is there anything like this I could use?\r\n\r\nI would use embedPy if I could, but I'm on Windows, and while I can get the p.dll from embedPy to compile, it always crashes whenever I try to use it. PyQ I can successfully compile and operate on Windows.\r\n\r\nI asked a similar question to this last year, and at the time, this was the ultimate answer from @abalkin \r\n\r\n> If you want to use .p.e or p) syntax, then you are restricted to communication via global variables.\r\n\r\nIs this restriction still the case for PyQ 4.1.2?\n\n## Top Comments\n\n**abalkin**: The default `.p.e` still does not return values to q, but support for functions exported from Python to q has been extended in recent versions and you can implement your own `pyeval` function as follows:\r\n\r\n```\r\n>>> def pyeval(x):\r\n...     return eval(str(x))\r\n...\r\n>>> q.pyeval_ = pyeval\r\n>>> q()\r\nq)pyeval:{pyeval_ enlist x}\r\nq)pyeval \"1+2\"\r\n3\r\n```\r\n\r\nYou may also take a look at embedPy where returning values from Python to q is taken to the whole new level.  In the next release of pyq we are planning to allow optional installation of embedPy in the same kdb+ setup.  See #30.\n\n---\n\n**trias702**: Many thanks for the pyeval workaround I really appreciate it!\r\n\r\nBtw, I would very much love to use embedPy, but it sadly seems to have severe incompatibilities with Windows which PyQ doesn't have. If using mingw64 GCC, PyQ is very easy to compile with full functionality, but not EmbedPy.\r\n\r\nI spent the entire day today re-writing elements of p.c for embedPy to get it to work on Windows with mingw64 gcc, but I was not successful (I can get it to compile easily, but not work). I think the problem is the dyl() call which no longer uses LoadLibraryA from windows.h the way that PyQ uses. My only other theory is that it could be the pthreads.h calls, but mingw64 has supplied win32 pthreads for years, so I kind of doubt that it's the issue.\r\n\r\nEither way, if you could please look into possibly bringing some of the embedPy code closer in line with PyQ, at least for dyl(), I would really greatly appreciate it!\n\n---\n\n**abalkin**: >  I would very much love to use embedPy, but it sadly seems to have severe incompatibilities with Windows which PyQ doesn't have.\r\n\r\nThe Kx team is working on this.  See also  KxSystems/embedPy#17.\n\n---\n\n**abalkin**: Ref: internal tracker gl-628.\n\n---\n\n**trias702**: Sorry, another question regarding function bindings in PyQ. I'm trying to create a nice, elegant way of sending q tables to Python as pandas DataFrames from within q. I have come up with the following solution, but I'm not sure why it is not working:\r\n\r\n```python\r\ncat test.p\r\nfrom pyq import q,K\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\n# define python to q comms funcs\r\ndef q_set(name, value):\r\n\tglobals()[str(name)] = value\r\n\treturn K(str(name))\r\n\r\ndef q_qt2df(x):\r\n\treturn pd.DataFrame(dict(x.flip))\r\n\r\nq.set('.p.set', q_set)\r\nq.set('.p.qt2df', q_qt2df)\r\n```\r\n\r\nThen from q:\r\n\r\n```\r\nq)\\l test.p\r\nq)x:([]c1:1000?1f;c2:1000?100)\r\nq).p.set (\"Xp\"; .p.qt2df x)\r\nq).p.e \"print(type(Xp))\"\r\n<class 'pyq.K'>       // was expecting to get pandas.core.frame.DataFrame\r\n```\r\n\r\nWhy is Xp in Python still a pyq.K object when it passes through the .p.qt2df function which returns a pandas DataFrame?\r\n\r\nI know that I can do the conversion entirely on the Python side, like so:\r\n\r\n```\r\nq).p.set (\"Xp\"; x)\r\nq).p.e \"Xp = pd.DataFrame(dict(Xp.flip))\"\r\n```\r\n\r\nBut this is very inelegant. Ideally, I would like to send q tables through to Python as DataFrames in one step.\r\n\r\n\n\n---\n\n**abalkin**: >  I would like to send q tables through to Python as DataFrames in one step.\r\n\r\nThis would be against PyQ philosophy which says that data should gravitate towards q.  This is why conversion from Python to q is implicit and once your `qt2df` is exported to q as `.p.qt2df`, it will convert its return type to a q object.  Note that embedPy does not follow the same philosophy and uses a recent undocumented feature in q that allows wrapping \"foreign\" objects (such a Panda dataframes) in a special q datatype.\r\n\r\nFor PyQ users, we recommend that most data manipulation is performed with data stored in q table and you only convert final results to panda for visualization.\r\n\r\nNote that q table columns can be manipulated directly by numpy. For example:\r\n\r\n```q\r\nq)t:([]a:5?10f;b:0f)\r\nq)t\r\na        b\r\n----------\r\n3.017723 0\r\n7.85033  0\r\n5.347096 0\r\n7.111716 0\r\n4.11597  0\r\nq)p)import numpy\r\nq)p)numpy.log10(q.t.a, numpy.asarray(q.t.b))\r\nq)t\r\na        b\r\n------------------\r\n3.017723 0.4796793\r\n7.85033  0.8948879\r\n5.347096 0.728118\r\n7.111716 0.8519744\r\n4.11597  0.6144722\r\n```\r\n\r\nThis said, we are working on incorporating embedPy in PyQ and in the future you should be able to manipulate panda DataFrames from q without conversion. \n\n---\n\n**trias702**: That's fair enough, thank you for the explanation.\r\n\r\nWhat about sending data from q into Python as a numpy matrix in one step, is that possible?\r\n\r\nSo I have an in-memory table in q, which I do all data manipulation on. Now I want to send it to Python as a numpy matrix so that I can feed it into SkLearn/Keras and do some .p.e commands on it. Would it be possible to perform this action in one step similar to my attempt with Pandas earlier?\r\n\r\nI note that the conversion syntax (in Python) from q table to DataFrame is:\r\n\r\n`pandas.DataFrame(dict(q_table_object.flip))`\r\n\r\nIs there a similar pattern for q table to numpy matrix?\n\n---\n\n**abalkin**: > What about sending data from q into Python as a numpy matrix in one step, is that possible?\r\n\r\nIs this what you are looking for?\r\n\r\n```\r\nq)x:2 3#til 6\r\nq)p)import numpy\r\nq)p)print(numpy.array(q.x))\r\n[[0 1 2]\r\n [3 4 5]]\r\n```\r\n\r\nNote that this creates a copy of your data.\r\n\r\nIf your data is in a table, you can do something like this:\r\n\r\n```\r\nq)t:([]a:0 1 2;b:3 4 5)\r\nq)p)print(numpy.array(q.t.flip.value))\r\n[[0 1 2]\r\n [3 4 5]]\r\n```\r\n\r\nHere, flip and value are cheap operations, but numpy.array() still creates a copy.\n\n---\n\n**trias702**: Not exactly, since that still requires communicating with Python via global variables. I'm looking to apply the same design pattern as before, but was hoping that it would work for numpy matrices since they might be easier to bind with inside q:\r\n\r\n```\r\ncat test.p\r\nfrom pyq import q,K\r\nimport numpy as np\r\n\r\n# define python to q comms funcs\r\ndef q_set(name, value):\r\n\tglobals()[str(name)] = value\r\n\treturn K(str(name))\r\n\r\ndef q_qt2np(x):\r\n\treturn np.array(x.flip.value)\r\n\r\nq.set('.p.set', q_set)\r\nq.set('.p.qt2np', q_qt2np)\r\n```\r\n\r\nThen from q:\r\n\r\n```\r\nq)\\l test.p\r\nq)x:([]c1:1000?1f;c2:1000?100)\r\nq).p.set (\"Xp\"; .p.qt2np enlist x)\r\nq).p.e \"print(type(Xp))\"   <--- hoping that this prints \"numpy.array\" but sadly it still prints pyq.K\r\n```\r\n\r\nI definitely understand your reasons for why PyQ is not able to do this, because of the design philosophy, it all makes sense. It sounds like embedPy has more of the functionality which I'm looking for, but sadly it doesn't work on Windows yet.\r\n\r\nThank you for the help though, I can do what I require for my projects with PyQ, just won't be as efficient as I was hoping for.\r\n\r\n\n\n---\n\n**abalkin**: It looks like you are trying to put the logic in q that belongs to python.  Why don't you do the following in your test.p:\r\n\r\n```python\r\nfrom pyq import q,K\r\nimport numpy as np\r\n\r\nq)x:([]c1:1000?1f;c2:1000?100)\r\n\r\nXp = np.array(q.x.flip.value)\r\n```\r\n\r\nNow, \r\n\r\n```\r\nq test.p\r\nq)p)print(type(Xp))\r\n<class 'numpy.ndarray'>\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1300,
    "metadata": {
      "issue_number": 43,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 10,
      "created_at": "2018-02-15T18:51:05Z",
      "updated_at": "2018-05-19T17:36:55Z",
      "closed_at": "2018-05-19T17:36:55Z",
      "author": "trias702",
      "top_comments": [
        "**abalkin**: The default `.p.e` still does not return values to q, but support for functions exported from Python to q has been extended in recent versions and you can implement your own `pyeval` function as follows:\r\n\r\n```\r\n>>> def pyeval(x):\r\n...     return eval(str(x))\r\n...\r\n>>> q.pyeval_ = pyeval\r\n>>> q()\r\nq)pyeval:{pyeval_ enlist x}\r\nq)pyeval \"1+2\"\r\n3\r\n```\r\n\r\nYou may also take a look at embedPy where returning values from Python to q is taken to the whole new level.  In the next release of pyq we are planning to allow optional installation of embedPy in the same kdb+ setup.  See #30.",
        "**trias702**: Many thanks for the pyeval workaround I really appreciate it!\r\n\r\nBtw, I would very much love to use embedPy, but it sadly seems to have severe incompatibilities with Windows which PyQ doesn't have. If using mingw64 GCC, PyQ is very easy to compile with full functionality, but not EmbedPy.\r\n\r\nI spent the entire day today re-writing elements of p.c for embedPy to get it to work on Windows with mingw64 gcc, but I was not successful (I can get it to compile easily, but not work). I think the problem is the dyl() call which no longer uses LoadLibraryA from windows.h the way that PyQ uses. My only other theory is that it could be the pthreads.h calls, but mingw64 has supplied win32 pthreads for years, so I kind of doubt that it's the issue.\r\n\r\nEither way, if you could please look into possibly bringing some of the embedPy code closer in line with PyQ, at least for dyl(), I would really greatly appreciate it!",
        "**abalkin**: >  I would very much love to use embedPy, but it sadly seems to have severe incompatibilities with Windows which PyQ doesn't have.\r\n\r\nThe Kx team is working on this.  See also  KxSystems/embedPy#17.",
        "**abalkin**: Ref: internal tracker gl-628.",
        "**trias702**: Sorry, another question regarding function bindings in PyQ. I'm trying to create a nice, elegant way of sending q tables to Python as pandas DataFrames from within q. I have come up with the following solution, but I'm not sure why it is not working:\r\n\r\n```python\r\ncat test.p\r\nfrom pyq import q,K\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\n# define python to q comms funcs\r\ndef q_set(name, value):\r\n\tglobals()[str(name)] = value\r\n\treturn K(str(name))\r\n\r\ndef q_qt2df(x):\r\n\treturn pd.DataFrame(dict(x.flip))\r\n\r\nq.set('.p.set', q_set)\r\nq.set('.p.qt2df', q_qt2df)\r\n```\r\n\r\nThen from q:\r\n\r\n```\r\nq)\\l test.p\r\nq)x:([]c1:1000?1f;c2:1000?100)\r\nq).p.set (\"Xp\"; .p.qt2df x)\r\nq).p.e \"print(type(Xp))\"\r\n<class 'pyq.K'>       // was expecting to get pandas.core.frame.DataFrame\r\n```\r\n\r\nWhy is Xp in Python still a pyq.K object when it passes through the .p.qt2df function which returns a pandas DataFrame?\r\n\r\nI know that I can do the conversion entirely on the Python side, like so:\r\n\r\n```\r\nq).p.set (\"Xp\"; x)\r\nq).p.e \"Xp = pd.DataFrame(dict(Xp.flip))\"\r\n```\r\n\r\nBut this is very inelegant. Ideally, I would like to send q tables through to Python as DataFrames in one step.\r\n\r\n"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-a016bc558020",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/36",
    "title": "symbol error while running \"pyq -m notebook \"",
    "text": "# symbol error while running \"pyq -m notebook \"\n\nI am installed pyq 4.1.2 succesfully on redhat 2.7. When I run pyq from the shell, everything works fine.\r\n\r\n```\r\n(env_py36) [a393831@lrtp9101 ~]$ pyq\r\nPython 3.6.3 |Anaconda custom (64-bit)| (default, Oct 13 2017, 12:05:00) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pyq\r\n>>> print(pyq.__version__)\r\n4.1.2\r\n>>> \r\n```\r\n\r\nBut when I launched the notebook with \"pyq -m notebook \", and tried to the above code from notebook. I received the following error (also see the attached screen shot)\r\n![pyq-notebook-error](https://user-images.githubusercontent.com/3833275/33290951-58b3208e-d392-11e7-8433-b0489c6d41fe.JPG)\r\n\r\n\r\n---------------------------------------------------------------------------\r\n```\r\nImportError                               Traceback (most recent call last)\r\n/apps/anaconda3/envs/env_py36/lib/python3.6/site-packages/pyq/__init__.py in <module>()\r\n     21 try:\r\n---> 22     from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\n     23 except ImportError:\r\n\r\nImportError: /apps/anaconda3/envs/env_py36/lib/python3.6/site-packages/pyq/_k.cpython-36m-x86_64-linux-gnu.so: undefined symbol: sd1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-1-7abfe09f4cdb> in <module>()\r\n----> 1 import pyq\r\n      2 print(tf.__version__)\r\n      3 print(pyq.__version__)\r\n\r\n/apps/anaconda3/envs/env_py36/lib/python3.6/site-packages/pyq/__init__.py in <module>()\r\n     29         else:\r\n     30             message += \"Use pyq executable.\"\r\n---> 31         raise ImportError(message)\r\n     32     raise\r\n     33 \r\n\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n```\n\n## Top Comments\n\n**abalkin**: In order to use pyq in a Jupyter notebook, you need to install pyq-kernel.  See <https://pypi.python.org/pypi/pyq-kernel>.\r\n\r\n```\r\npip install pyq-kernel\r\npyq -m pyq.kernel install\r\n```\r\n\n\n---\n\n**abalkin**: Alternatively, if you don't need to interact with the kernel via kdb+ IPC, you can simply locate your main kernel.json file (e.g. using the `jupyter kernelspec list` command) end replace \"python\" with \"pyq\" in the \"argv\" list.\n\n---\n\n**alexzhang2010**: unfortunately, installing pyq-kernel does not help. This issue seems have something to do with anaconda 5.0. I downgraded it to anaconda 4.4 (with python 3.6.3, pyq 4.1.2) and it started working.\n\n---\n\n**abalkin**: How do you get Anaconda 5.0?  I am looking at our recent Travis build <https://travis-ci.org/KxSystems/pyq/jobs/305481268> and we seem to pick up conda-4.3.30.\n\n---\n\n**sashkab**: @abalkin anaconda distribution is [5.0.1][1], but conda package is... different.  [Different versions of anaconda][2].\r\n\r\n@alexzhang2010 when you were using anaconda 5 based virtualenv, after you installed the pyq-kernel, did you change kernel from Python 3.6 to PyQ 3 kernel? Error message you were getting means, that most likely Python 3.6 kernel was used. \r\n\r\nTo help you troubleshoot -- please provide outputs of:\r\n\r\n```sh\r\njupyter kernelspec list\r\n```\r\n\r\nAnd attach the .ipynb file with the notebook which failed to work.\r\n\r\n\r\n[1]: https://www.anaconda.com/download/#macos\r\n[2]: https://repo.continuum.io/archive/\n\n---\n\n**alexzhang2010**: https://www.anaconda.com/download/\r\n\r\nThe latest build is 5.0.1 released on 10/25\r\n\n\n---\n\n**alexzhang2010**: When I was using anaconda 4.4, I donâ€™t have to install pyq-kernel. I just used python 3.6 kernel and import pyq works fine.\r\n\r\nAfter I upgraded to anaconda 5.0.1, I got the same symbol error both with PyQ 3 kernel and with Python 3 kernel.\r\n\n\n---\n\n**sashkab**: @alexzhang2010 error you're getting is expected and is not a problem. In order to use IPython Notebooks with PyQ, you need to install [ipython-kernel][1] as [suggested][2] above by @abalkin, and use PyQ kernel for your notebook. While there you will have access to `%q` single line magic and `%%q` multiline magic.\r\n\r\n[1]: https://pypi.python.org/pypi/pyq-kernel\r\n[2]: https://github.com/KxSystems/pyq/issues/36#issuecomment-347343938\r\n\n\n---\n\n**alexzhang2010**: With anaconda 5.0.1, I installed pyq-kernel and used the pyq3 kernel, I ran into the same error.\r\n\r\nWhy it works with anaconda 4.4 even without installing pyq-kernel?\r\n\r\nFrom: Aleks Bunin [mailto:notifications@github.com]\r\nSent: Monday, November 27, 2017 10:34 PM\r\nTo: KxSystems/pyq\r\nCc: Zhang, Ray; Mention\r\nSubject: Re: [KxSystems/pyq] symbol error while running \"pyq -m notebook \" (#36)\r\n\r\n\r\n@alexzhang2010<https://github.com/alexzhang2010> error you're getting is expected and is not a problem. In order to use IPython Notebooks with PyQ, you need to install ipython-kernel<https://pypi.python.org/pypi/pyq-kernel> as suggested<https://github.com/KxSystems/pyq/issues/36#issuecomment-347343938> above by @abalkin<https://github.com/abalkin>, and use PyQ kernel for your notebook. While there you will have access to %q single line magic and %%q multiline magic.\r\n\r\nâ€”\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub<https://github.com/KxSystems/pyq/issues/36#issuecomment-347403562>, or mute the thread<https://github.com/notifications/unsubscribe-auth/ADp9u_WT6LhyReSKpHGrw36ueoLZ5W_hks5s639FgaJpZM4QsWCI>.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 643,
    "metadata": {
      "issue_number": 36,
      "state": "closed",
      "labels": [
        "invalid",
        "question",
        "linux",
        "notebook"
      ],
      "comments_count": 9,
      "created_at": "2017-11-27T21:45:51Z",
      "updated_at": "2018-01-05T23:47:13Z",
      "closed_at": "2017-11-28T03:26:45Z",
      "author": "alexzhang2010",
      "top_comments": [
        "**abalkin**: In order to use pyq in a Jupyter notebook, you need to install pyq-kernel.  See <https://pypi.python.org/pypi/pyq-kernel>.\r\n\r\n```\r\npip install pyq-kernel\r\npyq -m pyq.kernel install\r\n```\r\n",
        "**abalkin**: Alternatively, if you don't need to interact with the kernel via kdb+ IPC, you can simply locate your main kernel.json file (e.g. using the `jupyter kernelspec list` command) end replace \"python\" with \"pyq\" in the \"argv\" list.",
        "**alexzhang2010**: unfortunately, installing pyq-kernel does not help. This issue seems have something to do with anaconda 5.0. I downgraded it to anaconda 4.4 (with python 3.6.3, pyq 4.1.2) and it started working.",
        "**abalkin**: How do you get Anaconda 5.0?  I am looking at our recent Travis build <https://travis-ci.org/KxSystems/pyq/jobs/305481268> and we seem to pick up conda-4.3.30.",
        "**sashkab**: @abalkin anaconda distribution is [5.0.1][1], but conda package is... different.  [Different versions of anaconda][2].\r\n\r\n@alexzhang2010 when you were using anaconda 5 based virtualenv, after you installed the pyq-kernel, did you change kernel from Python 3.6 to PyQ 3 kernel? Error message you were getting means, that most likely Python 3.6 kernel was used. \r\n\r\nTo help you troubleshoot -- please provide outputs of:\r\n\r\n```sh\r\njupyter kernelspec list\r\n```\r\n\r\nAnd attach the .ipynb file with the notebook which failed to work.\r\n\r\n\r\n[1]: https://www.anaconda.com/download/#macos\r\n[2]: https://repo.continuum.io/archive/"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-63f388a28c24",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/18",
    "title": "OrderedDict bug in 4.1.1",
    "text": "# OrderedDict bug in 4.1.1\n\n````\r\nfrom statsmodels.compat.collections import OrderedDict\r\n````\r\nthrew an exception:\r\n````\r\n/site-packages/pyq/__init__.py\", line 777, in <genexpr>\r\n    _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\nAttributeError: 'module' object has no attribute 'OrderedDict'\r\n````\r\nI think we used to have this bug in `3.8.x` version but it has been fixed. Not sure why it comes back again.\r\n\r\nThanks a lot!\n\n## Top Comments\n\n**abalkin**: @kaizeng - what python version are you using?\r\n\r\nPlease provide the output of `pyq --versions` command.\n\n---\n\n**kaizeng**: @abalkin  Thanks very much for your very prompt reply.  Here is the information:\r\n````\r\n$ pyq --version\r\nPython 2.7.12 :: Anaconda custom (64-bit)\r\n````\n\n---\n\n**abalkin**: @kaizeng - sorry, I asked for `pyq --versions` with an `s` at the end.  This is a pyq specific option that print more information than just `--version`.  Also, what are the versions of `scipy` and `statsmodels`?\n\n---\n\n**kaizeng**: @abalkin - sorry i misread it. Here is the pyq version:\r\n\r\n````\r\n$ pyq --versions\r\nPyQ 4.1.1\r\nNumPy 1.11.2\r\nKDB+ 3.3 (2016.02.02) l64\r\nPython 2.7.12 |Anaconda custom (64-bit)| (default, Jul  2 2016, 17:42:40)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]\r\n````\r\nand\r\n```\r\n>>> scipy.__version__\r\n'0.18.1'\r\n````\r\nand\r\n````\r\n>>> statsmodels.__version__\r\n'0.8.0'\r\n````\r\n\n\n---\n\n**abalkin**: @kaizeng - I was able to reproduce your issue.  We will fix it in the next release.  Meanwhile, please try the following workaround:\r\n\r\n```python\r\nimport pyq\r\ndel pyq.lazy_converters['collections']\r\nfrom statsmodels.compat.collections import OrderedDict\r\n```\r\nCheck that the conversion works:\r\n\r\n```python\r\n>>> pyq.K(OrderedDict([('a',1)]))\r\nk('(,`a)!,1')\r\n```\r\n\n\n---\n\n**kaizeng**: @abalkin Thank you very much! I really appreciate your help! The workaround is working perfectly in the meantime!\n\n---\n\n**abalkin**: I was able to reproduce this issue without statsmodels by simply creating a \"compat\" directory\r\n\r\n```\r\ncompat/\r\n    __init__.py\r\n    collections.py\r\n```\r\n\r\nwith an empty `__init__.py` and the following line in `collections.py`:\r\n\r\n```python\r\nfrom collections import OrderedDict\r\n```\r\n\r\nWith this setup,\r\n\r\n```\r\n$ pyq\r\nPython 2.7.13 (default, Jun 13 2017, 14:40:28)\r\n[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from compat.collections import OrderedDict\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/a/.virtualenvs/d/lib/python2.7/site-packages/pyq/__init__.py\", line 774, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\n  File \"compat/collections.py\", line 2, in <module>\r\n    from collections import OrderedDict\r\n  File \"/Users/a/.virtualenvs/d/lib/python2.7/site-packages/pyq/__init__.py\", line 777, in __import__\r\n    _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\n  File \"/Users/a/.virtualenvs/d/lib/python2.7/site-packages/pyq/__init__.py\", line 777, in <genexpr>\r\n    _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\nAttributeError: 'module' object has no attribute 'OrderedDict'\r\n```\r\nI feel this is a bug in statsmodels rather than pyq because adding \r\n\r\n```python\r\nfrom __future__ import absolute_import\r\n```\r\n\r\nat the top of the `compat/collections.py` file fixes the problem.\r\n\n\n---\n\n**abalkin**: The issue has been fixed in the third party code.  See statsmodels/statsmodels#3976.\n\n---\n\n**kaizeng**: @abalkin  Thanks a lot for the updates! I really appreciate your help!",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 466,
    "metadata": {
      "issue_number": 18,
      "state": "closed",
      "labels": [],
      "comments_count": 9,
      "created_at": "2017-10-04T13:47:34Z",
      "updated_at": "2017-10-05T02:22:20Z",
      "closed_at": "2017-10-05T01:42:19Z",
      "author": "kaizeng",
      "top_comments": [
        "**abalkin**: @kaizeng - what python version are you using?\r\n\r\nPlease provide the output of `pyq --versions` command.",
        "**kaizeng**: @abalkin  Thanks very much for your very prompt reply.  Here is the information:\r\n````\r\n$ pyq --version\r\nPython 2.7.12 :: Anaconda custom (64-bit)\r\n````",
        "**abalkin**: @kaizeng - sorry, I asked for `pyq --versions` with an `s` at the end.  This is a pyq specific option that print more information than just `--version`.  Also, what are the versions of `scipy` and `statsmodels`?",
        "**kaizeng**: @abalkin - sorry i misread it. Here is the pyq version:\r\n\r\n````\r\n$ pyq --versions\r\nPyQ 4.1.1\r\nNumPy 1.11.2\r\nKDB+ 3.3 (2016.02.02) l64\r\nPython 2.7.12 |Anaconda custom (64-bit)| (default, Jul  2 2016, 17:42:40)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]\r\n````\r\nand\r\n```\r\n>>> scipy.__version__\r\n'0.18.1'\r\n````\r\nand\r\n````\r\n>>> statsmodels.__version__\r\n'0.8.0'\r\n````\r\n",
        "**abalkin**: @kaizeng - I was able to reproduce your issue.  We will fix it in the next release.  Meanwhile, please try the following workaround:\r\n\r\n```python\r\nimport pyq\r\ndel pyq.lazy_converters['collections']\r\nfrom statsmodels.compat.collections import OrderedDict\r\n```\r\nCheck that the conversion works:\r\n\r\n```python\r\n>>> pyq.K(OrderedDict([('a',1)]))\r\nk('(,`a)!,1')\r\n```\r\n"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ef53f2ecae63",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/145",
    "title": "Python 3.10 compatiblity",
    "text": "# Python 3.10 compatiblity\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    macOS 11.6, 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    5.00\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        $ env | grep QLIC\r\n        QLIC=/Users/user/.lic\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    $ env | grep QHOME\r\n    $\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n  - no\r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n```sh\r\n$ brew install python@3.10\r\n$  /usr/local/opt/python@3.10/bin/python3 -mvenv .virtualenvs/310\r\n$ source .virtualenvs/310/bin/activate\r\n$ python3.10 -mpip install -U pip setuptools wheel\r\n$ unzip ~/Downloads/m64.zip -d \"${VIRTUAL_ENV}/q\"\r\n$ (unset PIP_NO_INDEX; python3.10 -mpip install pyq)\r\n...\r\nSuccessfully built pyq\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-5.0.0\r\n$ pyq --versions\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py\", line 4, in <module>\r\n    from collections import Mapping as _Mapping\r\nImportError: cannot import name 'Mapping' from 'collections' (/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/collections/__init__.py)\r\n'2021.10.06T12:38:40.403 python\r\n```\r\n\r\n## Expected result\r\n\r\n`pyq --versions` will output versions installed on system\r\n\r\n## Actual result\r\n\r\n```\r\n$ pyq --versions\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py\", line 4, in <module>\r\n    from collections import Mapping as _Mapping\r\nImportError: cannot import name 'Mapping' from 'collections' (/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/collections/__init__.py)\r\n'2021.10.06T12:38:40.403 python\r\n```\r\n\r\n## Workaround\r\n\r\n```sh\r\n$ cp -pv /Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py{,.orig}\r\n/Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py -> /Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py.orig\r\n$ vi /Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py\r\n$ diff /Users/user/.virtualenvs/310/lib/python3.10/site-packages/pyq/__init__.py{.orig,}\r\n4c4,7\r\n< from collections import Mapping as _Mapping\r\n---\r\n> try:\r\n>     from collections import Mapping as _Mapping\r\n> except ImportError:\r\n>     from collections.abc import Mapping as _Mapping\r\n$ pyq --versions\r\nPyQ 5.0.0\r\nKDB+ 3.5 (2019.01.31) m64\r\nPython 3.10.0 (default, Oct  6 2021, 01:11:32) [Clang 13.0.0 (clang-1300.0.29.3)]\r\n```\n\n## Top Comments\n\n**sashkab**: After first problem fixed, there is second problem. \r\n\r\n```\r\n$ python3.10 -mpip list\r\nPackage    Version\r\n---------- -------\r\nattrs      21.2.0\r\ncoverage   6.0\r\niniconfig  1.1.1\r\nnumpy      1.21.2\r\npackaging  21.0\r\npip        21.2.4\r\npluggy     1.0.0\r\npy         1.10.0\r\npyparsing  2.4.7\r\npyq        5.0.0\r\npytest     6.2.5\r\npytest-cov 3.0.0\r\npytest-pyq 1.2.0\r\nsetuptools 58.2.0\r\ntoml       0.10.2\r\ntomli      1.2.1\r\nwheel      0.37.0\r\n$ pyq -mpip list\r\n/Users/user/.virtualenvs/310/bin/pyq: No module named pip\r\n```\r\n\r\nI believe we saw this kind of issues before, but can't recall if it was addressed. It was related to the virutalenv and venv modules, how they are now implemented... which breaks logic PyQ relies on. \r\n\n\n---\n\n**sashkab**: Interestingly:\r\n\r\n```q\r\n$ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\n...\r\nq)p)import numpy\r\nq)p)import pytest\r\nq)p)import pip\r\nq)p)print(pip.__file__)\r\n/Users/user/.virtualenvs/310/lib/python3.10/site-packages/pip/__init__.py\r\nq)p)print(sys.executable)\r\n/Users/user/.virtualenvs/310/bin/pyq\r\nq)p)print(sys.path)\r\n['/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python310.zip', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/lib-dynload', '/Users/user/.virtualenvs/310/lib/python3.10/site-packages']\r\nq)p)print(sys.prefix)\r\n/Users/user/.virtualenvs/310\r\nq)p)print(sys.exec_prefix)\r\n/Users/user/.virtualenvs/310\r\n```\r\n\r\n\r\nbut\r\n\r\n```python\r\n$ pyq\r\nPython 3.10.0 (default, Oct  6 2021, 01:11:32) [Clang 13.0.0 (clang-1300.0.29.3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sys\r\n>>> sys.executable\r\n'/Users/user/.virtualenvs/310/bin/pyq'\r\n>>> sys.path\r\n['', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python310.zip', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/lib-dynload']\r\n>>> sys.prefix\r\n'/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10'\r\n>>> sys.exec_prefix\r\n'/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10'\r\n```\n\n---\n\n**sashkab**: NB: mapping import was fixed in the internal MR 746, which is planned to be released as 5.0.1...\n\n---\n\n**MurrMack**: Hi Aleks - is there a plan for 5.0.1 to be released any time soon? the default version of python on ubuntu 22.04 LTS is 3.10 so others may start running into this issue as upgrades begin to occur. Cheers!\n\n---\n\n**b-nln**: There are no plans to release 5.0.1, as there is no full python 3.10 support yet. \n\n---\n\n**MurrMack**: Is there anyway to force pyq to use a different version of python? My default version of python is 3.9 using update-alternatives however when I run pyq it tries to still use 3.10\r\n```\r\nCPUS=24 pyq                                                                                                                                                                         \r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/murray/.local/lib/python3.10/site-packages/pyq/__init__.py\", line 4, in <module>\r\n    from collections import Mapping as _Mapping\r\nImportError: cannot import name 'Mapping' from 'collections' (/usr/lib/python3.10/collections/__init__.py)\r\n'2022.08.15T08:58:06.931 python\r\n  [5]  /home/murray/q/p.k:7: p)from pyq import q\r\n                             ^\r\n  [2]  /home/murray/q/python.q:1: \\l p.k\r\n\r\npython --version  \r\nPython 3.9.13\r\n\r\npython3 --version\r\nPython 3.9.13\r\n```\n\n---\n\n**b-nln**: Use virtualenv with python3.9 and install PyQ in there as described in the installation guide.\n\n---\n\n**sashkab**: After spending hours earlier this week in order to rewrite Python initialization for 3.10 and failing, I came up with a quick workaround for the importing modules installed in the virtual environment when using Python 3.10 and PyQ:\r\n\r\n```python\r\n$ pyq\r\nPython 3.10.5 (main, Jul 25 2022, 15:52:08) [GCC 11.2.1 20220219] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import markdown\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/user/.virtualenvs/3/lib/python3.10/site-packages/pyq/__init__.py\", line 820, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\nModuleNotFoundError: No module named 'markdown'\r\n```\r\n\r\nUnfortunately, due to Python Initialization changes in 3.10, sys.path is not properly initialized when Python is loaded from kdb+. Dirty workaround is to extend `sys.path` to what it should have been:\r\n\r\n```python\r\n>>> import sys\r\n>>> sys.path.extend(['/home/user/.virtualenvs/3/lib/python3.10/site-packages', '/usr/lib/python3.10/site-packages'])\r\n>>> import markdown\r\n>>> markdown.__version__\r\n'3.3.4'\r\n```\r\n\r\nBasically, first path is your `$VIRTUAL_ENV/lib/python3.10/site-packages`, and second path is where system python 3 packages are installed. \r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 907,
    "metadata": {
      "issue_number": 145,
      "state": "open",
      "labels": [],
      "comments_count": 8,
      "created_at": "2021-10-06T16:49:38Z",
      "updated_at": "2022-10-23T00:33:05Z",
      "closed_at": null,
      "author": "sashkab",
      "top_comments": [
        "**sashkab**: After first problem fixed, there is second problem. \r\n\r\n```\r\n$ python3.10 -mpip list\r\nPackage    Version\r\n---------- -------\r\nattrs      21.2.0\r\ncoverage   6.0\r\niniconfig  1.1.1\r\nnumpy      1.21.2\r\npackaging  21.0\r\npip        21.2.4\r\npluggy     1.0.0\r\npy         1.10.0\r\npyparsing  2.4.7\r\npyq        5.0.0\r\npytest     6.2.5\r\npytest-cov 3.0.0\r\npytest-pyq 1.2.0\r\nsetuptools 58.2.0\r\ntoml       0.10.2\r\ntomli      1.2.1\r\nwheel      0.37.0\r\n$ pyq -mpip list\r\n/Users/user/.virtualenvs/310/bin/pyq: No module named pip\r\n```\r\n\r\nI believe we saw this kind of issues before, but can't recall if it was addressed. It was related to the virutalenv and venv modules, how they are now implemented... which breaks logic PyQ relies on. \r\n",
        "**sashkab**: Interestingly:\r\n\r\n```q\r\n$ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\n...\r\nq)p)import numpy\r\nq)p)import pytest\r\nq)p)import pip\r\nq)p)print(pip.__file__)\r\n/Users/user/.virtualenvs/310/lib/python3.10/site-packages/pip/__init__.py\r\nq)p)print(sys.executable)\r\n/Users/user/.virtualenvs/310/bin/pyq\r\nq)p)print(sys.path)\r\n['/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python310.zip', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/lib-dynload', '/Users/user/.virtualenvs/310/lib/python3.10/site-packages']\r\nq)p)print(sys.prefix)\r\n/Users/user/.virtualenvs/310\r\nq)p)print(sys.exec_prefix)\r\n/Users/user/.virtualenvs/310\r\n```\r\n\r\n\r\nbut\r\n\r\n```python\r\n$ pyq\r\nPython 3.10.0 (default, Oct  6 2021, 01:11:32) [Clang 13.0.0 (clang-1300.0.29.3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sys\r\n>>> sys.executable\r\n'/Users/user/.virtualenvs/310/bin/pyq'\r\n>>> sys.path\r\n['', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python310.zip', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10', '/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10/lib/python3.10/lib-dynload']\r\n>>> sys.prefix\r\n'/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10'\r\n>>> sys.exec_prefix\r\n'/usr/local/Cellar/python@3.10/3.10.0_1/Frameworks/Python.framework/Versions/3.10'\r\n```",
        "**sashkab**: NB: mapping import was fixed in the internal MR 746, which is planned to be released as 5.0.1...",
        "**MurrMack**: Hi Aleks - is there a plan for 5.0.1 to be released any time soon? the default version of python on ubuntu 22.04 LTS is 3.10 so others may start running into this issue as upgrades begin to occur. Cheers!",
        "**b-nln**: There are no plans to release 5.0.1, as there is no full python 3.10 support yet. "
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-af6f0d108bb6",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/130",
    "title": "Using PyQ in PyCharm in Windows",
    "text": "# Using PyQ in PyCharm in Windows\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Win 10 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    Python 3.7.7\r\n    nothing\r\n    pyq 4.2.1    \r\n    Python is 64-bit\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    3.6\r\n    2020.04.16\r\n    Win 64-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC=C:\\code\\pyqtesting\\venv\\q\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=C:\\code\\pyqtesting\\venv\\q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No    \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nIn Win10, create a venv and install pyq there. Try using the new env in PyCharm. \r\nAccording to this issue https://github.com/KxSystems/pyq/issues/61, the way to use pyq through PyCharm is to symlink pyq to python. In Windows there is no pyq executable to link. \r\n\r\n## Expected result\r\npyq is usable in PyCharm \r\n\r\n## Actual result\r\nCan't apply solution from https://github.com/KxSystems/pyq/issues/61\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\n\n## Top Comments\n\n**sashkab**: Not possible at this time. Due to need to press Ctrl+Z during initialization of PyQ on Windows -- this wouldn't be possible even with windows PyQ executable, which doesn't exists for exactly this reason. \n\n---\n\n**dmarshfd**: But it is possible to run a python script without Ctrl+Z, e.g. something like\r\nq python.q helloworld.py\r\nwill print _hello world_ without manual intervention. PyCharm won't accept _q python.q_ as a project interpreter though.\n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**sashkab**: I would try to create a batch file, which will launch `q python.q` with all arguments passed to the PyQ; and attempt to pass it to PyCharm as interpreter.  Or you need to use powershelgl script. \r\n\r\nSorry, I didn't touch Windows in a while... can't really help you much. \r\n\r\n\n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**github-actions[bot]**: Stale issue message\n\n---\n\n**github-actions[bot]**: Stale issue message",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 414,
    "metadata": {
      "issue_number": 130,
      "state": "open",
      "labels": [
        "windows"
      ],
      "comments_count": 8,
      "created_at": "2020-04-27T18:12:20Z",
      "updated_at": "2021-02-27T00:48:31Z",
      "closed_at": null,
      "author": "dmarshfd",
      "top_comments": [
        "**sashkab**: Not possible at this time. Due to need to press Ctrl+Z during initialization of PyQ on Windows -- this wouldn't be possible even with windows PyQ executable, which doesn't exists for exactly this reason. ",
        "**dmarshfd**: But it is possible to run a python script without Ctrl+Z, e.g. something like\r\nq python.q helloworld.py\r\nwill print _hello world_ without manual intervention. PyCharm won't accept _q python.q_ as a project interpreter though.",
        "**github-actions[bot]**: Stale issue message",
        "**sashkab**: I would try to create a batch file, which will launch `q python.q` with all arguments passed to the PyQ; and attempt to pass it to PyCharm as interpreter.  Or you need to use powershelgl script. \r\n\r\nSorry, I didn't touch Windows in a while... can't really help you much. \r\n\r\n",
        "**github-actions[bot]**: Stale issue message"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-dc4226e92892",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/80",
    "title": "3.7 Compatibility",
    "text": "# 3.7 Compatibility\n\nIs there anything besides the removal of `install_misc` blocking this?\n\n## Top Comments\n\n**abalkin**: No.  I've already fixed setup.py internally by simply copying install_misc from Python 3.6.  In the next release, 3.7 will be officially supported.\n\n---\n\n**nugend**: @abalkin Can you please provide a point release to the current version to resolve this? It's been 3 months and there's been no apparent movement towards the release of 4.2.0\n\n---\n\n**sitsang**: Please just replace the line in setup.py\r\n\r\nfrom\r\n```from distutils.cmd import install_misc```\r\nto\r\n```from distutils.command.install_data import install_data as install_misc```\r\n\r\nand it will compile and build under python 3.7\n\n---\n\n**ppatel26**: After replacing, it gives another error \r\n\r\n````\r\n(py3_q)  ~  pip install ~/pyq-master\r\nProcessing ./pyq-master\r\nBuilding wheels for collected packages: pyq\r\n Running setup.py bdist_wheel for pyq ... error\r\n Complete output from command /Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools,` `tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-wheel-fcgwgncr --python-tag cp37:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.7-x86_64-3.7\r\n  creating build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/conftest.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/cmd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/_pt_run.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/ptk.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  creating build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_no_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_ci.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_p.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_k.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pypath.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_python_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_threads.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_memoryview.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pyq_executable.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_com.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pathlib.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_sd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  running build_ext\r\n  building 'pyq._k' extension\r\n  creating build/temp.macosx-10.7-x86_64-3.7\r\n  creating build/temp.macosx-10.7-x86_64-3.7/src\r\n  creating build/temp.macosx-10.7-x86_64-3.7/src/pyq\r\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -DKXVER=3 -DKXVER2=5 -I/Users/parvpatel/miniconda3/envs/py3_q/include/python3.7m -c src/pyq/_k.c -o build/temp.macosx-10.7-x86_64-3.7/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n  src/pyq/_k.c:110:11: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n      char *str = PyUnicode_AsUTF8AndSize(obj, psize);\r\n            ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:1337:17: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                  PY_SET_SN(dest[i], obj)\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:1343:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n              PY_SET_SN(xs, obj)\r\n              ^~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:2515:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n              PY_SET_SN(xS[i], o)\r\n              ^~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:4031:9: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n          PY_SET_SN(s, obj);\r\n          ^~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  5 errors generated.\r\n  error: command 'gcc' failed with exit status 1`\r\n\r\n  `----------------------------------------`\r\n ` Failed building wheel for pyq\r\n  Running setup.py clean for pyq\r\nFailed to build pyq\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... error\r\n    Complete output from command /Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-record-ahh3x2wt/install-record.txt --single-version-externally-managed --compile:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.7-x86_64-3.7\r\n    creating build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/conftest.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/cmd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/ptk.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    creating build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.macosx-10.7-x86_64-3.7\r\n    creating build/temp.macosx-10.7-x86_64-3.7/src\r\n    creating build/temp.macosx-10.7-x86_64-3.7/src/pyq\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -DKXVER=3 -DKXVER2=5 -I/Users/parvpatel/miniconda3/envs/py3_q/include/python3.7m -c src/pyq/_k.c -o build/temp.macosx-10.7-x86_64-3.7/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    src/pyq/_k.c:110:11: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n        char *str = PyUnicode_AsUTF8AndSize(obj, psize);\r\n              ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1337:17: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                    PY_SET_SN(dest[i], obj)\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1343:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xs, obj)\r\n                ^~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:2515:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xS[i], o)\r\n                ^~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:4031:9: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n            PY_SET_SN(s, obj);\r\n            ^~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    5 errors generated.\r\n    error: command 'gcc' failed with exit status 1`\r\n\r\n   ` ----------------------------------------`\r\n`Command \"/Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-record-ahh3x2wt/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/\r\n```\n\n---\n\n**sitsang**: It is not related to the python.  The error you sent is due to the Werror flag and the gcc version you are using.  Try and remove the CFLAGS so that it won't treat that gcc warning as error.\n\n---\n\n**ppatel26**: @sitsang can you please show how do I go about removing those? Thank you\n\n---\n\n**sitsang**: You can remove line 52 in setup.py\n\n---\n\n**ppatel26**: @sitsang Thank you. That worked. \r\n\r\nUnfortunately. When I run `pyq` I now get another error. \r\n\r\n> Welcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'2019.01.28T14:21:33.731 dlopen(/Users/parvpatel/q/m32/p.so, 2): no suitable image found.  Did find:\r\n\t/Users/parvpatel/q/m32/p.so: mach-o, but wrong architecture\r\n\t/Users/parvpatel/q/m32/p.so: mach-o, but wrong architecture\r\n  [4]  /Users/parvpatel/q/p.k:3: (`p 2:(`p_init;1))python_dll\r\n                                     ^\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1001,
    "metadata": {
      "issue_number": 80,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 8,
      "created_at": "2018-07-18T20:34:30Z",
      "updated_at": "2019-01-29T13:26:05Z",
      "closed_at": "2018-07-18T20:40:29Z",
      "author": "nugend",
      "top_comments": [
        "**abalkin**: No.  I've already fixed setup.py internally by simply copying install_misc from Python 3.6.  In the next release, 3.7 will be officially supported.",
        "**nugend**: @abalkin Can you please provide a point release to the current version to resolve this? It's been 3 months and there's been no apparent movement towards the release of 4.2.0",
        "**sitsang**: Please just replace the line in setup.py\r\n\r\nfrom\r\n```from distutils.cmd import install_misc```\r\nto\r\n```from distutils.command.install_data import install_data as install_misc```\r\n\r\nand it will compile and build under python 3.7",
        "**ppatel26**: After replacing, it gives another error \r\n\r\n````\r\n(py3_q)  ~  pip install ~/pyq-master\r\nProcessing ./pyq-master\r\nBuilding wheels for collected packages: pyq\r\n Running setup.py bdist_wheel for pyq ... error\r\n Complete output from command /Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools,` `tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-wheel-fcgwgncr --python-tag cp37:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.7-x86_64-3.7\r\n  creating build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/conftest.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/cmd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/_pt_run.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  copying src/pyq/ptk.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n  creating build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_no_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_ci.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_p.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_k.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pypath.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_python_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_threads.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_memoryview.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pyq_executable.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_com.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_pathlib.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  copying src/pyq/tests/test_sd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n  running build_ext\r\n  building 'pyq._k' extension\r\n  creating build/temp.macosx-10.7-x86_64-3.7\r\n  creating build/temp.macosx-10.7-x86_64-3.7/src\r\n  creating build/temp.macosx-10.7-x86_64-3.7/src/pyq\r\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -DKXVER=3 -DKXVER2=5 -I/Users/parvpatel/miniconda3/envs/py3_q/include/python3.7m -c src/pyq/_k.c -o build/temp.macosx-10.7-x86_64-3.7/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n  src/pyq/_k.c:110:11: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n      char *str = PyUnicode_AsUTF8AndSize(obj, psize);\r\n            ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:1337:17: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                  PY_SET_SN(dest[i], obj)\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:1343:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n              PY_SET_SN(xs, obj)\r\n              ^~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:2515:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n              PY_SET_SN(xS[i], o)\r\n              ^~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:4031:9: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n          PY_SET_SN(s, obj);\r\n          ^~~~~~~~~~~~~~~~~\r\n  src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n              char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  5 errors generated.\r\n  error: command 'gcc' failed with exit status 1`\r\n\r\n  `----------------------------------------`\r\n ` Failed building wheel for pyq\r\n  Running setup.py clean for pyq\r\nFailed to build pyq\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... error\r\n    Complete output from command /Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-record-ahh3x2wt/install-record.txt --single-version-externally-managed --compile:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.7-x86_64-3.7\r\n    creating build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/conftest.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/cmd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    copying src/pyq/ptk.py -> build/lib.macosx-10.7-x86_64-3.7/pyq\r\n    creating build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.macosx-10.7-x86_64-3.7/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.macosx-10.7-x86_64-3.7\r\n    creating build/temp.macosx-10.7-x86_64-3.7/src\r\n    creating build/temp.macosx-10.7-x86_64-3.7/src/pyq\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -I/Users/parvpatel/miniconda3/envs/py3_q/include -arch x86_64 -DKXVER=3 -DKXVER2=5 -I/Users/parvpatel/miniconda3/envs/py3_q/include/python3.7m -c src/pyq/_k.c -o build/temp.macosx-10.7-x86_64-3.7/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    src/pyq/_k.c:110:11: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n        char *str = PyUnicode_AsUTF8AndSize(obj, psize);\r\n              ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1337:17: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                    PY_SET_SN(dest[i], obj)\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1343:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xs, obj)\r\n                ^~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:2515:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xS[i], o)\r\n                ^~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:4031:9: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n            PY_SET_SN(s, obj);\r\n            ^~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    5 errors generated.\r\n    error: command 'gcc' failed with exit status 1`\r\n\r\n   ` ----------------------------------------`\r\n`Command \"/Users/parvpatel/miniconda3/envs/py3_q/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-record-ahh3x2wt/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/xd/rlvz74x150l_j9y42kzv3sfc0000gn/T/pip-req-build-t_6skbt_/\r\n```",
        "**sitsang**: It is not related to the python.  The error you sent is due to the Werror flag and the gcc version you are using.  Try and remove the CFLAGS so that it won't treat that gcc warning as error."
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ddce03f10a86",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/78",
    "title": "pyq installation looks for 32 bit executable in 64 bit architecture",
    "text": "# pyq installation looks for 32 bit executable in 64 bit architecture\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Linux Redhat 64bit\r\n    ``` \r\n   \r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ``` \r\n    python 3.6, pyQ 4.1.4\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n          64 bit\r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ``` \r\n         QLIC=/home/user/pyq3/q/lic/lic_file\r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   -          yes\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n              \r\n    ```\r\n    QHOME=/home/user/pyq3/q\r\n\r\n    \r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n                   no \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nWe are trying out pyq and running into installation errors â€“ I am trying to point it to the 64bit commercial version, but it always installs the pyq components for the 32bit and then cannot find the 32bit q executable. \r\n\r\n```\r\n$TARGET =  $VIRTUAL_ENV = /home/user/pyq3\r\n\r\n(pyq3) $ pyq\r\nqbinpath = /home/user/pyq3/q/l32/q\r\nqbinpath = /home/user/pyq3/q/l32/q\r\nqbinpath = /home/user/pyq3/q/l32/q\r\nqbinpath = /home/user/q/l32/q\r\n```\r\n\r\nbut this works just fine\r\n\r\n```\r\n(pyq3) $ QHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/l64/q\r\nKDB+ 3.5 2018.04.25 Copyright (C) 1993-2018 Kx Systems\r\nl64/ 4()core 32104MB \r\n\r\nq)\r\n```\r\n\r\nthis is the snippet of code used to create the virtualenv\r\n\r\n```\r\npip install  --target=/tmp/pyqenvtmp virtualenv\r\n\r\npython3 /tmp/pyqenvtmp/virtualenv.py $TARGET\r\n\r\nrm -rf /tmp/pyqenvtmp\r\n\r\nsource $TARGET/bin/activate\r\nmkdir $VIRTUAL_ENV/q\r\ncp -r $KDB_DIR/* $VIRTUAL_ENV/q //$KDB_DIR is where 64bit q is stored\r\necho \"export QHOME=$VIRTUAL_ENV/q\" >> $VIRTUAL_ENV/bin/activate\r\necho \"export QLIC=$VIRTUAL_ENV/q/lic/licfile\" >> $VIRTUAL_ENV/bin/activate\r\npip install  pyq\r\n```\r\n\r\nI also tried running get_q_arch( os.environ[â€˜QHOMEâ€™]) from setup.py within the virtual environment and it gives me l64\r\n\r\n## Expected result\r\n\r\npyq should run with 64bit q\r\n    \r\n## Actual result\r\n\r\npyq looks for 32bit q\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\n\n## Top Comments\n\n**abalkin**: Please read [installing into a virtual environment](https://code.kx.com/q/interfaces/pyq/install/#installing-into-a-virtual-environment) instructions carefully.  You need to install kdb+ in $VIRTUAL_ENV/q and your QHOME should be either unset or set to $VIRTUAL_ENV/q.\r\n\r\nIf it still does not work, please run pip install in verbose mode\r\n\r\n```sh\r\npip install -vvv  pyq\r\n```\r\n\r\nand post the results.\n\n---\n\n**karthikmurali**: I installed again - $QHOME is in $VIRTUAL_ENV/q\r\n\r\n\r\nYes - q is in $VIRTUAL_ENV/q\r\n(pyq4) $ echo $QHOME\r\n/home/user/pyq4/q\r\n(pyq4) $ echo $VIRTUAL_ENV\r\n/home/user/pyq\r\n\r\nOutput of pip install -i $INTERNAL_PYPI_URL --trusted_host $INTERNAL_PYPI_HOST  -vvv pyq\r\n\r\nCollecting pyqÃ¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢\r\n  1 location(s) to search for versions of pyq:\r\n  * http://pypi.site.corp.com/simple/pyq/\r\n  Getting page http://pypi.site.corp.com/simple/pyq/\r\n  Starting new HTTP connection (1): pypi.site.corp.com\r\n  http://pypi.site.corp.com:80 \"GET /simple/pyq/ HTTP/1.1\" 200 3926\r\n  Analyzing links from page http://pypi.site.corp.com/simple/pyq/\r\n    Found link http://pypi.site.corp.com/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246                                                                         f485fd963e1637 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.0.post1\r\n    Found link http://pypi.site.corp.com/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41                                                                         d2bfee18 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.1\r\n    Skipping link http://pypi.site.corp.com/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c                                                                         5d2eff2f7c0951b66262fec9847ee20aa614009a (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050ab                                                                         e2a81cd7ca096a73ea82a3b3fe4 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd7080174                                                                         9deb0498b5a847df8437155347aaa33 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85                                                                         d1d018286cfcbed1fcc08f72114f7631942609bf (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2                                                                         012d8143c4cfcd2dd1395e5f33a (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5                                                                         d262099eb68caef1bc474e7688abd23 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d32                                                                         18c8f4d4e02362a601f8fa9c0 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a                                                                         6fa8c65cfb1dc52dd33552ac900a7 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2f                                                                         c60ea52dca82e67aa9c54d570 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d                                                                         89aa683f5b880e1179320f2a1fae1 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Found link http://pypi.site.corp.com/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b                                                                         4ece865b (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.2\r\n    Found link http://pypi.site.corp.com/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d                                                                         13a2a02f (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.3\r\n    Found link http://pypi.site.corp.com/packages/53/de/195ce13d50784489365fee87d1e7d637fa2e42f3c5ae359d56c13595c93c/pyq-4.1.4.tar.gz#sha256=3386268669be9f6c3826862edfd8fc91e7b1be2ff246ebc2275c30ae                                                                         a5075211 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.4\r\n  Using version 4.1.4 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3, 4.1.4)\r\n  Using cached wheel link: file:///home/user/.cache/pip/wheels/3c/fa/a6/2ffdf068045e1c3f6785ae31d16973f687617c0730795f2cb8/pyq-4.1.4-cp36-cp36m-linux_x86_64.whl\r\nInstalling collected packages: pyq\r\n\r\nSuccessfully installed pyq-4.1.4\r\n\r\n\n\n---\n\n**abalkin**: Did you resolve your issue?\n\n---\n\n**karthikmurali**: No , the same issue still exists. It installed successfully, but fails looking for 32bit q instead of 64bit. \n\n---\n\n**abalkin**: You really have to tell us more than that.  What command do you run?  What output do you expect and what output do you get?  One problem I can see in your log is this:\r\n\r\n```\r\nUsing cached wheel link: file:///home/user/.cache/pip/wheels/.../pyq-4.1.4-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\nYou have a .whl file left from a command that you don't show us.  \r\n\r\nAlso, we have no way to know what  $INTERNAL_PYPI_URL or $INTERNAL_PYPI_HOST variables are.\r\n\r\nIf you prefer following someone else's instructions instead of those at code.kx.com, you should ask those who instructed you for help.\n\n---\n\n**karthikmurali**: Sorry, I thought I gave you all this information in the first comment - the exact commands I run are below.   I have tried to stay pretty close to what is at code.kx.com. The main differences are , \r\na) public pypi is blocked, so we install from a pypi within the corporate network\r\nb) there is already a directory with the kdb installation and we copy q from there into the virtual env.\r\n$INTERNAL_PYPI_HOST and $INTERNAL_PYPI_URL are just pointers to the internal pypi installation which is just a copy of public pypi. \r\n\r\n\r\n**What I expect:**\r\nWhen I run pyq - it starts up pointing to l64/q\r\n\r\n**What actually happens:**\r\nI cannot start pyq, it looks for l32/q which is not there and fails\r\n$ source /home/user/pyq4/bin/activate\r\n(pyq4) $ pyq\r\nqbinpath = /home/user/pyq4/q/l32/q\r\nqbinpath = /home/user/pyq4/q/l32/q\r\nqbinpath = /home/user/pyq4/q/l32/q\r\nqbinpath = /home/user/q/l32/q\r\n\r\n**Exact commands I run**\r\n\r\npip install  -i $INTERNAL_PYPI_URL --trusted_host $INTERNAL_PYPI_HOST -target=/tmp/pyqenvtmp virtualenv\r\n\r\npython3 /tmp/pyqenvtmp/virtualenv.py /home/user/pyq4\r\n\r\nrm -rf /tmp/pyqenvtmp\r\n\r\nsource $/home/user/pyq4/bin/activate\r\nmkdir $VIRTUAL_ENV/q\r\ncp -r $KDB_DIR/* $VIRTUAL_ENV/q //$KDB_DIR is where 64bit q is stored\r\necho \"export QHOME=$VIRTUAL_ENV/q\" >> $VIRTUAL_ENV/bin/activate\r\necho \"export QLIC=$VIRTUAL_ENV/q/lic/licfile\" >> $VIRTUAL_ENV/bin/activate\r\npip install -i $INTERNAL_PYPI_URL --trusted_host $INTERNAL_PYPI_HOST pyq\r\n\r\n\r\n\n\n---\n\n**abalkin**: OK, we are getting somewhere, but you still did not provide a clean build log.  Please run\r\n\r\n```sh\r\npip install -vvv --no-binary pyq pyq\r\n```\r\n\r\nYou don't have to post the entire story of finding the sources on pypi.  Try to find the relevant lines.\r\n\r\nYou should be looking for a line with -DQARCH in it.  If it shows l32 it means you are building pyq with a 32-bit python.  Check what your pip command uses:\r\n\r\n```sh\r\nhead -1 $(which pip)\r\n```\r\n\n\n---\n\n**karthikmurali**: I was just able to fix this by running pip with --no-cache-dir. Thank you for the pointer about the cached wheel file. I think a previous attempt at installation had left some files around which was being picked up by this.\r\n\r\nThanks a lot for your help!",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 1128,
    "metadata": {
      "issue_number": 78,
      "state": "closed",
      "labels": [],
      "comments_count": 8,
      "created_at": "2018-07-13T22:03:02Z",
      "updated_at": "2018-07-14T23:46:06Z",
      "closed_at": "2018-07-14T23:46:05Z",
      "author": "karthikmurali",
      "top_comments": [
        "**abalkin**: Please read [installing into a virtual environment](https://code.kx.com/q/interfaces/pyq/install/#installing-into-a-virtual-environment) instructions carefully.  You need to install kdb+ in $VIRTUAL_ENV/q and your QHOME should be either unset or set to $VIRTUAL_ENV/q.\r\n\r\nIf it still does not work, please run pip install in verbose mode\r\n\r\n```sh\r\npip install -vvv  pyq\r\n```\r\n\r\nand post the results.",
        "**karthikmurali**: I installed again - $QHOME is in $VIRTUAL_ENV/q\r\n\r\n\r\nYes - q is in $VIRTUAL_ENV/q\r\n(pyq4) $ echo $QHOME\r\n/home/user/pyq4/q\r\n(pyq4) $ echo $VIRTUAL_ENV\r\n/home/user/pyq\r\n\r\nOutput of pip install -i $INTERNAL_PYPI_URL --trusted_host $INTERNAL_PYPI_HOST  -vvv pyq\r\n\r\nCollecting pyqÃ¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢Ã¢\r\n  1 location(s) to search for versions of pyq:\r\n  * http://pypi.site.corp.com/simple/pyq/\r\n  Getting page http://pypi.site.corp.com/simple/pyq/\r\n  Starting new HTTP connection (1): pypi.site.corp.com\r\n  http://pypi.site.corp.com:80 \"GET /simple/pyq/ HTTP/1.1\" 200 3926\r\n  Analyzing links from page http://pypi.site.corp.com/simple/pyq/\r\n    Found link http://pypi.site.corp.com/packages/66/2c/d1e1891e293edd7905ac4d1d6e4f9f30ff7e40cebf8e2a2629bf4f9f4152/pyq-4.1.0.post1.tar.gz#sha256=e7552e092ef68196a431aec6a7c2d235b78a4d2ae54e8d3246                                                                         f485fd963e1637 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.0.post1\r\n    Found link http://pypi.site.corp.com/packages/c0/a6/6dad579c65ded93d9da0fdf9e0da268870c9cea5abd6e2d0606b67f0905d/pyq-4.1.1.tar.gz#sha256=72b337007f1f43743bd0f02f05f16331ddbad46a7fd00bfced158f41                                                                         d2bfee18 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.1\r\n    Skipping link http://pypi.site.corp.com/packages/4f/bd/e7026ae10439d36eca775d2075ef2a121d9c252e8408d5eaa09189c47fd3/pyq-4.1.2b1-cp27-cp27m-macosx_10_12_intel.whl#sha256=6138d0fc73d1a91f7bb53c2c                                                                         5d2eff2f7c0951b66262fec9847ee20aa614009a (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/13/a3/a98edf0c3f021ebf404c00287a93cc9a31a9eb32e0273727ffae94788379/pyq-4.1.2b1-cp27-cp27m-win32.whl#sha256=c1e9849a3b0b803f59229f65690bab69050ab                                                                         e2a81cd7ca096a73ea82a3b3fe4 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/94/3b/3ffc69412108b64846e176bbee5196d6161436ce40daf4e6bb58d589b20e/pyq-4.1.2b1-cp27-cp27m-win_amd64.whl#sha256=233f8ee5648eab7d69772e63cd7080174                                                                         9deb0498b5a847df8437155347aaa33 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/24/55/08decbc9fa08e6d4a051aba7812b4a5d3182d0fdbf10e1b87af11d1c4de8/pyq-4.1.2b1-cp36-cp36m-macosx_10_12_intel.whl#sha256=b007611b5c30b9cff0036e85                                                                         d1d018286cfcbed1fcc08f72114f7631942609bf (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/02/ab/96a7d742d5279a23654201a16d34cda0019fbaaef4fa64984da13ce06f04/pyq-4.1.2b1-cp36-cp36m-win32.whl#sha256=59f27fa5d4a034ecb0fd2a4c97558aa411cd2                                                                         012d8143c4cfcd2dd1395e5f33a (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/53/fb/9cadc05b6cb919ee345c266e76c19257b33c1e9546bd9d22792f4c1e2b49/pyq-4.1.2b1-cp36-cp36m-win_amd64.whl#sha256=0fb33044482ae7b71750949a9a46562e5                                                                         d262099eb68caef1bc474e7688abd23 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/29/ba/9c7184f72fd9328f949e770402dc98f8c34d46fe24c5075ce8d57a1acb93/pyq-4.1.2-cp27-cp27m-win32.whl#sha256=50fc98f48795b6ac7e05fc35bcfc415e5170d32                                                                         18c8f4d4e02362a601f8fa9c0 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/48/90/76ea75b94cd15b31db1c304fe0d83a07b82a788295f57e5981cbcdcd377f/pyq-4.1.2-cp27-cp27m-win_amd64.whl#sha256=45b89c77ac6ef96fd3c18964fbf3c1aad9a                                                                         6fa8c65cfb1dc52dd33552ac900a7 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/fb/4f/bbbe1d029875e3492afce4b4b44717c88228420be53a9ce14a8920280f66/pyq-4.1.2-cp36-cp36m-win32.whl#sha256=05c51e3d538e89b36583d2c13bc53443dc97e2f                                                                         c60ea52dca82e67aa9c54d570 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Skipping link http://pypi.site.corp.com/packages/dd/19/e7e4e4540061ec2946fc6941b78dd16576d5c1802ed155cfede3bf004278/pyq-4.1.2-cp36-cp36m-win_amd64.whl#sha256=8cb1cd6378dd32bf852cbd47fda4f73624d                                                                         89aa683f5b880e1179320f2a1fae1 (from http://pypi.site.corp.com/simple/pyq/); it is not compatible with this Python\r\n    Found link http://pypi.site.corp.com/packages/99/04/a8c7f814ae137e3fdb21f43666221557f76ca7f59fa3c992800c2d159502/pyq-4.1.2.tar.gz#sha256=09ce6ae8a4b2a2c36008782108504b357c52c4d3cc1db602b965790b                                                                         4ece865b (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.2\r\n    Found link http://pypi.site.corp.com/packages/49/bf/81a4f658f7b89f1b75903b9470240d8c20746efd5c2c3b439cc214e28990/pyq-4.1.3.tar.gz#sha256=e4e95970a930408d64b7351ad80c4c601f1ba414379de4d03717138d                                                                         13a2a02f (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.3\r\n    Found link http://pypi.site.corp.com/packages/53/de/195ce13d50784489365fee87d1e7d637fa2e42f3c5ae359d56c13595c93c/pyq-4.1.4.tar.gz#sha256=3386268669be9f6c3826862edfd8fc91e7b1be2ff246ebc2275c30ae                                                                         a5075211 (from http://pypi.site.corp.com/simple/pyq/), version: 4.1.4\r\n  Using version 4.1.4 (newest of versions: 4.1.0.post1, 4.1.1, 4.1.2, 4.1.3, 4.1.4)\r\n  Using cached wheel link: file:///home/user/.cache/pip/wheels/3c/fa/a6/2ffdf068045e1c3f6785ae31d16973f687617c0730795f2cb8/pyq-4.1.4-cp36-cp36m-linux_x86_64.whl\r\nInstalling collected packages: pyq\r\n\r\nSuccessfully installed pyq-4.1.4\r\n\r\n",
        "**abalkin**: Did you resolve your issue?",
        "**karthikmurali**: No , the same issue still exists. It installed successfully, but fails looking for 32bit q instead of 64bit. ",
        "**abalkin**: You really have to tell us more than that.  What command do you run?  What output do you expect and what output do you get?  One problem I can see in your log is this:\r\n\r\n```\r\nUsing cached wheel link: file:///home/user/.cache/pip/wheels/.../pyq-4.1.4-cp36-cp36m-linux_x86_64.whl\r\n```\r\n\r\nYou have a .whl file left from a command that you don't show us.  \r\n\r\nAlso, we have no way to know what  $INTERNAL_PYPI_URL or $INTERNAL_PYPI_HOST variables are.\r\n\r\nIf you prefer following someone else's instructions instead of those at code.kx.com, you should ask those who instructed you for help."
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-e1098fbfb1db",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/57",
    "title": "MacOS 'pip install pyq' shows ' RuntimeError: no python dll'",
    "text": "# MacOS 'pip install pyq' shows ' RuntimeError: no python dll'\n\n# Questions\r\n\r\n- [ Macos 64- bit] \r\n- [ 64-bit kdb+ ] \r\n- [ Install using virtual environmnet ]\r\n- [ Anaconda 4.2.1] \r\n\r\ni tried install by pip install pyq and from source code, they all show runtime error?\r\n\r\n```\r\n      File \"/private/var/folders/k1/5yp6mmxd1_g2x57_qf_29f980000gn/T/pip-build-6ls07tww/pyq/setup.py\", line 264, in get_python_dll\r\n        raise RuntimeError('no python dll')\r\n    RuntimeError: no python dll\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/k1/5yp6mmxd1_g2x57_qf_29f980000gn/T/pip-build-6ls07tww/pyq/\r\n```\r\n\r\ni see someone else have some error? but cannot find how to solve. \n\n## Top Comments\n\n**MaxHoefl**: getting same error on Linux RedHat_6.6 (6.6-1) - 2.6.32-696.20.1.el6.x86_64\r\nas discussed in #32 \r\ntried both q 64-bit and 32-bit using anaconda 4.4.10 (not using virtual env)\r\n\r\n@sashkab: Are the changes of the 4.1.3 release where this issue was addressed already part of the pyq that is installed by pip?\r\n\n\n---\n\n**sashkab**: @MaxHoefl 4.1.3 is what served by [pypi.org](https://pypi.org/project/pyq/) when you run pip install. \r\n\r\nCould you please provide detailed steps you use to install PyQ? Did you use virtualenv?\n\n---\n\n**MaxHoefl**: @sashkab sure, see below:\r\n\r\n1. install anaconda 4.4.10 (latest release)\r\n\r\n2. create `pip.conf` in `~/.config/pip/` where I set\r\n\r\n```\r\n[global]\r\nproxy=https://user:password@proxy:port\r\n```\r\n\r\n3.  install q in `~/` (i have tried both licensed 64-bit and unlicensed 32-bit version for linux x86) and set `QHOME=/home/user/q/`.\r\n\r\n4. `pip install --upgrade pip` (all fine); `pip install pyq`\r\n\r\n```\r\n-bash-4.1$ pip install pyq\r\nCollecting pyq\r\n  Using cached pyq-4.1.3.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 679, in <module>\r\n        run_setup(METADATA)\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 675, in run_setup\r\n        setup(**keywords)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 278, in run\r\n        self.find_sources()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 293, in find_sources\r\n        mm.run()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 524, in run\r\n        self.add_defaults()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 560, in add_defaults\r\n        sdist.add_defaults(self)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 36, in add_defaults\r\n        self._add_defaults_ext()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 119, in _add_defaults_ext\r\n        build_ext = self.get_finalized_command('build_ext')\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 299, in get_finalized_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 471, in finalize_options\r\n        ('define', 'define'))\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 406, in finalize_options\r\n        ('q_version', 'q_version'))\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 306, in finalize_options\r\n        self.python_dll = get_python_dll(sys.executable)\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 264, in get_python_dll\r\n        raise RuntimeError('no python dll')\r\n    RuntimeError: no python dll\r\n```\r\n\r\n\n\n---\n\n**sashkab**: @MaxHoefl did you attempt to use [workaround](https://github.com/KxSystems/pyq/issues/32#issuecomment-346160696) from #32?\n\n---\n\n**MaxHoefl**: @sashkab  Just tried workaround from #32 when using 32-bit q and 64-bit q. Both gave me `Successfully installed pyq-4.1.3` that's nice but \r\n\r\n 1. when I start `$ pyq`  with the 32-bit q installation it gives me\r\n\r\n```\r\n-bash-4.1$ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'2018.04.13T14:10:26.287 /home/hoeflm/q-linux-x86/l32/p.so: wrong ELF class: ELFCLASS64\r\n  [4]  /home/hoeflm/q-linux-x86/p.k:3: (`p 2:(`p_init;1))python_dll\r\n```\r\n\r\n2. when I start `$ pyq` with the 64-bit licensed q installation it gives me \r\n\r\n```\r\n-bash-4.1$ pyq\r\n'2018.04.13T14:17:32.953 /home/hoeflm/q//l32/py.so: cannot open shared object file: No such file or directory\r\n@\r\n\"q\"\r\n\"py:PYSO 2:(`py;3)\"\r\n```\r\nI checked, the `py.so` file was installed to `q/l64` but it's trying to find it in `l32`.\r\n\n\n---\n\n**sashkab**: When starting 32-bit version of PyQ â€” do you use 32-bit Python? From error it seems, you have 64-bit version of Python.\n\n---\n\n**MaxHoefl**: @sashkab Yes I am using python 3.6.4\r\nWould it be hard to make it look both in l32 and l64 when searching for py.so ?\n\n---\n\n**abalkin**: Starting with release, 4.1.4 use\r\n\r\n```bash\r\nconda install -c kx -c enlnt pyq\r\n```\r\n\r\nto install both kdb+ and PyQ.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 655,
    "metadata": {
      "issue_number": 57,
      "state": "closed",
      "labels": [
        "conda"
      ],
      "comments_count": 8,
      "created_at": "2018-04-01T09:24:33Z",
      "updated_at": "2018-06-19T17:00:46Z",
      "closed_at": "2018-06-19T17:00:45Z",
      "author": "superidylle",
      "top_comments": [
        "**MaxHoefl**: getting same error on Linux RedHat_6.6 (6.6-1) - 2.6.32-696.20.1.el6.x86_64\r\nas discussed in #32 \r\ntried both q 64-bit and 32-bit using anaconda 4.4.10 (not using virtual env)\r\n\r\n@sashkab: Are the changes of the 4.1.3 release where this issue was addressed already part of the pyq that is installed by pip?\r\n",
        "**sashkab**: @MaxHoefl 4.1.3 is what served by [pypi.org](https://pypi.org/project/pyq/) when you run pip install. \r\n\r\nCould you please provide detailed steps you use to install PyQ? Did you use virtualenv?",
        "**MaxHoefl**: @sashkab sure, see below:\r\n\r\n1. install anaconda 4.4.10 (latest release)\r\n\r\n2. create `pip.conf` in `~/.config/pip/` where I set\r\n\r\n```\r\n[global]\r\nproxy=https://user:password@proxy:port\r\n```\r\n\r\n3.  install q in `~/` (i have tried both licensed 64-bit and unlicensed 32-bit version for linux x86) and set `QHOME=/home/user/q/`.\r\n\r\n4. `pip install --upgrade pip` (all fine); `pip install pyq`\r\n\r\n```\r\n-bash-4.1$ pip install pyq\r\nCollecting pyq\r\n  Using cached pyq-4.1.3.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 679, in <module>\r\n        run_setup(METADATA)\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 675, in run_setup\r\n        setup(**keywords)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 278, in run\r\n        self.find_sources()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 293, in find_sources\r\n        mm.run()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 524, in run\r\n        self.add_defaults()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 560, in add_defaults\r\n        sdist.add_defaults(self)\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 36, in add_defaults\r\n        self._add_defaults_ext()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 119, in _add_defaults_ext\r\n        build_ext = self.get_finalized_command('build_ext')\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 299, in get_finalized_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 471, in finalize_options\r\n        ('define', 'define'))\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 406, in finalize_options\r\n        ('q_version', 'q_version'))\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/home/hoeflm/anaconda3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 306, in finalize_options\r\n        self.python_dll = get_python_dll(sys.executable)\r\n      File \"/tmp/pip-build-59nktpll/pyq/setup.py\", line 264, in get_python_dll\r\n        raise RuntimeError('no python dll')\r\n    RuntimeError: no python dll\r\n```\r\n\r\n",
        "**sashkab**: @MaxHoefl did you attempt to use [workaround](https://github.com/KxSystems/pyq/issues/32#issuecomment-346160696) from #32?",
        "**MaxHoefl**: @sashkab  Just tried workaround from #32 when using 32-bit q and 64-bit q. Both gave me `Successfully installed pyq-4.1.3` that's nice but \r\n\r\n 1. when I start `$ pyq`  with the 32-bit q installation it gives me\r\n\r\n```\r\n-bash-4.1$ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/q\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'2018.04.13T14:10:26.287 /home/hoeflm/q-linux-x86/l32/p.so: wrong ELF class: ELFCLASS64\r\n  [4]  /home/hoeflm/q-linux-x86/p.k:3: (`p 2:(`p_init;1))python_dll\r\n```\r\n\r\n2. when I start `$ pyq` with the 64-bit licensed q installation it gives me \r\n\r\n```\r\n-bash-4.1$ pyq\r\n'2018.04.13T14:17:32.953 /home/hoeflm/q//l32/py.so: cannot open shared object file: No such file or directory\r\n@\r\n\"q\"\r\n\"py:PYSO 2:(`py;3)\"\r\n```\r\nI checked, the `py.so` file was installed to `q/l64` but it's trying to find it in `l32`.\r\n"
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-18c80007803f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/42",
    "title": "adding document for ipc",
    "text": "# adding document for ipc\n\nPlease add some document on how to use ipc. I figured it out by seach hopen in the repo\r\n\r\n```python\r\n>>> h = q.hopen('::9900')\r\n>>>  h(q('\"1 + 1\"'))\r\nK('3')\r\n>>>  h((q('+'), 1, 2)))\r\nK('3')\r\n```\n\n## Top Comments\n\n**abalkin**: cc: @StephenTaylor-Kx \n\n---\n\n**ghost**: Care to make that a PR?\n\n---\n\n**abalkin**: I guess this should be a PR for [KxSystems/docs](https://github.com/KxSystems/docs).\r\n\r\n@co-dh - your example looks good and I think is worthwhile to be included in the docs together with some prose.  Note that in Python 3, instead of `h(q('\"1 + 1\"'))`, you can simply do `h(b'1+1')`.  I would also include a more practical example of inserting data to a table on the server:\r\n\r\n```python-console\r\n>>> h = q.hopen('::9900')\r\n>>> h(b'trades:flip`size`price!()')\r\nk('::')\r\n>>> h(('.q.upsert', 'trades', (10, 50.3)))\r\nk('`trades')\r\n>>> h(('.q.upsert', 'trades', (20, 55.3)))\r\nk('`trades')\r\n>>> h('trades').show()\r\nsize price\r\n----------\r\n10   50.3\r\n20   55.3\r\n```\n\n---\n\n**ghost**: Looking forward to seeing the PR.\n\n---\n\n**Dump123**: I'm looking forward to you both adding documentation. Seems a tough one. \n\n---\n\n**abalkin**: Closing.  Documentation issues should be reported to [KxSystems/docs](https://github.com/KxSystems/docs).\n\n---\n\n**dirwin15**: Just curious if this had been raised to [KxSystems/docs](https://github.com/KxSystems/docs)? Can't find any documentation on it. \r\n\r\nI am currently seeing that any non-numeric values are all getting passed as symbols across the handle, is the expectation that the function should handle the types when passing parameters? example function below. \r\n \r\n` h(('runFunc',('tradeData'),('2018.07.26,10055285,ORD_ID')))`\n\n---\n\n**sashkab**: @dirwin15 If you pass argument as Python string, it will be casted into symbol, which is expected. If you would like to pass arguments with a different type, you should either pass their Python equivalent (i.e for date â€” use `datetime.date`, for int pass int. \r\n\r\n\r\n```python\r\n>>> from datetime import date\r\n>>> from pyq import kp, K\r\n>>> K.date(date(2018, 10, 31))\r\nk('2018.10.31')\r\n>>> K.string(\"string\")\r\nk('\"string\"')\r\n>>> kp(\"string\")\r\nk('\"string\"')\r\n>>> K.int(123)\r\nk('123i')\r\n>>> K.float(3.14159)\r\nk('3.14159')\r\n```\r\n\r\nSo you might want to modify your call in order to receive expected types:\r\n\r\n```python\r\nh(('runFunc',('tradeData'),(K.date(date(2018, 7, 26)), K.long(10055285), K.string('ORD_ID'))))\r\n```\r\n\r\n\r\nDocumentation is available at [code.kx.com](https://code.kx.com/q/interfaces/pyq/user-guide/#from-python-to-kdb)\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 335,
    "metadata": {
      "issue_number": 42,
      "state": "closed",
      "labels": [
        "doc"
      ],
      "comments_count": 8,
      "created_at": "2018-02-14T01:03:49Z",
      "updated_at": "2023-08-27T17:39:54Z",
      "closed_at": "2018-07-04T11:36:10Z",
      "author": "co-dh",
      "top_comments": [
        "**abalkin**: cc: @StephenTaylor-Kx ",
        "**ghost**: Care to make that a PR?",
        "**abalkin**: I guess this should be a PR for [KxSystems/docs](https://github.com/KxSystems/docs).\r\n\r\n@co-dh - your example looks good and I think is worthwhile to be included in the docs together with some prose.  Note that in Python 3, instead of `h(q('\"1 + 1\"'))`, you can simply do `h(b'1+1')`.  I would also include a more practical example of inserting data to a table on the server:\r\n\r\n```python-console\r\n>>> h = q.hopen('::9900')\r\n>>> h(b'trades:flip`size`price!()')\r\nk('::')\r\n>>> h(('.q.upsert', 'trades', (10, 50.3)))\r\nk('`trades')\r\n>>> h(('.q.upsert', 'trades', (20, 55.3)))\r\nk('`trades')\r\n>>> h('trades').show()\r\nsize price\r\n----------\r\n10   50.3\r\n20   55.3\r\n```",
        "**ghost**: Looking forward to seeing the PR.",
        "**Dump123**: I'm looking forward to you both adding documentation. Seems a tough one. "
      ],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-b9ba6fbabea0",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/35",
    "title": "Suggestion: separate the package to two",
    "text": "# Suggestion: separate the package to two\n\nHello:\r\n    We are in a situation that the q is installed in a place that we don't have write access. \r\nI'm wondering if we can split the pyq package into 2 parts: those installed to q, and those into virtual environment. \r\n\r\nRegards\r\n ",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 49,
    "metadata": {
      "issue_number": 35,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 8,
      "created_at": "2017-11-27T18:25:36Z",
      "updated_at": "2017-11-27T19:44:12Z",
      "closed_at": "2017-11-27T19:43:16Z",
      "author": "co-dh",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-b938cc1f7a79",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/113",
    "title": "run pyq error, after pip install pyq ",
    "text": "# run pyq error, after pip install pyq \n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    64-bit ubuntu\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    4.2.1\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   -  no\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    .bashrc\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    no\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nsetting QHOME in ~/.bashrc\r\nrun:\r\nsudo pip install pyq\r\npyq\r\n\r\n## Expected result\r\nrun a python shell\r\n\r\n## Actual result\r\nerror in /q/python.q line 6:\r\nrun:py`$pyq_executable\r\n\r\n## Workaround\r\nI solved thie problem by run following code:\r\n```\r\nsudo -E bash -c 'pip install pyq'\r\n```\r\nIt seems env variable doesn't share with sudoer.\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 245,
    "metadata": {
      "issue_number": 113,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 7,
      "created_at": "2019-06-18T15:29:57Z",
      "updated_at": "2020-01-16T00:05:58Z",
      "closed_at": "2020-01-16T00:05:58Z",
      "author": "fouvy",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-9f77793e9d74",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/34",
    "title": "PyQ on Mac OS X error",
    "text": "# PyQ on Mac OS X error\n\nUsing python 3.6. I have 2 versions of kdb installed on my system; the free 32-bit version and the 64-bit personal edition. I've successfully installed PyQ using pip3...\r\n```\r\n~ master*\r\nâ¯ pip3 show pyq\r\nName: pyq\r\nVersion: 4.1.2\r\nSummary: PyQ - Python for kdb+\r\nHome-page: http://pyq.enlnt.com\r\nAuthor: Enlightenment Research, LLC\r\nAuthor-email: pyq@enlnt.com\r\nLicense: PyQ General License\r\nLocation: /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages\r\nRequires:\r\n```\r\nWhen I enter the pyq command it throws the following error...\r\n```\r\n~ master*\r\nâ¯ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'2017.11.25T15:31:18.701 dlopen(/Library/Frameworks/Python.framework/Versions/3.6/bin/python3:, 10): image not found\r\n  [4]  /Users/marrowgari/q/p.k:3: (`p 2:(`p_init;1))python_dll\r\n```\r\nI've also tried using Virtualenv. Following the steps [here](https://code.kx.com/q/interfaces/pyq/install/)...\r\n```\r\n~ master*\r\nâ¯ pip3 show virtualenv\r\nName: virtualenv\r\nVersion: 15.1.0\r\nSummary: Virtual Python Environment builder\r\nHome-page: https://virtualenv.pypa.io/\r\nAuthor: Jannis Leidel, Carl Meyer and Brian Rosner\r\nAuthor-email: python-virtualenv@groups.google.com\r\nLicense: MIT\r\nLocation: /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages\r\nRequires:\r\n```\r\nI've created the virtual environment and activated it...\r\n```\r\n~ master*\r\nâ¯ virtualenv /Users/marrowgari/pykdb\r\nUsing base prefix '/Library/Frameworks/Python.framework/Versions/3.6'\r\nNew python executable in /Users/marrowgari/pykdb/bin/python3.6\r\nAlso creating executable in /Users/marrowgari/pykdb/bin/python\r\nInstalling setuptools, pip, wheel...done.\r\n\r\n~ master*\r\nâ¯ source /Users/marrowgari/pykdb/bin/activate\r\n\r\n~ master*\r\n(pykdb) â¯\r\n```\r\nSince I have a license for my 64-bit personal edition I create a directory for it first...\r\n```\r\n~ master*\r\n(pykdb) â¯ mkdir -p /Users/marrowgari/pykdb/q && unzip /Users/marrowgari/downloads/m64.zip -d /Users/marrowgari/pykdb/q\r\nArchive:  /Users/marrowgari/downloads/m64.zip\r\n  inflating: /Users/marrowgari/pykdb/q/m64/q\r\n  inflating: /Users/marrowgari/pykdb/q/q.k\r\n```\r\nand check to make sure that it's been unzipped and installed properly...\r\n```\r\n~ master*\r\n(pykdb) â¯ cd pykdb\r\n\r\n~/pykdb master*\r\n(pykdb) â¯ ls\r\nbin                lib                q\r\ninclude            pip-selfcheck.json\r\n\r\n~/pykdb master*\r\n(pykdb) â¯ cd q\r\n\r\n~/pykdb/q master*\r\n(pykdb) â¯ ls\r\nm64 q.k\r\n\r\n~/pykdb/q master*\r\n(pykdb) â¯ cd m64\r\n\r\n~/pykdb/q/m64 master*\r\n(pykdb) â¯ ls\r\nq\r\n```\r\nI copy my kdb license to the q folder previously created in the virtualenv...\r\n`â¯ cp /Users/marrowgari/downloads/m64/kc.lic /Users/marrowgari/pykdb/q`\r\n\r\nand check to make sure it's been added...\r\n```\r\n~/pykdb/q master*\r\n(pykdb) â¯ ls\r\nkc.lic m64    q.k\r\n```\r\nI install PyQ in the virtualenv...\r\n```\r\n~/pykdb/q master*\r\n(pykdb) â¯ pip3 install pyq\r\nCollecting pyq\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.1.2\r\n```\r\nHowever, when I try to start an interactive session it throws the following error...\r\n```\r\n~/pykdb/q master*\r\n(pykdb) â¯ pyq\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'2017.11.25T15:56:52.494 dlopen(/Library/Frameworks/Python.framework/Versions/3.6/bin/python3.6:, 10): image not found\r\n  [4]  /Users/marrowgari/pykdb/q/p.k:3: (`p 2:(`p_init;1))python_dll\r\n```\r\nAny help on resolving this would be greatly appreciated. Thank you.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 428,
    "metadata": {
      "issue_number": 34,
      "state": "closed",
      "labels": [
        "macOS"
      ],
      "comments_count": 7,
      "created_at": "2017-11-25T20:59:45Z",
      "updated_at": "2017-12-04T17:08:34Z",
      "closed_at": "2017-12-04T16:01:02Z",
      "author": "grokpronoia",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-882a8975ba10",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/22",
    "title": "32-Bit Installation",
    "text": "# 32-Bit Installation\n\nPython version 2.7.13 on 64 bit Centos 6.\r\n\r\nCFLAGS=-m32 pip install pyq\r\nkeeps yielding â€œsrc/pyq.o: could not read symbols: File in wrong formatâ€ error",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 27,
    "metadata": {
      "issue_number": 22,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 7,
      "created_at": "2017-10-30T19:08:07Z",
      "updated_at": "2017-10-31T17:21:01Z",
      "closed_at": "2017-10-31T14:32:29Z",
      "author": "vincentleung58",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-48cce63f271b",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/2",
    "title": "Symbol is broken when imported into Pandas DataFrame",
    "text": "# Symbol is broken when imported into Pandas DataFrame\n\nThe following produce different result:\n\n```\nimport pyq,pandas\npyq.q(\"sym:`a`b`c`d\")\ndict(pyq.q(\"flip ([]sym:`sym$`a`b`c`d;upd:til 4)\"))['sym']\n```\n\nIt returns a list of k symbol, which is expected:\n\n```\nk('`sym$`a`b`c`d')\n```\n\nBut when imported into DataFrame, it becomes integer:\n\n```\nimport pyq,pandas\npyq.q(\"sym:`a`b`c`d\")\npandas.DataFrame(dict(pyq.q(\"flip ([]sym:`sym$`a`b`c`d;upd:til 4)\")))['sym']\n```\n\n```\n0    0\n1    1\n2    2\n3    3\n```\n\nThis is not right.  I understand that the underlying enum is an integer, but enumerated sym should return as string in pandas, rather than a number.\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 87,
    "metadata": {
      "issue_number": 2,
      "state": "closed",
      "labels": [
        "enhancement"
      ],
      "comments_count": 7,
      "created_at": "2016-10-17T18:46:24Z",
      "updated_at": "2017-03-09T05:45:31Z",
      "closed_at": "2017-03-09T05:45:31Z",
      "author": "sitsang",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-82a50261decc",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/107",
    "title": "Need to update pyQ homepage link in readme",
    "text": "# Need to update pyQ homepage link in readme\n\nLink to PyQ documentation sneds users to old site, should be updated to https://code.kx.com/v2/interfaces/pyq/",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 23,
    "metadata": {
      "issue_number": 107,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 6,
      "created_at": "2019-04-16T16:11:23Z",
      "updated_at": "2020-01-16T00:06:00Z",
      "closed_at": "2020-01-16T00:06:00Z",
      "author": "rianmorgan",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-33874746a680",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/72",
    "title": "Code sample to convert Pandas dataframe to KDB table",
    "text": "# Code sample to convert Pandas dataframe to KDB table\n\nHi,\r\n\r\nI am trying to find the best practices for converting pandas dataframe back to a kdb table using pyq. Could you please provide an example or a link to the examples?\r\n\r\nThanks\r\n\r\nJeffrey\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 44,
    "metadata": {
      "issue_number": 72,
      "state": "closed",
      "labels": [
        "question",
        "pandas",
        "no-issue-activity"
      ],
      "comments_count": 6,
      "created_at": "2018-06-26T18:53:00Z",
      "updated_at": "2020-01-17T00:07:29Z",
      "closed_at": "2020-01-17T00:07:29Z",
      "author": "jljs",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-f401d6e80420",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/32",
    "title": "installing pyq on redhat 2.7 with anaconda 5.0",
    "text": "# installing pyq on redhat 2.7 with anaconda 5.0\n\nI tried to install pyq with python 3.6 under anaconda 5.0.  I got the following error:\r\n\r\n```\r\nProcessing /apps/download/pyq-master\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 658, in <module>\r\n        run_setup(METADATA)\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 654, in run_setup\r\n        setup(**keywords)\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 280, in run\r\n        self.find_sources()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 295, in find_sources\r\n        mm.run()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 526, in run\r\n        self.add_defaults()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/egg_info.py\", line 562, in add_defaults\r\n        sdist.add_defaults(self)\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 36, in add_defaults\r\n        self._add_defaults_ext()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/site-packages/setuptools/command/py36compat.py\", line 119, in _add_defaults_ext\r\n        build_ext = self.get_finalized_command('build_ext')\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 299, in get_finalized_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 449, in finalize_options\r\n        ('define', 'define'))\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 384, in finalize_options\r\n        ('q_version', 'q_version'))\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 287, in set_undefined_options\r\n        src_cmd_obj.ensure_finalized()\r\n      File \"/apps/anaconda3/envs/env_py3/lib/python3.6/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 284, in finalize_options\r\n        self.python_dll = get_python_dll(sys.executable)\r\n      File \"/tmp/pip-29sp_qa8-build/setup.py\", line 242, in get_python_dll\r\n        raise RuntimeError('no python dll')\r\n    RuntimeError: no python dll\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-29sp_qa8-build/\r\n```\r\n\r\nI took a look at setup.py, looks like pyq installer is looking for python shared library libpython3.6m.so by using ldd <python-executable> But in this case, the share lib has been statically compiled into python3.6 executable. How do I get around this issue?\r\n\r\n```\r\n/apps/anaconda3/lib$ ldd /apps/anaconda3/bin/python\r\n\tlinux-vdso.so.1 =>  (0x00007ffd2fd37000)\r\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007fb7daf6d000)\r\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007fb7dabab000)\r\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x00007fb7da9a7000)\r\n\tlibutil.so.1 => /lib64/libutil.so.1 (0x00007fb7da7a4000)\r\n\tlibrt.so.1 => /lib64/librt.so.1 (0x00007fb7da59b000)\r\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007fb7da299000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fb7db6ea000)\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 318,
    "metadata": {
      "issue_number": 32,
      "state": "closed",
      "labels": [
        "conda",
        "linux-rhel"
      ],
      "comments_count": 6,
      "created_at": "2017-11-21T16:46:15Z",
      "updated_at": "2018-06-19T17:00:20Z",
      "closed_at": "2018-06-19T17:00:19Z",
      "author": "alexzhang2010",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-e3047e42ea6b",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/17",
    "title": "undefined symbol error installing pyq 4.1 on ubuntu ",
    "text": "# undefined symbol error installing pyq 4.1 on ubuntu \n\nI got the following errors while installing pyq on ubuntu (Linux ubuntu.fmr.com 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux). I am upgrading from pyq 4.0.2. I can confirm 4.0.2 does not have this issue.\r\n\r\nThanks,\r\nRay\r\n\r\n```\r\n(env_py3) root@ubuntu:/opt# pyq\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/envs/env_py3/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nImportError: /opt/anaconda3/envs/env_py3/lib/python3.6/site-packages/pyq/_k.cpython-36m-x86_64-linux-gnu.so: undefined symbol: clr\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/opt/anaconda3/envs/env_py3/lib/python3.6/site-packages/pyq/__init__.py\", line 31, in <module>\r\n    raise ImportError(message)\r\nImportError: Importing pyq from stock python is not supported. Use pyq executable.\r\n'2017.09.21T12:42:31.611 python\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 126,
    "metadata": {
      "issue_number": 17,
      "state": "closed",
      "labels": [
        "bug"
      ],
      "comments_count": 6,
      "created_at": "2017-09-21T19:52:33Z",
      "updated_at": "2017-10-05T02:09:45Z",
      "closed_at": "2017-10-05T02:09:45Z",
      "author": "alexzhang2010",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-f324a298cecb",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/16",
    "title": "null values in enumerated columns causes crash",
    "text": "# null values in enumerated columns causes crash\n\nBelow is my test case. Please advise. \r\n\r\nThanks!\r\nRay\r\n\r\n```\r\nfrom pyq import q\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nq('suits: `hearts`clubs`spades`diamonds')\r\nq.good = q('([] c1: 1 2 3 4; c2:`suits$(`hearts`clubs`clubs`diamonds))')\r\nna = np.array(q.good)\r\n# column c2 now has a null value\r\nq.bad = q('([] c1: 1 2 3 4; c2:`suits$(`hearts`clubs``diamonds))')\r\nq.bad_column = q('bad[`c2]')\r\n# q.bad and q.bad_column both  type <class 'pyq.K'>\r\n# each of the following 3 lines will crash due to null values in enumerated column\r\nt = list(q.bad_column)\r\nna = np.array(q.bad)\r\ndf = pd.DataFrame(na)\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 98,
    "metadata": {
      "issue_number": 16,
      "state": "closed",
      "labels": [
        "bug"
      ],
      "comments_count": 6,
      "created_at": "2017-09-21T18:03:31Z",
      "updated_at": "2017-09-21T23:18:43Z",
      "closed_at": "2017-09-21T23:18:43Z",
      "author": "alexzhang2010",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-c66443dc1ef1",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/144",
    "title": "Running pyq in terminal resulting in exit .pyq.run line of code executing from python.q file",
    "text": "# Running pyq in terminal resulting in exit .pyq.run line of code executing from python.q file\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Raspbian 32 bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    Python 3.7.3\r\n    Python 3.7.3\r\n    pyq 5.0.0\r\n    ```\r\n    \r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32 bit\r\n     \r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/pi/virtualenv/q    \r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n    ```\r\n    no    \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n\r\n## Expected result\r\nExpected q/python interactive session in terminal\r\n\r\n## Actual result\r\n\r\n```\r\n(virtualenv) pi@raspberrypi:~/virtualenv $ pyq\r\n\r\n  [2]  /home/pi/virtualenv/q/python.q:9: if[`python.q~last` vs hsym .z.f;exit .pyq.run .pyq.args]\r\n                                                                                                                ^\r\n```\r\n\r\nArrow ^ points to exit .pyq.run. Any ideas what to try from that point? What may have gone wrong on install process? Any suggestions very welcome - or if any Rasp Pi install guides available please share\r\n\r\nQ works in terminal on my virtual environment. \r\nPython version 3.7.3\r\npyq 5.0.0 installed using pip\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 289,
    "metadata": {
      "issue_number": 144,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 5,
      "created_at": "2021-08-24T14:28:33Z",
      "updated_at": "2021-08-30T13:47:31Z",
      "closed_at": "2021-08-30T13:47:31Z",
      "author": "stephenc-ie",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-0284f4621503",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/131",
    "title": "No module named 'pyq' in macOs Catalina 10.15.4",
    "text": "# No module named 'pyq' in macOs Catalina 10.15.4\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    macOS Catalina, 10.15.4, 65-bit\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    4.2.1    \r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    3.6  64-bit\r\n     \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        yes, QLIC=/Users/xiangpeng/venv37/q\r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes \r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n    QHOME=/Users/xiangpeng/venv37/q  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    no   \r\n - [x] Output of `ls -la $VIRTUAL_ENV/q`\r\n(venv37) iMac /Users/xiangpeng $ ls -la venv37/q\r\ntotal 136\r\ndrwxr-xr-x  14 xiangpeng  staff   448B May 12 20:20 ./\r\ndrwxr-xr-x  13 xiangpeng  staff   416B Apr 13 16:38 ../\r\n-rw-r--r--@  1 xiangpeng  staff   3.2K May 11 23:28 README.txt\r\n-rw-r--r--@  1 xiangpeng  staff   366B May 11 23:28 kc.lic\r\ndrwxr-xr-x   4 xiangpeng  staff   128B May 12 20:20 m64/\r\n-rw-r--r--   1 xiangpeng  staff   516B May 12 20:20 p.k\r\n-rw-r--r--   1 xiangpeng  staff   155B May 12 20:20 pyq-config.q\r\n-rw-r--r--   1 xiangpeng  staff   1.1K May 12 20:20 pyq-operators.q\r\n-rw-r--r--   1 xiangpeng  staff    32B May 11 23:28 pyq-print.q\r\n-rwxr-xr-x   1 xiangpeng  staff   319B May 12 20:20 python.q*\r\n-rw-r--r--@  1 xiangpeng  staff    22K May 11 23:28 q.k\r\n-rw-r--r--@  1 xiangpeng  staff   5.3K May 11 23:28 s.k\r\n-rw-r--r--@  1 xiangpeng  staff   821B May 11 23:28 sp.q\r\n-rw-r--r--@  1 xiangpeng  staff   150B May 11 23:28 trade.q\r\n - [x] output of `python3 -mpip list | grep pyq`\r\n(venv37) iMac /Users/xiangpeng $ python3 -mpip list | grep pyq\r\npyq                      4.2.1\r\n\r\n## Steps to reproduce the issue\r\n/Users/xiangpeng/venv37/q\r\nq)p)1\r\n\r\n## Expected result\r\n1\r\n\r\n## Actual result\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pyq'\r\n'python\r\n\r\n<img width=\"672\" alt=\"Screenshot 2020-05-12 at 8 48 24 PM\" src=\"https://user-images.githubusercontent.com/15676035/81693285-43b08780-9492-11ea-8506-53a1dab267fa.png\">\r\n<img width=\"673\" alt=\"Screenshot 2020-05-12 at 8 50 33 PM\" src=\"https://user-images.githubusercontent.com/15676035/81693297-48753b80-9492-11ea-8ad3-0f9bcd87b6e4.png\">\r\n## Workaround\r\nIn the same time, \"pyq\" works perfectly.\r\n<img width=\"449\" alt=\"Screenshot 2020-05-12 at 9 05 35 PM\" src=\"https://user-images.githubusercontent.com/15676035/81694783-575ced80-9494-11ea-81c8-c849047a1f01.png\">\r\n\r\nIf you know workaround, please provide it here.\r\nWith help of @sashkab in https://github.com/KxSystems/pyq/issues/132#issuecomment-628620923, there's an issue lying python3.7, the workaround to downgrade python3.6 works perfectly.\r\n```\r\nbrew install sashkab/python/python@3.6\r\n/usr/local/opt/python@3.6/bin/python3.6 -mpip install -U virtualenv==16.7.9\r\n/usr/local/opt/python@3.6/bin/python3.6 -mvirtualenv pyq\r\nsource pyq/bin/activate\r\npython3.6 -mpip install -U pip setuptools wheel\r\nunzip Downloads/m64.zip -d $VIRTUAL_ENV/q\r\ncp q64/kc.lic $VIRTUAL_ENV/q/\r\npython3.6 -mpip install pyq\r\nQHOME=$VIRTUAL_ENV/q $VIRTUAL_ENV/q/m64/q\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 462,
    "metadata": {
      "issue_number": 131,
      "state": "closed",
      "labels": [
        "macOS",
        "user error"
      ],
      "comments_count": 5,
      "created_at": "2020-05-12T12:51:01Z",
      "updated_at": "2020-05-14T15:55:20Z",
      "closed_at": "2020-05-12T14:30:41Z",
      "author": "xiangpeng2008",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-0c33f109b59a",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/121",
    "title": "_k.error: scov on pyq start",
    "text": "# _k.error: scov on pyq start\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    CentOS 64-bit\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ is not operational\r\n    Python 3.7.4\r\n    PyQ 4.2.1\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit \r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC=/opt/qb/q3.1\r\n       ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n    ```\r\n    Using miniconda\r\n    ```  \r\n\r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/opt/qb/q3.1\r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    conda 4.7.10\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\npip install pyq\r\npyq\r\n\r\n## Expected result\r\nPython terminal prompt\r\n\r\n## Actual result\r\n<pre><code>\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/kgang/.local/lib/python3.7/site-packages/pyq/__init__.py\", line 733, in <module>\r\n    q = _Q()\r\n  File \"/home/kgang/.local/lib/python3.7/site-packages/pyq/__init__.py\", line 701, in __init__\r\n    [name for name, _ in _q_builtins()])\r\n  File \"/home/kgang/.local/lib/python3.7/site-packages/pyq/__init__.py\", line 634, in _q_builtins\r\n    pairs.append((attr, q(x)))\r\n  File \"/home/kgang/.local/lib/python3.7/site-packages/pyq/__init__.py\", line 614, in q\r\n    return K._k(0, x)\r\n_k.error: scov\r\n'2019.09.13T11:14:27.195 python\r\n@\r\n\"k\"\r\n\"p)from pyq import q\"\r\n</code></pre>\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 260,
    "metadata": {
      "issue_number": 121,
      "state": "closed",
      "labels": [
        "bug"
      ],
      "comments_count": 5,
      "created_at": "2019-09-13T17:29:19Z",
      "updated_at": "2020-05-04T15:41:21Z",
      "closed_at": "2020-01-09T16:50:10Z",
      "author": "kgang",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-9e08e7b24ae8",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/102",
    "title": "Unable to install pyq on macOS 10.14",
    "text": "# Unable to install pyq on macOS 10.14\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n     macOS 10.14.2 64bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    pyq 4.1.4\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    3.5 32-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - No, using miniconda environment\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=~/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    conda 4.6.1\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n- Make new miniconda python 3 env\r\n- download git repo \r\n- Changes in steup.py #80 \r\n- pip install ~/master-pyq/\r\n\r\n## Expected result\r\n\r\nShould Install pyq\r\n\r\n## Actual result\r\n\r\n```\r\nerror: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n        char *str = PyUnicode_AsUTF8AndSize(obj, psize);\r\n              ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1337:17: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                    PY_SET_SN(dest[i], obj)\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:1343:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xs, obj)\r\n                ^~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:2515:13: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n                PY_SET_SN(xS[i], o)\r\n                ^~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:4031:9: error: initializing 'char *' with an expression of type 'const char *' discards qualifiers [-Werror,-Wincompatible-pointer-types-discards-qualifiers]\r\n            PY_SET_SN(s, obj);\r\n            ^~~~~~~~~~~~~~~~~\r\n    src/pyq/_k.c:103:19: note: expanded from macro 'PY_SET_SN'\r\n                char *str = PyUnicode_AsUTF8AndSize(obj, &size); \\\r\n                      ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n5 errors generated\r\nerror: command 'gcc' failed with exit status 1\r\n```\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 397,
    "metadata": {
      "issue_number": 102,
      "state": "closed",
      "labels": [
        "macOS"
      ],
      "comments_count": 5,
      "created_at": "2019-01-28T21:21:57Z",
      "updated_at": "2019-02-01T13:14:38Z",
      "closed_at": "2019-02-01T13:14:38Z",
      "author": "ppatel26",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-aa618dbb716f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/89",
    "title": "Cannot open pyq",
    "text": "# Cannot open pyq\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit? \r\n\r\n    ```\r\n    Linux 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PYQ 4.1.4; Python 2.7.14\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit; kdb+ 3.6\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC not set\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - No.\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/robert/Downloads/kdb\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n$pyq\r\n\r\n## Expected result\r\nNormal pyq\r\n\r\n## Actual result\r\n'2018.09.13T07:47:07.900 p.so: cannot open shared object file: No such file or directory\r\n  [4]  /home/robert/Downloads/kdb/p.k:3: (`p 2:(`p_init;1))python_dll\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 223,
    "metadata": {
      "issue_number": 89,
      "state": "closed",
      "labels": [
        "invalid",
        "linux-ubuntu"
      ],
      "comments_count": 5,
      "created_at": "2018-09-13T06:47:51Z",
      "updated_at": "2018-09-17T13:23:11Z",
      "closed_at": "2018-09-17T13:23:11Z",
      "author": "unix9999",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-319fa82913d4",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/30",
    "title": "Allow installation of embedPy alongside PyQ",
    "text": "# Allow installation of embedPy alongside PyQ\n\nCurrently, both PyQ and embedPy install `p.so` in `QHOME` and this name conflict means that users cannot use both in the same kdb+ instance.\r\n\r\nWhy would users want to have both PyQ and embedPy?  While the two projects provide some overlapping functionality, PyQ is primarily focused on accessing kdb+ data from Python while embedPy has more features for q programers to call Python functions.\r\n\r\n## Implementation plan\r\n\r\n* [x] rename `p.so` in PyQ to `pyq.so`\r\n* [x] provide means of (optionally?) installing embedPy components into a PyQ environment, e.g, `pip install pyq[embedpy]`",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 99,
    "metadata": {
      "issue_number": 30,
      "state": "closed",
      "labels": [
        "enhancement"
      ],
      "comments_count": 5,
      "created_at": "2017-11-12T22:45:31Z",
      "updated_at": "2018-08-23T18:19:38Z",
      "closed_at": "2018-05-24T18:33:08Z",
      "author": "abalkin",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-754691c2321f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/11",
    "title": "Installation with Python 3.5 - NameError: name 'pypath' is not defined",
    "text": "# Installation with Python 3.5 - NameError: name 'pypath' is not defined\n\nHi, \r\n\r\n`NameError: name 'pypath' is not defined` is thrown when installing pyq with Python 3.5. \r\nOn the same machine, it installs fine with Python 2.7.\r\nkdb+ version is 3.4, 64-bit licensed.\r\n\r\nThanks\r\n\r\n````bash\r\n(venv) adil@adil-OptiPlex-3020:~/workspace/technical-alerts$ pip install -i https://pyq.enlnt.com --no-binary pyq pyq\r\nCollecting pyq\r\n  Downloading https://github.com/enlnt/pyq/archive/pyq-4.0.1.tar.gz (585kB)\r\n    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 593kB 1.4MB/s \r\nSkipping bdist_wheel for pyq, due to binaries being disabled for it.\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... error\r\n    Complete output from command /home/adil/workspace/technical-alerts/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-chld175c/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-wj5cg4zw-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/adil/workspace/technical-alerts/venv/include/site/python3.5/pyq:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.5\r\n    creating build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/magic.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/version.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.5/pyq\r\n    copying src/pyq/_n.py -> build/lib.linux-x86_64-3.5/pyq\r\n    creating build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.5/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.linux-x86_64-3.5-kx-3\r\n    creating build/temp.linux-x86_64-3.5-kx-3/src\r\n    creating build/temp.linux-x86_64-3.5-kx-3/src/pyq\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DKXVER=3 -DQVER=3 -DPY3K=35 -I/usr/include/python3.5m -I/home/adil/workspace/technical-alerts/venv/include/python3.5m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.5-kx-3/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 build/temp.linux-x86_64-3.5-kx-3/src/pyq/_k.o -o build/lib.linux-x86_64-3.5/pyq/_k.cpython-35m-x86_64-linux-gnu.so\r\n    running build_scripts\r\n    creating build/scripts-3.5\r\n    copying src/scripts/pyq-runtests -> build/scripts-3.5\r\n    copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.5\r\n    copying src/scripts/ipyq -> build/scripts-3.5\r\n    copying src/scripts/pq -> build/scripts-3.5\r\n    copying src/scripts/qp -> build/scripts-3.5\r\n    changing mode of build/scripts-3.5/pyq-coverage from 664 to 775\r\n    changing mode of build/scripts-3.5/ipyq from 664 to 775\r\n    changing mode of build/scripts-3.5/pq from 664 to 775\r\n    changing mode of build/scripts-3.5/qp from 664 to 775\r\n    running build_qk\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-chld175c/pyq/setup.py\", line 796, in <module>\r\n        **metadata)\r\n      File \"/usr/lib/python3.5/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/usr/lib/python3.5/distutils/dist.py\", line 955, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/usr/lib/python3.5/distutils/dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"/home/adil/workspace/technical-alerts/venv/lib/python3.5/site-packages/setuptools/command/install.py\", line 61, in run\r\n        return orig.install.run(self)\r\n      File \"/usr/lib/python3.5/distutils/command/install.py\", line 583, in run\r\n        self.run_command('build')\r\n      File \"/usr/lib/python3.5/distutils/cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/lib/python3.5/distutils/dist.py\", line 974, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3.5/distutils/command/build.py\", line 135, in run\r\n        self.run_command(cmd_name)\r\n      File \"/usr/lib/python3.5/distutils/cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/lib/python3.5/distutils/dist.py\", line 973, in run_command\r\n        cmd_obj.ensure_finalized()\r\n      File \"/usr/lib/python3.5/distutils/cmd.py\", line 107, in ensure_finalized\r\n        self.finalize_options()\r\n      File \"/tmp/pip-build-chld175c/pyq/setup.py\", line 358, in finalize_options\r\n        lib_string = 'lib:\"%s\\\\000\"\\n' % pypath\r\n    NameError: name 'pypath' is not defined\r\n    ----------------------------------------\r\nCommand \"/home/adil/workspace/technical-alerts/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-chld175c/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-wj5cg4zw-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/adil/workspace/technical-alerts/venv/include/site/python3.5/pyq\" failed with error code 1 in /tmp/pip-build-chld175c/pyq/\r\n````",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 482,
    "metadata": {
      "issue_number": 11,
      "state": "closed",
      "labels": [
        "bug"
      ],
      "comments_count": 5,
      "created_at": "2017-03-30T13:23:32Z",
      "updated_at": "2017-05-12T13:36:39Z",
      "closed_at": "2017-05-12T13:36:39Z",
      "author": "danielkrizian",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-b9aeb98f4b84",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/140",
    "title": "support for .z.pi",
    "text": "# support for .z.pi\n\nDo we have any plan to support .z.pi in pyq ?\r\nThe issue is firstly posted: https://github.com/KxSystems/pyq/issues/93\r\nWith the help of .z.pi, I could easily custom output like adding colors to make output easier to read.\r\n![image](https://user-images.githubusercontent.com/15676035/96828665-a27b2380-146a-11eb-8e77-4d6a4d204502.png)\r\nBut in pyq I can't as .z.pi is not supported.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 51,
    "metadata": {
      "issue_number": 140,
      "state": "closed",
      "labels": [],
      "comments_count": 4,
      "created_at": "2020-10-22T05:29:59Z",
      "updated_at": "2020-10-28T05:19:17Z",
      "closed_at": "2020-10-22T12:31:10Z",
      "author": "xiangpeng2008",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-a39fb2e6b10d",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/138",
    "title": "PyQ 5.0 conda release for python 3.6",
    "text": "# PyQ 5.0 conda release for python 3.6\n\nQuestionnaire removed as the contents unsuited for request.\r\n\r\nHi @abalkin and @sashkab,\r\n\r\nWe have received a request for the addition of a PyQ 5.0 release on conda which is compatible with Python 3.6. Looking at the conda packages available it appears that only 3.7 linux and mac are supported for 5.0 https://anaconda.org/enlnt/pyq/files could we please have a 3.6 release added for linux and mac as the most up to date version for 3.6 is 4.1.4?\r\n\r\nAll the best,\r\n\r\nConor",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 87,
    "metadata": {
      "issue_number": 138,
      "state": "closed",
      "labels": [
        "conda"
      ],
      "comments_count": 4,
      "created_at": "2020-09-18T08:12:51Z",
      "updated_at": "2020-09-21T21:03:05Z",
      "closed_at": "2020-09-21T21:03:05Z",
      "author": "cmccarthy1",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-3dda4f52ed5c",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/136",
    "title": "Running a background q timer within an IPython session",
    "text": "# Running a background q timer within an IPython session\n\n**Issue raised via email to fusion@kx.com, here for posterity**\r\n\r\n# Questions\r\n\r\n- [x ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n  * Behaviour should be os independent but have been replicated on the following OS\r\n    ```\r\n    $ uname -a\r\n    Linux username 5.4.0-37-generic #41-Ubuntu SMP Wed Jun 3 18:57:02 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 5.0.0\r\n    KDB+ 3.6 (2019.08.20) l64\r\n    Python 3.8.2 (default, Apr 27 2020, 15:53:34)\r\n    [GCC 9.3.0]\r\n    ```\r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    kdb+ 3.6 64-bit\r\n    ```\r\n   \r\n- [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n    - No QLIC is not set, this should not be relevant for the problem \r\n        \r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - In the example PyQ was Installed in a conda environment\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    $ env | grep QHOME\r\n    QHOME=/home/conor/anaconda3/pyq_issue/q\r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n    ```\r\n    $ conda -V\r\n    conda 4.8.3\r\n    ```   \r\n\r\n## Steps to reproduce the issue\r\n\r\nThe following minimal script was provided and should expose the behaviour, named `test.q` and executed as `$ q test.q` \r\n\r\n```\r\nt:([]id:();time:());\r\n.ns.i:0;\r\n.z.ts:{\r\n    `t insert (.ns.i;.z.p);\r\n    .ns.i+:1\r\n };\r\nsystem\"t 2000\";\r\nshow t;\r\nshow string[.z.p],\" : Breaking to python\"\r\np)1\r\n.pyq.run:.pyq.py `$1_string .Q.dd[hsym `$getenv `$\"CONDA_PREFIX\";`bin`pyq];\r\n.pyq.run (\"-m\";\"IPython\")\r\n```\r\n\r\n## Expected result\r\n\r\nExpected behaviour from user was that the timer set initially before running the IPython session would continue to allow the table to be added too on the timer while in the IPython session.\r\n\r\nIssue #10 indicates that once in an interactive python environment that the python REPL overrides the kdb main loop however which is likely the reason that the timers do not execute as expected?\r\n\r\n## Actual result\r\n\r\nThe timer is not executing in the background. Events can be triggered from direct calls to .z.ts through PyQ via\r\n\r\n```\r\n[1] q('.z.ts[]')\r\n```\r\n\r\nHowever this is not sufficient in the users use case\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\r\nA suitable workaround doesn't appear to be available hence the question. An async threaded python event loop can be run which allows for some level of flexibility but this use case requires that global variables be updated which seems to be outside the remit of the interface in this use case.\r\n\r\nAny workarounds/insights into this would be greatly appreciated",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 487,
    "metadata": {
      "issue_number": 136,
      "state": "open",
      "labels": [
        "question"
      ],
      "comments_count": 4,
      "created_at": "2020-06-12T08:59:58Z",
      "updated_at": "2021-02-11T14:13:41Z",
      "closed_at": null,
      "author": "cmccarthy1",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-fd64b3dcb7e4",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/114",
    "title": "how to debug python in pyq with vscode",
    "text": "# how to debug python in pyq with vscode\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    ubuntu 18.04 lts 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    4.2.1\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   -  no\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    /q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    no\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nI want to debug my python code in pyq which runs some query of table in kdb+.\r\nAnyone had solved this issue?\r\nThis is my launch.json when i debug python code without q code under python 3.6 interpreter.\r\n```\r\n{\r\n    \"version\": \"0.2.0\",\r\n    \"configurations\": [\r\n        {\r\n            \"name\": \"Python: train gbm\",\r\n            \"type\": \"python\",\r\n            \"request\": \"launch\",\r\n            \"program\": \"${file}\",\r\n            \"console\": \"integratedTerminal\"\r\n        }\r\n    ]\r\n}\r\n```\r\nAnyone figured out how to setting pyq interpreter of launch.json in vscode?\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 276,
    "metadata": {
      "issue_number": 114,
      "state": "closed",
      "labels": [
        "invalid",
        "question",
        "doc"
      ],
      "comments_count": 4,
      "created_at": "2019-07-01T15:03:03Z",
      "updated_at": "2019-07-11T11:52:12Z",
      "closed_at": "2019-07-01T15:37:39Z",
      "author": "fouvy",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-fa980d49f64e",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/112",
    "title": "pyq-config.q reference libpython3.7m.a not libpython3.7m.so",
    "text": "# pyq-config.q reference libpython3.7m.a not libpython3.7m.so\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Linux k1 4.9.0-9-amd64 #1 SMP Debian 4.9.168-1+deb9u2 (2019-05-13) x86_64 GNU/Linux\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.2.1\r\n    NumPy 1.15.4\r\n    KDB+ 3.5 (2017.11.30) l32\r\n    Python 3.7.1 (default, Dec 14 2018, 19:51:47) \r\n    [GCC 7.3.0]\r\n\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    KDB+ 3.5 2017.11.30 Copyright (C) 1993-2017 Kx Systems\r\n   l32/ 6()core 12018MB weaves k1 192.168.145.147 NONEXPIRE  \r\n\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        Not applicable\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - I used a 32-bit Anaconda with gcc_linux-32\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/weaves/src/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    Anaconda3-2018.12-Linux-x86.sh 4.5.12\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n  pyq\r\n\r\n## Expected result\r\n\r\n  Python 3.7.1 (default, Dec 14 2018, 19:51:47) \r\n  [GCC 7.3.0] :: Anaconda custom (32-bit) on linux\r\n  Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n  >>> \r\n\r\n## Actual result\r\n\r\n  339$ pyq\r\n  '2019.06.11T08:57:46.293 /misc/share/5/anaconda32/lib/libpython3.7m.a: invalid ELF header\r\n    [4]  /home/share/src/q-site/p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dl\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\r\nManual edit of ~/src/q/pyq-config.q so that the libpython3.7m.a is changed to .so\r\n\r\n  \\d .pyq\r\n  // python_dll:\"/misc/share/5/anaconda32/lib/libpython3.7m.a\\000\"\r\n  python_dll:\"/misc/share/5/anaconda32/lib/libpython3.7m.so\\000\"\r\n  pyq_executable:\"/misc/share/5/anaconda32/bin/pyq\"\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 300,
    "metadata": {
      "issue_number": 112,
      "state": "closed",
      "labels": [
        "bug",
        "linux: debian",
        "no-issue-activity"
      ],
      "comments_count": 4,
      "created_at": "2019-06-11T08:01:06Z",
      "updated_at": "2020-01-16T00:05:59Z",
      "closed_at": "2020-01-16T00:05:59Z",
      "author": "eepgwde",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-5a09f0f7ce9e",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/111",
    "title": "q processing *.p file does not recognize decorators",
    "text": "# q processing *.p file does not recognize decorators\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nCentOS Linux release 7.4.1708 64bit\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n'4.1.4'\r\n\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n3.5 2017.03.28 64bit\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\nyes\r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\nno.  I don't know why I should install virtual env.\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\nQHOME=/dat/bcprod_constans/bin/kx/3.5\r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\nconda 4.6.9\r\n## Steps to reproduce the issue\r\nJust use any script with decorators\r\nI don't know why this is not supported.\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 218,
    "metadata": {
      "issue_number": 111,
      "state": "closed",
      "labels": [
        "enhancement",
        "no-issue-activity"
      ],
      "comments_count": 4,
      "created_at": "2019-06-06T20:11:22Z",
      "updated_at": "2021-01-28T13:31:36Z",
      "closed_at": "2020-01-16T00:05:59Z",
      "author": "andersontigerzhang",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-72deed539b96",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/108",
    "title": "Issue importing pytables into pyq ",
    "text": "# Issue importing pytables into pyq \n\nHi, I'm hitting an issue importing the pytables module into a pyq session\r\n\r\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Debian 9 (stretch) 64-bit\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n   PyQ 4.2.1\r\n   NumPy 1.16.3\r\n   KDB+ 3.5 (2018.05.20) l64\r\n   Python 3.5.3 (default, Sep 27 2018, 17:25:39) \r\n   [GCC 6.3.0 20170516]\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    3.5 (2018.05.20) - 64-bit\r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC=/home/kx/venvTest/q\r\n\r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/kx/venvTest/q\r\n\r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\nNo\r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nStarting pyq and importing the tables module causes an error\r\n\r\n```\r\n(venvTest) kx@shakdb5:~$ taskset --cpu-list 1,6 pyq\r\nPython 3.5.3 (default, Sep 27 2018, 17:25:39) \r\n[GCC 6.3.0 20170516] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tables\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/pyq/__init__.py\", line 841, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/tables/__init__.py\", line 131, in <module>\r\n    from .file import File, open_file, copy_file\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/pyq/__init__.py\", line 841, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/tables/file.py\", line 51, in <module>\r\n    from .array import Array\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/pyq/__init__.py\", line 844, in __import__\r\n    _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\n  File \"/home/kx/venvTest/lib/python3.5/site-packages/pyq/__init__.py\", line 844, in <genexpr>\r\n    _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\nAttributeError: module 'tables.array' has no attribute 'array'\r\n>>> exit()\r\n```\r\nImporting in vanilla python is successful\r\n\r\n```\r\n(venvTest) kx@shakdb5:~$ python\r\nPython 3.5.3 (default, Sep 27 2018, 17:25:39) \r\n[GCC 6.3.0 20170516] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tables\r\n>>> \r\n```\r\n\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 383,
    "metadata": {
      "issue_number": 108,
      "state": "closed",
      "labels": [
        "bug"
      ],
      "comments_count": 4,
      "created_at": "2019-05-01T14:51:49Z",
      "updated_at": "2020-01-08T23:03:56Z",
      "closed_at": "2020-01-08T23:03:56Z",
      "author": "jkindy",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-6610d271d235",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/103",
    "title": "'Kernel died, restarting' error when importing pyq in Anaconda",
    "text": "# 'Kernel died, restarting' error when importing pyq in Anaconda\n\nPosting a bug report per suggestion on SO.\r\n\r\n\r\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nWin10 64-bit\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\npyq version 4.1.4\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n64-bit kdb+\r\n    \r\n\r\n - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\nNo QLIC variable set\r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\nNo, installed directly\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n QHOME set as 'C:\\q'\r\n    \r\n- [x] Do you use Conda? If so, what version?\r\n\r\nNo, primarily pip\r\n\r\n## Steps to reproduce the issue\r\n\r\n```\r\nimport pyq\r\n```\r\n\r\nOR\r\n\r\n```\r\nfrom pyq import q\r\n```\r\n\r\n## Expected result\r\nPackage imported successfully (no return within Spyder)\r\n\r\n## Actual result\r\n```\r\nfrom pyq import q\r\n\r\nKernel died, restarting\r\n```\r\n\r\n\r\n## Workaround\r\nNA\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 225,
    "metadata": {
      "issue_number": 103,
      "state": "closed",
      "labels": [
        "invalid",
        "conda",
        "windows",
        "notebook",
        "pyq-kernel"
      ],
      "comments_count": 4,
      "created_at": "2019-02-11T01:39:12Z",
      "updated_at": "2019-02-12T18:47:54Z",
      "closed_at": "2019-02-12T18:47:54Z",
      "author": "cppt",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-e75be5f8743f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/93",
    "title": ".z.pi not working in pyq",
    "text": "# .z.pi not working in pyq\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Ubuntu 16.04 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.1.4\r\n    NumPy 1.13.3\r\n    KDB+ 3.5 (2018.02.26) l64\r\n    Python 2.7.12 (default, Dec  4 2017, 14:50:18) \r\n    [GCC 5.4.0 20160609]\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    3.5 64-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n      QLIC=/kdb-ebs/q  \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/kdb-ebs/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nHello, it seems .z.pi does not work in pyq. Below is just a dummy example:\r\n```\r\nubuntu@host:~$ q\r\nq)cnt:0\r\nq).z.pi:{ cnt::cnt+1 ; show value x;};\r\nq)cnt\r\n1\r\nq)cnt\r\n2\r\nq)1+1\r\n2\r\nq)3+4\r\n7\r\nq)cnt\r\n5\r\nq)\\\\\r\nubuntu@host:~$ workon venv\r\n(venv) ubuntu@host:~$ pyq\r\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q()\r\nq)cnt:0\r\nq).z.pi:{ cnt::cnt+1 ; show value x;};\r\nq)cnt\r\n0\r\nq)1+1\r\n2\r\nq)cnt\r\n0\r\nq)\\\r\n>>> \r\n```\r\n\r\n## Expected result\r\nI expect variable `cnt` to increase at each call\r\n\r\n## Actual result\r\n`cnt` does not increase at each call\r\n\r\n## Workaround\r\nN/A\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 316,
    "metadata": {
      "issue_number": 93,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 4,
      "created_at": "2018-10-10T12:52:59Z",
      "updated_at": "2020-10-19T12:51:24Z",
      "closed_at": "2020-01-16T00:06:03Z",
      "author": "zak-b2c2",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-9d8562353398",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/77",
    "title": "PyQ installation issues",
    "text": "# PyQ installation issues\n\n# Questions\r\n\r\nPyQ installation is not working .. \r\n```\r\n$ ./pyq\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/app/kdbadmin/Work/pyq3/lib/python3.6/site-packages/pyq/__init__.py\", line 22, in <module>\r\n    from ._k import K as _K, error as kerr, Q_VERSION, Q_DATE, Q_OS\r\nModuleNotFoundError: No module named 'pyq._k'\r\n'2018.07.10T17:23:44.993 python\r\n```\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n    ```CentOS, 64-bit\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n    ```pyq isn't operational .. \r\n    ```Python 2.7.15\r\n    ```-bash: python3: command not found\r\n    ```Traceback (most recent call last):\r\n  File \"/usr/bin/pip\", line 7, in <module>\r\n    from pip._internal import main\r\nImportError: No module named pip._internal    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n    ```KDB+ 3.6 2018.06.14 .. 64 bit\r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```env | grep QLIC   ----->   empty\r\n        \r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - \r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n    ```QHOME=/app/q\r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 271,
    "metadata": {
      "issue_number": 77,
      "state": "closed",
      "labels": [
        "invalid",
        "linux-rhel"
      ],
      "comments_count": 4,
      "created_at": "2018-07-10T21:55:56Z",
      "updated_at": "2018-07-11T11:58:06Z",
      "closed_at": "2018-07-11T02:09:28Z",
      "author": "bmayott",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-a8644ab5c0f9",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/70",
    "title": "Minor issue in ,: append with pyq",
    "text": "# Minor issue in ,: append with pyq\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    RedHat 64 bit\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    python 2.7\r\n   pyq version 4.1.3\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64bit\r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n \r\n        ```\r\n        QLIC is set, but is NA\r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - **no**, installing into root environment so everyone can share pyq \r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    Qhome is set, but NA\r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    yes, 4.5.2\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n```python\r\nfrom pyq import q\r\ndef test(x,y):\r\n    return {\"x\":x, \"y\":y}\r\n\r\nq.set('f',test)\r\nq('g:{d:`x`y!(x+x;y);d,:f (x;y)}')\r\nq('g[4;5]')\r\n```\r\n\r\n\r\n## Expected result\r\n\r\n```q\r\n`x`y!4 5\r\n```\r\n\r\n## Actual result\r\ntype error\r\n\r\n## Workaround\r\ntwo workarounds are known\r\nchange function g to \r\ng:{d:`x`y!(x+x;y);**d:d,f (x;y)}**\r\nexplicitly cast \r\ng:{d:`x`y!(x+x;y); **d,:`long$f(x,y)**}\r\n\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 245,
    "metadata": {
      "issue_number": 70,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 4,
      "created_at": "2018-06-07T23:08:00Z",
      "updated_at": "2018-07-04T11:34:22Z",
      "closed_at": "2018-07-04T11:34:22Z",
      "author": "pindash",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-4fb891c2cc23",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/67",
    "title": "-s argument to enable multithreading",
    "text": "# -s argument to enable multithreading\n\nIs there a way to specify the number of slaves prior to executing PyQ? The command\r\n\r\n```python\r\nPYQ_BACKTRACE=yes pyq -s 14\r\n```\r\ndoes not work.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 31,
    "metadata": {
      "issue_number": 67,
      "state": "closed",
      "labels": [
        "enhancement"
      ],
      "comments_count": 4,
      "created_at": "2018-05-24T00:01:28Z",
      "updated_at": "2018-08-07T16:29:41Z",
      "closed_at": "2018-07-18T18:52:40Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-b6d682a2db3a",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/64",
    "title": "Pandas incompatibility",
    "text": "# Pandas incompatibility\n\nOSX 64-bit\r\nPyQ version 4.1.2\r\nkdb+ 32-bit\r\nUsed virtualenv\r\nQHOME = /home/user/q/.\r\nConda version 4.3.30\r\n\r\n\r\nI noticed a bug in the pandas indexing engine when pyq is imported. There seems to be a conflict in how categorical Interval indexes are handled.\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\nt = pd.DataFrame(dict(sym=np.arange(2), y=1., z=-1.))\r\nt.loc[:, 'x'] = pd.Series([pd.Interval(-1., 0.0, closed='right'), pd.Interval(0.0, 1, closed='right')])\r\nt.set_index('x', inplace=True)\r\nt.index = pd.Categorical(t.index)\r\nt.loc[t.index.categories[0], :]\r\n```\r\n\r\nThis returns \r\n\r\n```\r\nsym    0.0\r\ny      1.0\r\nz     -1.0\r\nName: (-1.0, 0.0], dtype: float64\r\n```\r\n\r\nin a Python 2.7 environment. However, in a pyq IPython environment, adding a pyq import statement\r\n\r\n```\r\nimport pandas as pd\r\nimport numpy as np\r\nfrom pyq import q\r\n\r\nt = pd.DataFrame(dict(sym=np.arange(2), y=1., z=-1.))\r\nt.loc[:, 'x'] = pd.Series([pd.Interval(-1., 0.0, closed='right'), pd.Interval(0.0, 1, closed='right')])\r\nt.set_index('x', inplace=True)\r\nt.index = pd.Categorical(t.index)\r\nt.loc[t.index.categories[0], :]\r\n```\r\n\r\nresults in a type error\r\n```\r\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\r\nTypeError: 'slice(0,2,None)' is an invalid key\r\n\r\n```\r\n\r\nSo I suspect that the keys in a pandas categorical index are coerced into integer slices, which then cannot be used for index slicing.\r\n\r\n\r\nI am using\r\npandas 0.22\r\nPyQ 4.1.2\r\nnumpy 1.14.2\r\nIPython 5.3.0\r\nkdb+ 3.5 64bit\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 195,
    "metadata": {
      "issue_number": 64,
      "state": "closed",
      "labels": [
        "wontfix",
        "upstream",
        "pandas"
      ],
      "comments_count": 4,
      "created_at": "2018-05-15T01:25:20Z",
      "updated_at": "2018-06-26T19:21:45Z",
      "closed_at": "2018-05-15T20:35:02Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-cf58080295d0",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/61",
    "title": "Using PyQ in PyCharm",
    "text": "# Using PyQ in PyCharm\n\n# Questions\r\n\r\n- Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    Red Hat Enterprise Linux Server release 6.9 (Santiago)\r\n\r\n-   Which version of PyQ are you running? You can use pyq --versions or pip list | grep pyq.\r\n\r\n  ```\r\n  PyQ 4.1.3\r\n  ```\r\n\r\n-  Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n  ```\r\n  KDB+ 3.4 (2016.10.10) l64\r\n  ```\r\n\r\n-  If on 64-bit, is your QLIC set? Please provide output env | grep QLIC on linux/macOS, or set|grep QLIC on Windows.\r\n\r\n ```\r\n  QLIC=/opt/kx/3.4\r\n  ```\r\n\r\n-   Did you use virtual environment to install PyQ? If not, why?\r\n\r\n     Yes with Anaconda\r\n\r\n  Where is your QHOME? Please provide output env | grep QHOME on linux/macOS, or set|grep QHOME on Windows.\r\n\r\n  ```\r\n  QHOME=/opt/kx/3.4\r\n  ```\r\n-   Do you use Conda? If so, what version?\r\n\r\n     Yes. conda 3.14.1\r\n\r\n## Steps to reproduce the issue\r\nIs there a way to run PyQ as an interpreter in PyCharm? I am trying to run PyQ as an interpreter in PyCharm, but I got the following error\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/home/svc_tpmdb_dev/pycharm/pycharm-community-2018.1.2/helpers/pydev/pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"/home/svc_tpmdb_dev/pycharm/pycharm-community-2018.1.2/helpers/pydev/pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/home/svc_tpmdb_dev/pycharm/pycharm-community-2018.1.2/helpers/pydev/pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/home/svc_tpmdb_dev/pycharm/pycharm-community-2018.1.2/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 11, in execfile\r\n    stream = tokenize.open(file)  # @UndefinedVariable\r\n  File \"/home/svc_tpmdb_dev/.conda/envs/py36an440/lib/python3.6/tokenize.py\", line 454, in open\r\n    encoding, lines = detect_encoding(buffer.readline)\r\n  File \"/home/svc_tpmdb_dev/.conda/envs/py36an440/lib/python3.6/tokenize.py\", line 431, in detect_encoding\r\n    encoding = find_cookie(first)\r\n  File \"/home/svc_tpmdb_dev/.conda/envs/py36an440/lib/python3.6/tokenize.py\", line 395, in find_cookie\r\n    raise SyntaxError(msg)\r\nSyntaxError: invalid or missing encoding declaration for '/home/svc_tpmdb_dev/.conda/envs/py36an440/bin/pyq'\r\nWe've got an error while stopping in post-mortem: <class 'KeyboardInterrupt'>\r\n```\r\n\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 309,
    "metadata": {
      "issue_number": 61,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 4,
      "created_at": "2018-05-11T12:37:08Z",
      "updated_at": "2018-05-14T18:13:02Z",
      "closed_at": "2018-05-11T12:50:12Z",
      "author": "jljs",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-173965942649",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/41",
    "title": "Using q.show in Jupyter Notebook",
    "text": "# Using q.show in Jupyter Notebook\n\nUsing `q.show` in jupyter notebook outputs the value to the command prompt jupyter notebook is started from but doesn't output to the console in the browser, it just shows : :\r\n  \r\n  ",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 37,
    "metadata": {
      "issue_number": 41,
      "state": "closed",
      "labels": [
        "enhancement",
        "notebook",
        "no-issue-activity"
      ],
      "comments_count": 4,
      "created_at": "2018-01-05T22:07:11Z",
      "updated_at": "2020-01-17T00:07:30Z",
      "closed_at": "2020-01-17T00:07:30Z",
      "author": "ghost",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-81491df20c4a",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/25",
    "title": "pyq doesn't pick up 64bit q on OSX",
    "text": "# pyq doesn't pick up 64bit q on OSX\n\nPerhaps I'm doing something wrong, but no matter what I try I can't get pyq to recognize that it should be looking for q in the m64 directory. It seems like setup.py is reading `QHOME` and doing the right thing, so I'm not quite sure what the problem is:\r\n\r\n```\r\n>> pip install --no-cache-dir pyq\r\nCollecting pyq\r\n  Downloading pyq-4.1.2-cp36-cp36m-macosx_10_12_intel.whl (123kB)\r\n    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 133kB 1.7MB/s\r\nInstalling collected packages: pyq\r\nSuccessfully installed pyq-4.1.2\r\n>> pyq\r\nqbinpath = /Users/g/dev/q/m32/q\r\nqbinpath = /Users/g/anaconda/q/m32/q\r\nqbinpath = /Users/g/q/m32/q\r\nNo such file or directory\r\n>> ls $QHOME/m64\r\nffi.so      ffi.so.dSYM q\r\n>> ls $QHOME/m32\r\nffi.so      ffi.so.dSYM\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 108,
    "metadata": {
      "issue_number": 25,
      "state": "closed",
      "labels": [
        "conda"
      ],
      "comments_count": 4,
      "created_at": "2017-11-08T03:06:20Z",
      "updated_at": "2017-11-12T18:20:20Z",
      "closed_at": "2017-11-12T18:20:20Z",
      "author": "gerrymanoim",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-db97b986815b",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/118",
    "title": "Wrong exception handled when ldconfig is missing in PATH",
    "text": "# Wrong exception handled when ldconfig is missing in PATH\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\nDebian buster  64-bit\r\n    ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    pyq from HEAD\r\n    ```\r\n    \r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32 bit\r\n    ```\r\n    \r\n\r\n    - [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - \r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    \r\n    ```  \r\n\r\n- [x] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nTried to install pyq from source using pip.\r\n\r\n## Expected result\r\nInstall succeed\r\n\r\n## Actual result\r\nProcessing /home/parthi/work/go/src/github.com/KxSystems/pyq\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-8x_l0mi4/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-8x_l0mi4/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base pip-egg-info\r\n         cwd: /tmp/pip-req-build-8x_l0mi4/\r\n    Complete output (8 lines):\r\n    running egg_info\r\n    creating pip-egg-info/pyq.egg-info\r\n    writing pip-egg-info/pyq.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pyq.egg-info/dependency_links.txt\r\n    writing requirements to pip-egg-info/pyq.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pyq.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pyq.egg-info/SOURCES.txt'\r\n    error: [Errno 2] No such file or directory: 'ldconfig': 'ldconfig'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\n\r\n## Workaround\r\n\r\nI have created https://github.com/KxSystems/pyq/pull/117 which fixes this issue. Please feel free to edit the patch if you need to.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 304,
    "metadata": {
      "issue_number": 118,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2019-08-10T00:09:15Z",
      "updated_at": "2020-01-16T00:05:56Z",
      "closed_at": "2020-01-16T00:05:56Z",
      "author": "lparth",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-69e33e60d594",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/105",
    "title": "Document support for jupyterlab",
    "text": "# Document support for jupyterlab\n\nThe current release of PyQ allows you to launch pyq within a jupyter notebook:\r\n```\r\npyq -m notebook\r\n```\r\n\r\nTook us time to work it out, but it turns out that the equivalent command for the Jupyter Lab is not:\r\n```\r\npyq -m lab\r\n```\r\nbut instead\r\n```\r\npyq -m jupyterlab\r\n```\r\n\r\nProbably worth putting that in the docs ?\r\n(Unless we missed it somewhere.)",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 70,
    "metadata": {
      "issue_number": 105,
      "state": "closed",
      "labels": [],
      "comments_count": 3,
      "created_at": "2019-03-09T17:47:32Z",
      "updated_at": "2019-03-09T18:46:40Z",
      "closed_at": "2019-03-09T18:46:40Z",
      "author": "davidkell",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ee0f1ebe92b7",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/104",
    "title": "PyQ 4.2.1 command line arguments",
    "text": "# PyQ 4.2.1 command line arguments\n\nThe new release of PyQ allows to specify q command line arguments referenced in #67. However one can no longer pass in a python script with arguments to an interactive IPython session. In 4.1.4, you could run a script in IPython/pyq with\r\n\r\n`pyq -m IPython -i script.py -- $PYARGS\r\n`\r\nbut now any arguments proceeding -- are considered q arguments.\r\n\r\n`pyq -m IPython -i $PYARGS script.py -- $QARGS\r\n`\r\nclearly would not work either. \r\n\r\nIs there a way to modify python.q to enable old behavior? Or allow something like this?\r\n\r\n`pyq -m IPython -i script.py -- $PYARGS -- $QARGS\r\n`\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 106,
    "metadata": {
      "issue_number": 104,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2019-03-09T14:32:27Z",
      "updated_at": "2020-01-16T00:06:01Z",
      "closed_at": "2020-01-16T00:06:01Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-3db3a0e1418f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/101",
    "title": "Issues with kernel startup for ipyq in Jupyter Notebook",
    "text": "# Issues with kernel startup for ipyq in Jupyter Notebook\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Debian 64-bit stretch\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.1.4\r\n    NumPy 1.15.4\r\n    KDB+ 3.5 (2017.11.30) l32\r\n    Python 3.7.1 (default, Dec 14 2018, 19:51:47) \r\n    [GCC 7.3.0]\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32-bit. \r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        Not applicable.\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - \r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME is ~/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    conda 4.5.12\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n    ~/q/l32/q python.q -mpyq.kernel install --user\r\n\r\nThis returns \r\n\r\n    jupyter kernelspec listAvailable kernels:\r\n      pyq_3      /home/weaves/.local/share/jupyter/kernels/pyq_3\r\n      python3    /misc/share/1/anaconda/envs/dash0/share/jupyter/kernels/python3\r\n\r\nI used the -user option to get the kernel spec file\r\n\r\n   ~/.local/share/jupyter/kernels/pyq_3/kernel.json\r\n\r\nAnd that contains:\r\n\r\n    {\r\n        \"argv\": [\r\n            null,\r\n            \"pyq-kernel.p\",\r\n            \"1024\",\r\n            \"65535\",\r\n            \"{connection_file}\"\r\n        ],\r\n        \"display_name\": \"PyQ 3\",\r\n        \"language\": \"python\"\r\n    }\r\n\r\nOnly when I changed the entries, would Jupyter make an attempt to start and \r\n\r\n    {\r\n        \"argv\": [\r\n            \"/misc/share/1/anaconda/bin/ipyq\",\r\n            \"/misc/share/1/anaconda/q/pyq-kernel.p\",\r\n            \"1024\",\r\n            \"65535\",\r\n            \"{connection_file}\"\r\n        ],\r\n        \"display_name\": \"PyQ 3\",\r\n        \"language\": \"python\"\r\n    }\r\n \r\n\r\n## Expected result\r\n\r\nI'm hoping for the ipyq Kernel to start up in the Jupyter notebook. \r\n\r\n## Actual result\r\n\r\nFive attempts at this\r\n    0;IPython: dash0/plotly^GThe autoreload extension is already loaded. To reload it, use: %reload_ext autoreload\r\nAnd then\r\n\r\n    MultipleInstanceError                     Traceback (most recent call last)\r\n    /misc/share/1/anaconda/q/pyq-kernel.p in <module>\r\n          1 from pyq.kernel import start\r\n    ----> 2 start()\r\n\r\n    /misc/share/1/anaconda/envs/dash0/lib/python3.7/site-packages/pyq/kernel.py in start()\r\n        114 def start():\r\n        115     global app\r\n    --> 116     app = IPKernelApp.instance(kernel_class=Kernel)\r\n        117     args = [str(a) for a in q('.z.x')]\r\n        118     app.initialize(['-f', args[-1]])\r\n\r\n    /misc/share/1/anaconda/envs/dash0/lib/python3.7/site-packages/traitlets/config/configurable.py in instance(cls, *args, **kwargs)\r\n        421             raise MultipleInstanceError(\r\n        422                 'Multiple incompatible subclass instances of '\r\n    --> 423                 '%s are being created.' % cls.__name__\r\n        424             )\r\n        425 \r\n\r\n\r\n    [W 23:05:44.799 NotebookApp] KernelRestarter: restart failed\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 403,
    "metadata": {
      "issue_number": 101,
      "state": "closed",
      "labels": [
        "notebook"
      ],
      "comments_count": 3,
      "created_at": "2019-01-21T23:27:18Z",
      "updated_at": "2019-01-23T13:56:52Z",
      "closed_at": "2019-01-23T13:50:13Z",
      "author": "eepgwde",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-aa9b9e03de0c",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/98",
    "title": "Windows 10: error with pip install pyq",
    "text": "# Windows 10: error with pip install pyq\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 10, Version 1709, 64bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ isn't operational. \r\n    Python 2.7.15 :: Anaconda custom (64-bit)\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit personal\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        via cygwin:\r\n        $ set|grep QLIC\r\n        QLIC='C:\\Q'\r\n        _=QLIC\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n      No, I used pip install pyq through command prompt.\r\n   - \r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    via cygwin:\r\n    $ set|grep QHOME\r\n    QHOME=C:q\r\n\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    Yes.\r\n    Python 2.7.15 :: Anaconda custom (64-bit)\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nIn command prompt:\r\npip install pyq\r\n\r\n## Expected result\r\n\r\n\r\n## Actual result\r\nH:\\>pip install pyq\r\nCollecting pyq\r\n  Using cached https://files.pythonhosted.org/packages/53/de/195ce13d50784489365fee87d1e7d637fa2e42f3c5ae359d56c13595c93c/pyq-4.1.4.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info\\pyq.egg-info\r\n    writing requirements to pip-egg-info\\pyq.egg-info\\requires.txt\r\n    writing pip-egg-info\\pyq.egg-info\\PKG-INFO\r\n    writing top-level names to pip-egg-info\\pyq.egg-info\\top_level.txt\r\n    writing dependency_links to pip-egg-info\\pyq.egg-info\\dependency_links.txt\r\n    writing manifest file 'pip-egg-info\\pyq.egg-info\\SOURCES.txt'\r\n    error: [Errno 2] No such file or directory: 'C:q\\\\q.k'\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in c:\\users\\jay~1.hua\\appdata\\local\\temp\\pip-install-n9lzdt\\pyq\\\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\nSorry, none.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 305,
    "metadata": {
      "issue_number": 98,
      "state": "closed",
      "labels": [
        "windows",
        "user error"
      ],
      "comments_count": 3,
      "created_at": "2018-12-19T04:53:46Z",
      "updated_at": "2018-12-19T19:53:12Z",
      "closed_at": "2018-12-19T13:03:50Z",
      "author": "jdoraemon",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-e0e74955cbed",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/92",
    "title": "Boolean comparison not implemented",
    "text": "# Boolean comparison not implemented\n\nCould we allow for inequality operations from the python side?\r\n\r\n```\r\n>>> K(2) >  1\r\nTrue\r\n```\r\n\r\n```\r\n>>> K(2) > K(1)\r\nTrue\r\n```\r\n\r\nThis works:\r\n```\r\n>>> q('>',q.til(5),1)\r\nk('00111b')\r\n```\r\n\r\nBut:\r\n```\r\n>>> q.til(5) >  1\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/conda/envs/dev/lib/python3.6/site-packages/pyq/__init__.py\", line 612, in dunder\r\n    raise NotImplementedError\r\nNotImplementedError\r\n```\r\n\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 63,
    "metadata": {
      "issue_number": 92,
      "state": "closed",
      "labels": [
        "enhancement",
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2018-10-07T12:41:19Z",
      "updated_at": "2020-01-16T00:06:03Z",
      "closed_at": "2020-01-16T00:06:03Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-9674727a7f77",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/90",
    "title": "Conversion of nulls between K arrays of minute/time/second/date/month type to numpy array of corresponding type",
    "text": "# Conversion of nulls between K arrays of minute/time/second/date/month type to numpy array of corresponding type\n\nNumpy supports NaT for both datetime64 as well as timedelta64, and when converting K vectors of timestamp/timespan, nulls are converted to NaT as expected\r\n\r\n \r\n```\r\nnp.asarray(q('0Np,1?0Wp'))\r\n\r\narray(['NaT', '2212-04-14T11:35:56.648210432'],ndtype='datetime64[ns]')\r\n\r\n\r\nnp.asarray(q('0Nn,1?0Wn'))\r\n\r\narray(['NaT', 8500661630873370624], dtype='timedelta64[ns]')\r\n\r\n```\r\n \r\n\r\nbut when converting K arrays of type minute, time, second, date, or month, nulls are not handled properly:\r\n\r\n```\r\nnp.asarray(q('0Nd,1?0Wd'))\r\n\r\narray(['-5877611-06-22',  '2129873-03-10'], dtype='datetime64[D]')\r\n\r\n \r\nnp.asarray(q('0Nt,1?0Wt'))\r\n\r\narray([-9223372036855,     1357006030], dtype='timedelta64[ms]')\r\n```\r\n \r\n\r\nIf I upcast before the conversion and then downcast, everything works as expected, but this seems unnecessarily hacky.\r\n\r\n```\r\nnp.array(q('`timestamp$0Nd,1?0Wd'), dtype='datetime64[D]')\r\n\r\narray(['NaT', '1707-09-22'], dtype='datetime64[D]')\r\n\r\n \r\nnp.array(q('`timespan$0Nt,1?0Wt'), dtype='timedelta64[s]')\r\n\r\narray([  'NaT', 1775124], dtype='timedelta64[s]')\r\n\r\n```\r\nIdeally, we would have this behavior without the up/down cast.\r\n\r\n\r\n\r\nThe conversion is also problematic in the reverse. NaT from numpy arrays are incorrectly converted into K. NaT from datetime64 gets converted to 1970.01.01, while NaT from timedelta64 gets converted to 0\r\n\r\n```\r\nK(np.array(['NaT','2001-01-01'], dtype='datetime64'))\r\n\r\nk('1970.01.01 2001.01.01')\r\n\r\n\r\nK(np.array(['NaT',1000], dtype='timedelta64[s]'))\r\n\r\nk('0D00:00:00.000000000 0D00:16:40.000000000')\r\n \r\n```\r\n\r\n \r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 160,
    "metadata": {
      "issue_number": 90,
      "state": "closed",
      "labels": [
        "enhancement",
        "numpy"
      ],
      "comments_count": 3,
      "created_at": "2018-09-14T01:31:13Z",
      "updated_at": "2019-02-01T13:12:40Z",
      "closed_at": "2019-02-01T13:12:40Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-907029e22a29",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/85",
    "title": "Converting scalar timestamp/timedeltas to numpy arrays",
    "text": "# Converting scalar timestamp/timedeltas to numpy arrays\n\nWhat is the right way to convert a scalar timestamp/timedelta from kdb to numpy?\r\n\r\nI notice that this works:\r\n\r\n```\r\nnp.asarray(q('1#.z.P'))[0]\r\nnumpy.datetime64('2018-08-05T15:14:49.636201000â€™)\r\n\r\n```\r\nbut this does not:\r\n```\r\nnp.datetime64(q('.z.P'))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nValueError: Could not convert object to NumPy datetime\r\n```\r\n\r\nSame thing for timespans:\r\n```\r\nnp.asarray(q('1#`timespan$0'))[0]\r\nnumpy.timedelta64(0,'ns')\r\n\r\nnp.timedelta(q('`timespan$0'))\r\n\r\n```\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 65,
    "metadata": {
      "issue_number": 85,
      "state": "closed",
      "labels": [
        "enhancement",
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2018-08-05T23:41:10Z",
      "updated_at": "2020-01-16T00:06:05Z",
      "closed_at": "2020-01-16T00:06:05Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-5365a720dc63",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/82",
    "title": "How to deal with large datasets in Pandas",
    "text": "# How to deal with large datasets in Pandas\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Ubuntu 64-bit 16.04\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.1.4\r\n    NumPy 1.15.0\r\n    KDB+ 3.5 (2018.02.26) l64\r\n    Python 2.7.12 (default, Dec  4 2017, 14:50:18) \r\n    [GCC 5.4.0 20160609]\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit    \r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC=/kdb-ebs/q\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/kdb-ebs/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\nNot necessarily an issue but trying to find the best way for converting large KDB datasets to Pandas DataFrame in PyQ. For my users, I have built a sandbox that loads in a HDB from disk, and then have an API to interface with the data. It works well and fine, and is quick to pull the data (no CPU or MEM issues). The users are excited to use it and appreciate that it is sharing the same memory space. However most of them are non-q users and therefore use Pandas and Numpy. What is the optimal way for dealing with large HDB datasets and having them in Pandas or Numpy? \r\n\r\nBtw, thanks for all the work on PyQ, I'm happy to share the work I've done or helping with a case study",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 331,
    "metadata": {
      "issue_number": 82,
      "state": "closed",
      "labels": [
        "question",
        "pandas",
        "numpy",
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2018-07-31T08:48:34Z",
      "updated_at": "2020-01-16T00:06:06Z",
      "closed_at": "2020-01-16T00:06:06Z",
      "author": "zak-b2c2",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-2d6000c54715",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/66",
    "title": "Multiple lines of q codes in Jupyter",
    "text": "# Multiple lines of q codes in Jupyter\n\n# Questions\r\n\r\nWhich operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nRed Hat Enterprise Linux Server release 6.9 (Santiago)\r\n\r\nWhich version of PyQ are you running? You can use pyq --versions or pip list | grep pyq.\r\n\r\nPyQ 4.1.3\r\nWhich version of kdb+ are you using, is it 32-bit or 64-bit?\r\nKDB+ 3.4 (2016.10.10) l64\r\nIf on 64-bit, is your QLIC set? Please provide output env | grep QLIC on linux/macOS, or set|grep QLIC on Windows.\r\n QLIC=/opt/kx/3.4\r\nDid you use virtual environment to install PyQ? If not, why?\r\n\r\nYes with Anaconda\r\n\r\nWhere is your QHOME? Please provide output env | grep QHOME on linux/macOS, or set|grep QHOME on Windows.\r\n\r\nQHOME=/opt/kx/3.4\r\nDo you use Conda? If so, what version?\r\n\r\nYes. conda 3.14.1\r\n\r\n\r\n\r\n\r\nHi,\r\n\r\nWhat would be the correct syntax if I wish to write multiple lines of q codes (e.g. defining a q function that spam multiple lines) in Jupyter? %q seems to parse single line at a time only.\r\n\r\nFor example the function definition below will not work in Jupyter.\r\n\r\n%q .funCust:{[a] \r\n%q b:a+1;\r\n%q :b;\r\n%q };\r\n\r\n\r\nThanks\r\n\r\nJeffrey\r\n\r\n\r\n\r\n\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 202,
    "metadata": {
      "issue_number": 66,
      "state": "closed",
      "labels": [],
      "comments_count": 3,
      "created_at": "2018-05-23T13:58:44Z",
      "updated_at": "2018-05-24T00:51:24Z",
      "closed_at": "2018-05-24T00:51:24Z",
      "author": "jljs",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-3d1d1d1a9d66",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/65",
    "title": "Interrupting the pyq-kernel",
    "text": "# Interrupting the pyq-kernel\n\nVersions:\r\nPyQ 4.1.13\r\nPython 2.7\r\nkdb+ 3.5\r\n\r\nI have noticed that trying to kill a python call in PyQ is significantly slower than killing it in Python. I am wondering how interrupting a python process running on PyQ kernel differs to interrupting a plain python process on jupyter. I understand that it is a python process running on a kdb+ instance, but trying to stop a running cell either causes the session to hang or remains idle.  Does ctrl+C on a python process on PyQ  send a SIGINT to the underlying kdb session? If so, is there any way to map ctrl+C to comint-interrupt-subjob so that Python can raise a KeyboardInterrupt exception and leave the kdb process intact?\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 122,
    "metadata": {
      "issue_number": 65,
      "state": "closed",
      "labels": [
        "upstream",
        "no-issue-activity"
      ],
      "comments_count": 3,
      "created_at": "2018-05-20T20:48:42Z",
      "updated_at": "2020-01-10T18:14:09Z",
      "closed_at": "2020-01-10T18:14:08Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-b596dd8251ab",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/60",
    "title": "PyQ not picking up CPUS env variable when running as a Jupyter kernel",
    "text": "# PyQ not picking up CPUS env variable when running as a Jupyter kernel\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n**Red Hat Enterprise Linux Server release 6.9 (Santiago)**\r\n\r\n- [x] Which version of PyQ are you running? You can use `pyq --versions` or `pip list | grep pyq`.\r\n**PyQ 4.1.3**\r\n\r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n**KDB+ 3.4 (2016.10.10) l64**\r\n\r\n- [x] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n**QLIC=/opt/kx/3.4**\r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n**Yes with Anaconda**\r\n\r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n**QHOME=/opt/kx/3.4**\r\n\r\n\r\n- [x] Do you use Conda? If so, what version?\r\n**Yes. conda 3.14.1**\r\n\r\n\r\n## Steps to reproduce the issue\r\n1) install pyq 3 as a kernel in Jupyter\r\n2) set environment variable CPUS=3 in jupyter kernel.json (i.e. /home/dev/.local/share/jupyter/kernels/pyq_3/kernel.json) See http://jupyter-client.readthedocs.io/en/stable/kernels.html for more detail\r\n\r\nThis is what I have set\r\n\r\n```json\r\n{\r\n    \"argv\": [\r\n        \"/opt/kx/3.4/l64/q\",\r\n        \"pyq-kernel.p\",\r\n        \"1024\",\r\n        \"65535\",\r\n        \"{connection_file}\"\r\n    ],\r\n    \"display_name\": \"PyQ-3\",\r\n    \"env\": {\r\n        \"CPUS\": \"3\",\r\n        \"QHOME\": \"/opt/kx/3.4\",\r\n        \"QLIC\": \"/opt/kx/3.4\"\r\n    },\r\n    \"language\": \"python\"\r\n}\r\n```\r\n\r\n## Expected result\r\nConfirm that the variable has been picked up by starting a new notebook in Jupyter with PyQ 3 kernel. The new notebook should start successfully with kernel ready\r\n\r\n## Actual result\r\nkernel error with the following error message from Jupyter\r\n\r\n```\r\n[I 17:25:41.354 NotebookApp] Creating new notebook in\r\n[I 17:25:41.736 NotebookApp] Kernel started: 5c3c1f5f-2124-4507-b1bb-044e9e0af35f\r\n'2018.05.08T17:25:41.745 cores\r\n[I 17:25:44.737 NotebookApp] KernelRestarter: restarting kernel (1/5)\r\n'2018.05.08T17:25:44.752 cores\r\n[I 17:25:47.747 NotebookApp] KernelRestarter: restarting kernel (2/5)\r\n'2018.05.08T17:25:47.761 cores\r\n[I 17:25:50.758 NotebookApp] KernelRestarter: restarting kernel (3/5)\r\n'2018.05.08T17:25:50.773 cores\r\n[W 17:25:51.772 NotebookApp] Timeout waiting for kernel_info reply from 5c3c1f5f-2124-4507-b1bb-044e9e0af35f\r\n```\r\n## Workaround\r\nno workaround\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 333,
    "metadata": {
      "issue_number": 60,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 3,
      "created_at": "2018-05-08T21:48:08Z",
      "updated_at": "2018-05-19T18:31:36Z",
      "closed_at": "2018-05-19T18:31:36Z",
      "author": "jljs",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-601e3d911835",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/50",
    "title": "    AttributeError: module 'pexpect' has no attribute 'spawn'",
    "text": "#     AttributeError: module 'pexpect' has no attribute 'spawn'\n\nWhen launching ipython notebook on my windows machine with the KDB kernel I get the following error message when the kernel shuts down almost immediately.\r\n\r\nAny suggestions what could cause this?\r\n\r\n    [I 18:31:39.365 NotebookApp] Kernel started: 1d8f3d63-a289-46b9-94ca-0f53521b9a02\r\n    Traceback (most recent call last):\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n        \"__main__\", mod_spec)\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\runpy.py\", line 85, in _run_code\r\n        exec(code, run_globals)\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\kdbq_kernel\\__main__.py\", line 3, in <module>\r\n        IPKernelApp.launch_instance(kernel_class=KdbQKernel)\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\traitlets\\config\\application.py\", line 657, in launch_instance\r\n        app.initialize(argv)\r\n      File \"<decorator-gen-121>\", line 2, in initialize\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\traitlets\\config\\application.py\", line 87, in catch_config_error\r\n        return method(app, *args, **kwargs)\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\ipykernel\\kernelapp.py\", line 465, in initialize\r\n        self.init_kernel()\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\ipykernel\\kernelapp.py\", line 376, in init_kernel\r\n        user_ns=self.user_ns,\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\traitlets\\config\\configurable.py\", line 412, in instance\r\n        inst = cls(*args, **kwargs)\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\kdbq_kernel\\kernel.py\", line 106, in __init__\r\n        self._start_kdbq()\r\n      File \"C:\\anaconda3\\envs\\databases32\\lib\\site-packages\\kdbq_kernel\\kernel.py\", line 127, in _start_kdbq\r\n        child = pexpect.spawn(\"q\", echo=False, encoding='utf-8')\r\n    AttributeError: module 'pexpect' has no attribute 'spawn'\r\n    [I 18:31:42.327 NotebookApp] KernelRestarter: restarting kernel (1/5), new random ports\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 155,
    "metadata": {
      "issue_number": 50,
      "state": "closed",
      "labels": [
        "invalid",
        "notebook"
      ],
      "comments_count": 3,
      "created_at": "2018-03-03T18:36:25Z",
      "updated_at": "2019-01-17T16:23:21Z",
      "closed_at": "2018-03-03T19:26:38Z",
      "author": "dickreuter",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-8dfdaab5bbaf",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/47",
    "title": "Move full PyQ development to Github",
    "text": "# Move full PyQ development to Github\n\nHistorically, PyQ was developed in-house using internal source-control system and CI (we utilized Gitlab). Our CI pipeline has more than 40 jobs which are run for each push into the repository. The tests are ran using multiple versions of both 32-bit and and 64-bit kdb+ (as of 2018.02.28 we testing with kdb+ 2.8., 3.2, 3.3, 3.4, 3.5 and 3.6t).  Internal CI allowed us to simplify bootstrap process and not to worry about users getting access to kdb+ binaries â€” only internal users have access to the system.\r\nWith Travis, we have no secure way of bootstrapping kdb+, and this is main obstacle in moving kdb+ development to Github. \r\n\r\n## TODO \r\n\r\n1. [ ] Come up with a secure way of bootstrapping kdb+ in public CI.\r\n1. [ ] Migrate all jobs from the internal Gitlab CI to public CI\r\n1. [ ] Implement testing of examples in PyQ documentation ([KxSystems/docs](https://github.com/KxSystems/docs/tree/master/docs/interfaces/pyq))\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 157,
    "metadata": {
      "issue_number": 47,
      "state": "closed",
      "labels": [
        "doc",
        "CI",
        "tests"
      ],
      "comments_count": 3,
      "created_at": "2018-02-28T20:39:25Z",
      "updated_at": "2020-02-07T21:59:33Z",
      "closed_at": "2020-02-07T21:59:33Z",
      "author": "sashkab",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-c87fd6adfd39",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/12",
    "title": "install pyq 4.0.2 on Redhat 2.6",
    "text": "# install pyq 4.0.2 on Redhat 2.6\n\nDear support,\r\n\r\nWe tries to install the latest version (4.0.2) of pyq on Redhat 2.6. But when launch pyq, I got share lib symbol linking issue. Is there a way to get around this?\r\n\r\nAlso, we tried to compile the pyq source (we did git clone https://github.com/enlnt/pyq ) but we could not find the Makefile. Is there a way to do the build ourselves?\r\n\r\nThanks for your help!\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 75,
    "metadata": {
      "issue_number": 12,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 3,
      "created_at": "2017-06-05T19:19:48Z",
      "updated_at": "2017-08-30T19:24:42Z",
      "closed_at": "2017-08-30T19:24:42Z",
      "author": "alexzhang2010",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-396603cfbbd4",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/4",
    "title": "Null value interpreted differently when imported to DataFrame from dictionary",
    "text": "# Null value interpreted differently when imported to DataFrame from dictionary\n\nI found that we get different result when constructing a panda Dataframe from dictionary or array:\n\n```\n>>> pandas.DataFrame(dict(pyq.q(\"flip ([]empty:3#0Ni)\")))\n        empty\n0 -2147483648\n1 -2147483648\n2 -2147483648\n```\n\nNull integer should be mapped to the None type.  This is fine when we import to DataFrame as an array:\n\n```\n>>> pandas.DataFrame(list(dict(pyq.q(\"flip ([]empty:3#0Ni)\"))['empty']))\n      0\n0  None\n1  None\n2  None\n>>>\n```\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 72,
    "metadata": {
      "issue_number": 4,
      "state": "closed",
      "labels": [],
      "comments_count": 3,
      "created_at": "2016-10-20T17:26:48Z",
      "updated_at": "2017-03-09T05:48:08Z",
      "closed_at": "2017-03-09T05:48:08Z",
      "author": "sitsang",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-8639561b1dd2",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/3",
    "title": "Socket stale when opening port in PyQ",
    "text": "# Socket stale when opening port in PyQ\n\nKDB+/Q supports socket connection natively.  But when activating the socket listener in Q, it will not response when inside PyQ.\n\nServer Side:\n\n```\n>>> pyq.q(\"\\p 12345\")\nk('::')\n```\n\nClient Side:\n\n```\n>>> import pyq\n>>> pyq.q(\"hopen `::12345\")\n```\n\nThe hopen command will wait for a long time, it seems the server side isn't responding.\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 62,
    "metadata": {
      "issue_number": 3,
      "state": "closed",
      "labels": [
        "wontfix"
      ],
      "comments_count": 3,
      "created_at": "2016-10-18T17:10:45Z",
      "updated_at": "2017-03-09T05:34:59Z",
      "closed_at": "2017-03-09T05:34:59Z",
      "author": "sitsang",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ecf3a74c556f",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/149",
    "title": "Is there a way to have q syntax highlighting in cells starting with `%%q` in jupyter notebook?",
    "text": "# Is there a way to have q syntax highlighting in cells starting with `%%q` in jupyter notebook?\n\nWhen using PyQ with python in jupyter notebook, all cells use syntax highlighting of Python by default. This makes q code written in cells starting with `%%q` very confusing (suppose you use `'` somewhere, and all code following it is highlighted as string in python). Hence, I wonder if someone knows some way to use q syntax highlighting in cells starting with `%%q`.\r\n\r\nI find a similar question on [stackoverflow](https://stackoverflow.com/questions/43641362/adding-syntax-highlighting-to-jupyter-notebook-cell-magic/43686552). There is an answer about SQL. They say adding the following code in `~/.jupyter/custom/custom.js` to use SQL syntax highlighting in cells starting with `%%sql`. \r\n```js\r\nrequire(['notebook/js/codecell'], function(codecell) {\r\n  codecell.CodeCell.options_default.highlight_modes['magic_text/x-mssql'] = {'reg':[/^%%sql/]} ;\r\n  Jupyter.notebook.events.one('kernel_ready.Kernel', function(){\r\n  Jupyter.notebook.get_cells().map(function(cell){\r\n      if (cell.cell_type == 'code'){ cell.auto_highlight(); } }) ;\r\n  });\r\n});\r\n```\r\nYet, I am not sure how to modify the code in the answer so it recognizes q, particularly what the `highlight_modes` should be used. ",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 158,
    "metadata": {
      "issue_number": 149,
      "state": "open",
      "labels": [],
      "comments_count": 2,
      "created_at": "2023-07-02T22:29:54Z",
      "updated_at": "2023-07-03T01:04:36Z",
      "closed_at": null,
      "author": "flcong",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-f535f7641c70",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/142",
    "title": "What's The Proper Way To Add A Column To q() Table, From Python List or NumpyArrary? ",
    "text": "# What's The Proper Way To Add A Column To q() Table, From Python List or NumpyArrary? \n\nGreetings, working solely in Python, I built a table from pandas dataframe. Have an unrelated list (can be NumpyArray) that I'm trying to add to the table. \r\n\r\nI've tried to do:\r\ntable.newcol, table[`newcol] assignment\r\nconvert the list to a pandas.df and then the dataframe to a table and upsert the new table to original table\r\n\r\ncan't use table.update because I'm trying to use data from a python list, or can i?\r\n\r\nHow does one add columns to a pyq table using data from a python list? Thanks! ",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 104,
    "metadata": {
      "issue_number": 142,
      "state": "closed",
      "labels": [
        "question"
      ],
      "comments_count": 2,
      "created_at": "2021-06-29T12:48:35Z",
      "updated_at": "2021-06-29T12:56:11Z",
      "closed_at": "2021-06-29T12:56:11Z",
      "author": "GregGamba",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-7aa7674ad4ad",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/139",
    "title": "Best practices for read only QHOME",
    "text": "# Best practices for read only QHOME\n\nQuestionnaire removed as query unrelated to specific version of PyQ or a specific bug in the code.\r\n\r\n**Context:**\r\nThe following issue was raised via internal channels and is a high priority item for the client.\r\n\r\n**Query:**\r\nWhen we install the package to a conda environment, it creates a q/ directory within that environment. Afterwards, we need to copy files from our QHOME to that q/ directory for pyq to work. Can the conda package add all the necessary files during installation, so we wonâ€™t need to copy additional files afterwards?\r\n\r\nRelated question, Iâ€™ve generally had one QHOME, a read-only central location, and Iâ€™ve not found a good way to install pyq without building in pyq to QHOME. Is there a clean way to install pyq that doesnâ€™t involve adding files to QHOME?\r\n\r\nIn my case, the setup.py wants to put files into QHOME, but some other user owns it, and it is read only to me.\r\n\r\nWe have a central QHOME installation, and if I put pyq in there, it would mean that all users have to settle on using the same pyq (and the same python too, as pyq-config.q hardcodes the libpython path). Is this avoidable?\r\n\r\nI just today experimented with this as my pyq-config.q and it seems to workâ€¦ but Iâ€™m not sure if itâ€™s a good idea in the long term. This does away with the hardcoded python path at leastâ€¦\r\n\r\nSome of this I lifted from what setup.py does to create the hard-coded pyq-config.q.\r\n\r\n```\r\n$ cat pyq-config.q\r\n\r\n\\d .pyq\r\n\r\npython_dll:raze[system \"python -c 'import sys;from distutils import sysconfig; print(\\\"{}/libpython{}.{}m.so\\\".format(sysconfig.get_config_var(\\\"LIBDIR\\\"), *sys.version_info[:2]))'\"],\"\\000\";\r\n\r\npyq_executable:raze[system \"which pyq\"];\r\n```\r\n\r\nIn order to run pyq in a way that was decoupled from the q QHOME installatio, I have had to make code changes to python.q (\\l p.k from an absolute path instead of relying on the limited flexibility of how to influence where \\l looks in absence of an absolute path).\r\n\r\nI also had to make some changes to pyq.c to influence where it finds python.q. This line is what I had to change  https://github.com/KxSystems/pyq/blob/master/src/pyq.c#L357.\r\n\r\nDoing it this way (making some code changes) allows me to have different versions of pyq but only 1 QHOME (with no built-in pyq.so, python.q, pyq-*.q, etc.). However, it makes upgrading somewhat painful as I would have to go and make all these changes to each version (I have a makefile doing some kludgy things with sed to change some paths when building pyq).\r\n\r\nIâ€™d love to know if there is an accepted and cleaner way to handle the situation where users donâ€™t have access to change QHOME, but still want to be able to install pyq into their custom conda/venv environments (with the assumption that they canâ€™t change the Q/kdb QHOME deployment).",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 463,
    "metadata": {
      "issue_number": 139,
      "state": "closed",
      "labels": [
        "question",
        "conda",
        "no-issue-activity"
      ],
      "comments_count": 2,
      "created_at": "2020-10-08T08:33:29Z",
      "updated_at": "2021-02-14T00:47:39Z",
      "closed_at": "2021-02-14T00:47:39Z",
      "author": "cmccarthy1",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-1355f4fa2369",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/137",
    "title": "stdout from Python is always behind stdout from Q when direct stdout to a file",
    "text": "# stdout from Python is always behind stdout from Q when direct stdout to a file\n\n# Questions\r\n\r\n- [x] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```macOS Catalina 10.15.5 ```\r\n    \r\n- [x] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\nPyQ 5.0.0\r\nNumPy 1.18.4\r\nKDB+ 3.6 (2018.06.14) m64\r\nPython 3.7.7 (default, May 12 2020, 22:03:45)\r\n[Clang 11.0.0 (clang-1100.0.33.17)]\r\n    \r\n   \r\n- [x] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```64-bit```  \r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```not set```   \r\n\r\n- [x] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [x] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/Users/xiangpeng/venv37/q    \r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nprintf \"p)print('python') \\nshow \\\"q\\\"; \\n\\\\\\\\\\\\\\\\\\n\" > test.q; cat test.q\r\n$VIRTUAL_ENV/q/m64/q test.q\r\n$VIRTUAL_ENV/q/m64/q test.q > test.log\r\ncat test.log\r\n\r\n## Expected result\r\npython\r\n\"q\"\r\n\r\n## Actual result\r\n\"q\"\r\npython\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 237,
    "metadata": {
      "issue_number": 137,
      "state": "closed",
      "labels": [],
      "comments_count": 2,
      "created_at": "2020-07-18T02:48:18Z",
      "updated_at": "2020-07-18T14:33:05Z",
      "closed_at": "2020-07-18T14:20:27Z",
      "author": "xiangpeng2008",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-1c88a5db367c",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/129",
    "title": "pyq  doesn't run faster parallelly",
    "text": "# pyq  doesn't run faster parallelly\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    ubuntu 18.04 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    4.2.1\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n   KDB+ 4.0 2020.03.17 64-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        yes\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   -  no\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    /q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    no\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n\r\n## Expected result\r\n\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\npyq  doesn't run faster parallelly with kdb+ 4.0.\r\nThis is my testbench.py file\r\n```\r\nimport numpy as np\r\nfrom time import time\r\n\r\ndef testbench(n):\r\n    A = np.random.random((1, n))\r\n    # Matrix multiplication\r\n    N = 800000\r\n    t = time()\r\n    for i in range(N):\r\n        A = A*A\r\n    delta = time() - t\r\n    print('Dotted two %dx%d matrices in %0.2f s.' % (1, n, delta))\r\n    return np.sum(A)\r\n\r\nif __name__ == \"__main__\":\r\n    print(testbench(40000))\r\n```\r\nThen I ran with my kdb+ like following:\r\n```\r\nq -s 8\r\nq)\\l p.q\r\nq)p)from testbench import testbench\r\nq)l:40000 40000 40000 40000 40000 40000 40000 40000 \r\nq)testbench:.p.get[`testbench;<]\r\nq)testbench peach l\r\nDotted two 1x40000 matrices in 35.76 s.\r\nDotted two 1x40000 matrices in 35.76 s.\r\nDotted two 1x40000 matrices in 35.81 s.\r\nDotted two 1x40000 matrices in 35.80 s.\r\nDotted two 1x40000 matrices in 35.82 s.\r\nDotted two 1x40000 matrices in 35.82 s.\r\nDotted two 1x40000 matrices in 35.83 s.\r\nDotted two 1x40000 matrices in 35.85 s.\r\n0 0 0 0 0 0 0 0f\r\nq)testbench[l 0]\r\nDotted two 1x40000 matrices in 10.61 s.\r\n0f\r\nq)\\s\r\n8i\r\n```\r\nI found that pyq cannot run faster when I  testing code under kdb+ 4.0.\r\nI can run my code faster when I run peach with c library.\r\nI thought it might be kdb+ slave doesn't fork embedpy independently.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 408,
    "metadata": {
      "issue_number": 129,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 2,
      "created_at": "2020-03-24T12:53:44Z",
      "updated_at": "2020-06-03T21:07:01Z",
      "closed_at": "2020-06-03T21:07:01Z",
      "author": "fouvy",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-bb70bd320f9a",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/128",
    "title": "Pyq on 64-bit Centos 7 failes with Invalid ELF header",
    "text": "# Pyq on 64-bit Centos 7 failes with Invalid ELF header\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n```\r\ncentos 7 x64,     uname:  Linux qbreport-us1 3.10.0-1062.12.1.el7.x86_64 #1 SMP Tue Feb 4 23:02:59 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n```\r\n    cannot run pyq, \r\n\r\nmreider@qbreport-us1:~ $ python -V\r\nPython 2.7.5\r\n\r\nmreider@qbreport-us1:~ $ python3 -V\r\nPython 3.6.8\r\n\r\nmreider@qbreport-us1:~ $ pip list | grep pyq\r\npyq        4.2.1  \r\n\r\n```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n```\r\n    64 professional\r\n```\r\n   \r\n  - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux\r\n\r\n```\r\n        mreider@qbreport-us1:~ $ env | grep QLIC\r\nQLIC=/opt/qb/q3.6\r\n\r\n```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - no, need system wide pyq\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS\r\n\r\n```\r\n    mreider@qbreport-us1:~ $ env | grep QHOME\r\n     QHOME=/opt/qb/q3.6\r\n\r\n```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n```\r\n    no\r\n```   \r\n\r\n\r\n## Steps to reproduce the issue\r\ninstall pyq\r\n```\r\npip install pyq\r\n```\r\nchmod +x /usr/bin/pyq  (pyq is not executable after pip installs it)\r\n\r\ntry running pyq,\r\n```\r\n mreider@qbreport-us1:~ $ pyq\r\n'2020.02.27T15:24:25.615 /usr/local/lib/libpython3.7m.a: invalid ELF header\r\n  [4]  /opt/qb/q3.6/p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dll\r\n                                    ^\r\n```\r\n\r\n## Expected result\r\npyq shell\r\n\r\n## Actual result\r\ngetting ELF error \r\n\r\n'2020.02.27T15:24:25.615 /usr/local/lib/libpython3.7m.a: invalid ELF header\r\n  [4]  /opt/qb/q3.6/p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dll\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 301,
    "metadata": {
      "issue_number": 128,
      "state": "closed",
      "labels": [
        "user error"
      ],
      "comments_count": 2,
      "created_at": "2020-02-27T20:25:12Z",
      "updated_at": "2020-02-28T02:38:10Z",
      "closed_at": "2020-02-28T02:38:00Z",
      "author": "perfecto25",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-626b60b764a5",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/127",
    "title": "pip install pyq fails",
    "text": "# pip install pyq fails\n\nWhen I do a 'pip install pyq' from the Pycharm 2018 Community edition terminal, it fails with the following error:\r\n\r\n```\r\nFile \"C:\\Users\\bob\\AppData\\Local\\Temp\\pip-install-8zf3idem\\pyq\\setup.py\", line 497, in build_extensions\r\n        self.compiler.compile_options.remove('/MD')\r\n    ValueError: list.remove(x): x not in list\r\n```\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\nWindows 10 Home 64-bit\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n```\r\nPyQ fails to install\r\nPython 3.6.5 :: Anaconda, Inc.\r\n```\r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\nKDB+ 3.6 \r\n64-bit\r\n\r\n- [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\nQLIC is not defined.\r\nAccording to the kdb docs - \"If QLIC is not defined, kdb+ falls back to QHOME (or its fallback).\"\r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\nNot initially although I just tried in a venv and get the same error.\r\n\r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n```\r\nC:\\q\\\r\n```\r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n```\r\nPython 3.6.5 :: Anaconda, Inc.\r\n```\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 253,
    "metadata": {
      "issue_number": 127,
      "state": "closed",
      "labels": [
        "windows",
        "no-issue-activity"
      ],
      "comments_count": 2,
      "created_at": "2020-02-25T21:24:58Z",
      "updated_at": "2020-05-04T00:11:42Z",
      "closed_at": "2020-05-04T00:11:42Z",
      "author": "karhoewun",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-18dd653424bb",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/99",
    "title": "Notebook cells don't run after first error until PyQ kernel restart",
    "text": "# Notebook cells don't run after first error until PyQ kernel restart\n\nThis is a continuation of [https://stackoverflow.com/questions/53739406/notebook-cells-dont-run-after-first-error-until-pyq-kernel-restart/53869615](url). pyq kernel 1.0.1 didn't help.\r\n\r\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Ubuntu 18.04.1 LTS 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.1.4\r\n    KDB+ 3.6 (2018.10.23) l64\r\n    Python 3.6.7 |Anaconda, Inc.| (default, Oct 23 2018, 19:19:38) \r\n    [GCC 7.3.0]\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.  \r\n**is not set**\r\n\r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes\r\n\r\n \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/user/miniconda3/envs/pyqtwo/q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    conda 4.5.12\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nCreate a fresh virtualenv: \r\n\r\n    conda update -n base -c defaults conda\r\n    conda create -n pyqtwo\r\n    source activate pyqtwo\r\n    conda install -c kx -c enlnt pyq\r\n    pip install pyq-kernel\r\n    # Placed kc.lic into /home/user/miniconda3/envs/pyqtwo/q/\r\n    conda install jupyter\r\n    pyq -m pyq.kernel install\r\n    jupyter kernelspec list\r\n    jupyter-notebook --debug\r\n\r\nIn the jupyter notebook, create a new one with PyQ 3 kernel. Run following cells:  \r\n`from pyq import q; q('.z.ts')` returns `{@[i1;();::]}`, seems to be pyq kernel 1.0.1, indeed;  \r\n`nonexisting_function()` returns an error;  \r\n`6*7` \r\n\r\n## Expected result\r\n42\r\n\r\n## Actual result\r\nNothing. Notebook unresponsive until kernel restart. If, instead of restarting the kernel, I close the browser with the notebook and press Ctrl-C in the terminal where jupyter-notebook was started, it reports `Kernel is taking too long to finish, killing`. Both `q` and `pyq` run o.k. from a command line.\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 354,
    "metadata": {
      "issue_number": 99,
      "state": "closed",
      "labels": [
        "bug",
        "pyq-kernel"
      ],
      "comments_count": 2,
      "created_at": "2019-01-02T13:31:26Z",
      "updated_at": "2019-01-23T18:49:58Z",
      "closed_at": "2019-01-23T18:49:57Z",
      "author": "webradio",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-93001c49b1c3",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/97",
    "title": "conda, installation order of PyQ and JupyterQ matters",
    "text": "# conda, installation order of PyQ and JupyterQ matters\n\nIt looks similar to [issue 30](https://github.com/KxSystems/pyq/issues/30#issue-273272860)\r\n# Questions\r\n\r\n- [ ] Which operating system are you using?\r\n\r\n    ```\r\n    Ubuntu 18.04.1 LTS 64bit \r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? \r\n\r\n````\r\nembedpy                   1.3.1            py36h14c3975_0    kx\r\njupyterq                  1.1.4            py36h14c3975_0    kx\r\nkdb                       3.6                  2018.10.23    kx\r\npyq                       4.1.4            py36h39e3cac_0    enlnt\r\n````\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    KDB+ 3.6 2018.10.23 l64\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\nno\r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - wasn't aware of this option, sticking to conda\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/user/anaconda3/q/\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    conda 4.5.11\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n````\r\nconda install -c kx -c enlnt pyq jupyterq\r\njupyter notebook\r\n````\r\nIn the browser window that opens, try creating a new Q notebook.\r\n\r\n## Expected result\r\nJupyter notebook launching Q kernel and connecting to it, so that I can enter and run e.g. `til 2`\r\n\r\n## Actual result\r\n````\r\n[I 16:13:18.993 NotebookApp] Kernel started: a0c4204f-97a2-4d09-b1d9-5ab694e99b88\r\n'2018.12.06T16:13:19.453 .p.eval\r\n  [4]  /home/user/anaconda3/q/jupyterq_pyzmq.q:2: pypop:.p.eval[\"list.pop\"][;0]\r\n````\r\n\r\n## Workaround\r\nThis worked:\r\n````\r\nconda uninstall pyq embedpy jupyterq kdb\r\nconda install -c kx -c enlnt pyq\r\nconda install -c kx jupyterq\r\njupyter notebook\r\n````\r\nWhen installed in this order, `p.k` is much shorter and only refers `p.q`. `$QHOME/l64/p.so` is much longer.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 279,
    "metadata": {
      "issue_number": 97,
      "state": "closed",
      "labels": [
        "invalid",
        "conda",
        "notebook"
      ],
      "comments_count": 2,
      "created_at": "2018-12-06T16:27:01Z",
      "updated_at": "2019-06-17T09:09:43Z",
      "closed_at": "2019-02-11T19:56:42Z",
      "author": "webradio",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-248c1ef084b8",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/96",
    "title": "async/await support?",
    "text": "# async/await support?\n\nDoes pyq support Python's async/await syntax? In particular, to run IPC calls to a remote data service.",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 20,
    "metadata": {
      "issue_number": 96,
      "state": "closed",
      "labels": [
        "enhancement",
        "no-issue-activity"
      ],
      "comments_count": 2,
      "created_at": "2018-11-08T21:18:47Z",
      "updated_at": "2020-01-16T00:06:02Z",
      "closed_at": "2020-01-16T00:06:02Z",
      "author": "kovariance",
      "top_comments": [],
      "is_feature_request": true,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-edc96ef8b7df",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/56",
    "title": "Checking for python_dll makes pip installation impossible if you need to override python_dll",
    "text": "# Checking for python_dll makes pip installation impossible if you need to override python_dll\n\n## Steps to reproduce the issue\r\ninstall pyq through pip on a system where python has been built statically\r\n\r\nYou can attempt to override the python_dll path by using `--global-options=configure --global-options=\"--python-dll=/my/path/to/libs\"` but it will fail because pip install runs `python setup.py egg_info` before running `python setup.py install`\r\n\r\n## Expected result\r\nDon't throw an error when checking for python_dll in commands that don't require it.\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 78,
    "metadata": {
      "issue_number": 56,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 2,
      "created_at": "2018-03-20T18:34:02Z",
      "updated_at": "2018-03-20T20:45:55Z",
      "closed_at": "2018-03-20T20:45:55Z",
      "author": "nugend",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-259ea548f05c",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/48",
    "title": "python_dll not found",
    "text": "# python_dll not found\n\nq.exe python.q brings an error saying \"the specified module could not be found\" p.k:3 (\\`p 2:(\\`p_init;1))python_dll",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 20,
    "metadata": {
      "issue_number": 48,
      "state": "closed",
      "labels": [
        "windows"
      ],
      "comments_count": 2,
      "created_at": "2018-03-02T10:59:10Z",
      "updated_at": "2018-03-02T19:33:50Z",
      "closed_at": "2018-03-02T11:18:24Z",
      "author": "dickreuter",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-09cb1a9b1093",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/20",
    "title": "failed to import _ssl problem",
    "text": "# failed to import _ssl problem\n\nIn my environment, pyq failed to import _ssl, but python succeeded:\r\n\r\n```\r\n$ pyq --versions\r\nPyQ 4.1.1\r\nNumPy 1.12.1\r\nKDB+ 3.5 (2017.05.02) l64\r\nPython 2.7.13 |Anaconda 4.4.0 (64-bit)| (default, Dec 20 2016, 23:09:15)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]\r\n```\r\n```\r\n$ python\r\nPython 2.7.13 |Anaconda 4.4.0 (64-bit)| (default, Dec 20 2016, 23:09:15)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nAnaconda is brought to you by Continuum Analytics.\r\nPlease check out: http://continuum.io/thanks and https://anaconda.org\r\n>>> import _ssl\r\n>>> _ssl.__file__\r\n'/data/statarb_n/equity_sys/anaconda2/lib/python2.7/lib-dynload/_ssl.so'\r\n```\r\n```\r\n$ ls -l /data/statarb_n/equity_sys/anaconda2/lib/python2.7/lib-dynload/_ssl.so\r\n-rwxr-xr-x 2 equity_sys statarb 246877 Dec 21  2016 /data/statarb_n/equity_sys/anaconda2/lib/python2.7/lib-dynload/_ssl.so\r\n```\r\n```\r\n$ pyq\r\nPython 2.7.13 |Anaconda 4.4.0 (64-bit)| (default, Dec 20 2016, 23:09:15)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nAnaconda is brought to you by Continuum Analytics.\r\nPlease check out: http://continuum.io/thanks and https://anaconda.org\r\n>>> import _ssl\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/data/statarb_n/equity_sys/anaconda2/lib/python2.7/site-packages/pyq/__init__.py\", line 774, in __import__\r\n    m = _imp(name, globals, locals, fromlist, level)\r\nImportError: /data/statarb_n/equity_sys/anaconda2/lib/python2.7/lib-dynload/_ssl.so: undefined symbol: SSL_get0_next_proto_negotiated\r\n>>>\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 190,
    "metadata": {
      "issue_number": 20,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 2,
      "created_at": "2017-10-12T20:12:23Z",
      "updated_at": "2017-10-12T20:21:14Z",
      "closed_at": "2017-10-12T20:18:56Z",
      "author": "andersontigerzhang",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-476d63d2ca53",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/151",
    "title": "Installation option when kdb directory is not writeable",
    "text": "# Installation option when kdb directory is not writeable\n\nHi, I'm working on an environment where kdb directory is shared and is not writeable.\n\nPyQ installation fails in this case because it cannot create pyq-config.q in the QHOME directory. Is there an option to install such that the config will be saved in my home directory than in QHOME?\n\nThanks!\n\nContext: trying to install pyq==4.2.1 on Ubuntu",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 67,
    "metadata": {
      "issue_number": 151,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2025-03-04T16:54:39Z",
      "updated_at": "2025-03-04T23:18:49Z",
      "closed_at": "2025-03-04T23:18:42Z",
      "author": "angeliney",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-76d63faef97b",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/147",
    "title": "installation  error: subprocess-exited-with-error",
    "text": "# installation  error: subprocess-exited-with-error\n\nInstallation error. ubuntu 22.04.1 python 3.10.6\r\n```\r\npip install pyq\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting pyq\r\n  Using cached pyq-5.0.0.tar.gz (103 kB)\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n  Preparing metadata (pyproject.toml) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  Ã— Preparing metadata (pyproject.toml) did not run successfully.\r\n  â”‚ exit code: 1\r\n  â•°â”€> [67 lines of output]\r\n      running dist_info\r\n      creating /tmp/pip-modern-metadata-wi0_von6/pyq.egg-info\r\n      writing /tmp/pip-modern-metadata-wi0_von6/pyq.egg-info/PKG-INFO\r\n      writing dependency_links to /tmp/pip-modern-metadata-wi0_von6/pyq.egg-info/dependency_links.txt\r\n      writing requirements to /tmp/pip-modern-metadata-wi0_von6/pyq.egg-info/requires.txt\r\n      writing top-level names to /tmp/pip-modern-metadata-wi0_von6/pyq.egg-info/top_level.txt\r\n      writing manifest file '/tmp/pip-modern-metadata-wi0_von6/pyq.egg-info/SOURCES.txt'\r\n      Traceback (most recent call last):\r\n        File \"/home/prathamesh/.local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 351, in <module>\r\n          main()\r\n        File \"/home/prathamesh/.local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 333, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/home/prathamesh/.local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 152, in prepare_metadata_for_build_wheel\r\n          return hook(metadata_directory, config_settings)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/build_meta.py\", line 377, in prepare_metadata_for_build_wheel\r\n          self.run_setup()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/build_meta.py\", line 484, in run_setup\r\n          super(_BuildMetaLegacyBackend,\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/build_meta.py\", line 335, in run_setup\r\n          exec(code, locals())\r\n        File \"<string>\", line 645, in <module>\r\n        File \"<string>\", line 641, in run_setup\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/__init__.py\", line 87, in setup\r\n          return distutils.core.setup(**attrs)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/core.py\", line 185, in setup\r\n          return run_commands(dist)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/core.py\", line 201, in run_commands\r\n          dist.run_commands()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/dist.py\", line 969, in run_commands\r\n          self.run_command(cmd)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/dist.py\", line 1208, in run_command\r\n          super().run_command(command)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/dist.py\", line 988, in run_command\r\n          cmd_obj.run()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/dist_info.py\", line 96, in run\r\n          self.egg_info.run()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/egg_info.py\", line 312, in run\r\n          self.find_sources()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/egg_info.py\", line 320, in find_sources\r\n          mm.run()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/egg_info.py\", line 564, in run\r\n          self.add_defaults()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/egg_info.py\", line 601, in add_defaults\r\n          sdist.add_defaults(self)\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/command/sdist.py\", line 106, in add_defaults\r\n          super().add_defaults()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/command/sdist.py\", line 252, in add_defaults\r\n          self._add_defaults_ext()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/command/sdist.py\", line 336, in _add_defaults_ext\r\n          build_ext = self.get_finalized_command('build_ext')\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 305, in get_finalized_command\r\n          cmd_obj.ensure_finalized()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 111, in ensure_finalized\r\n          self.finalize_options()\r\n        File \"<string>\", line 432, in finalize_options\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 293, in set_undefined_options\r\n          src_cmd_obj.ensure_finalized()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 111, in ensure_finalized\r\n          self.finalize_options()\r\n        File \"<string>\", line 369, in finalize_options\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 293, in set_undefined_options\r\n          src_cmd_obj.ensure_finalized()\r\n        File \"/tmp/pip-build-env-6r04mavo/overlay/local/lib/python3.10/dist-packages/setuptools/_distutils/cmd.py\", line 111, in ensure_finalized\r\n          self.finalize_options()\r\n        File \"<string>\", line 266, in finalize_options\r\n        File \"<string>\", line 152, in get_q_home\r\n      RuntimeError: No suitable QHOME.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\nÃ— Encountered error while generating package metadata.\r\nâ•°â”€> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 376,
    "metadata": {
      "issue_number": 147,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2023-01-18T07:51:56Z",
      "updated_at": "2023-01-18T08:51:33Z",
      "closed_at": "2023-01-18T08:51:33Z",
      "author": "prathameshjoshi",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-5965bb44a13e",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/146",
    "title": "Async messages get queued until sync message ",
    "text": "# Async messages get queued until sync message \n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Void Linux\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq:`\r\n\r\n    ```\r\n    PyQ 5.0.0\r\n    KDB+ 4f (2022.10.26) l64\r\n    Python 3.9.16 (main, Jan  5 2023, 06:43:45) \r\n    [GCC 12.2.0]\r\n\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32 bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - I've used pyenv virtual env\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    /opt/q/\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    I don't use Conda\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nSend asynchronous request using pyq.\r\nQ process accepting requests:\r\n\r\n`\r\n.z.ps:{show \"Async\"}\r\n`\r\nPython code:\r\n```\r\nfrom pyq import q\r\nh = q.hopen('::5001')\r\nh.neg('a')\r\n```\r\n## Expected result\r\nQ process receives request and print \"Async\"\r\n\r\n## Actual result\r\nFor some reason all async requests are placed in some sort of queue and until you make sync reuest, they are not sent.\r\n\r\n```\r\nh.neg('a') # nothing happens\r\nh('b') # you get error since no sync message handler is defined, but the message above gets sent\r\n```\r\n\r\n## Workaround\r\nYou could send sync message every time you've prepared async message, but at this point you could just switch to sync messages\r\n\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 315,
    "metadata": {
      "issue_number": 146,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2023-01-05T14:04:05Z",
      "updated_at": "2023-01-06T11:31:59Z",
      "closed_at": "2023-01-06T05:02:36Z",
      "author": "Kamatayon",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-fdf069f669b1",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/143",
    "title": "Unable to install pyq on py3.6 venv",
    "text": "# Unable to install pyq on py3.6 venv\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Centos 7.7\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    pyq 4.0\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    kdb 4.0 64bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        QLIC=/opt/qb/q4.0\r\n\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - used venv\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    /opt/qb/q4.0\r\n    ```  \r\n\r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\n```\r\n(venv) dev@titan ]$ pip install --proxy http://208.224.250.5:3128  -i https://pyq.enlnt.com --no-binary pyq pyq\r\nCollecting pyq\r\n  Using cached https://github.com/enlnt/pyq/archive/pyq-4.1.1.tar.gz\r\nInstalling collected packages: pyq\r\n  Running setup.py install for pyq ... error\r\n    Complete output from command /home/qbdev/mreider/venv/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-40mskgze/pyq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-guulz17f-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/qbdev/mreider/venv/include/site/python3.6/pyq:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/version.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/ptk.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/magic.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/conftest.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/cmd.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_pt_run.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/_n.py -> build/lib.linux-x86_64-3.6/pyq\r\n    copying src/pyq/__init__.py -> build/lib.linux-x86_64-3.6/pyq\r\n    creating build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_version.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_threads.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_sd.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_python_q.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pyq_executable.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pypath.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_pathlib.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_p.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_no_numpy.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_n.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_memoryview.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_magic.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_k.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_com.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/test_ci.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    copying src/pyq/tests/__init__.py -> build/lib.linux-x86_64-3.6/pyq/tests\r\n    running build_ext\r\n    building 'pyq._k' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/src\r\n    creating build/temp.linux-x86_64-3.6/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -DKXVER=4 -DKXVER2=0 -I/home/qbdev/mreider/venv/include -I/usr/include/python3.6m -c src/pyq/_k.c -o build/temp.linux-x86_64-3.6/src/pyq/_k.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    gcc -pthread -shared -Wl,-z,relro -g build/temp.linux-x86_64-3.6/src/pyq/_k.o -L/usr/lib64 -lpython3.6m -o build/lib.linux-x86_64-3.6/pyq/_k.cpython-36m-x86_64-linux-gnu.so\r\n    running build_scripts\r\n    creating build/scripts-3.6\r\n    copying src/scripts/pyq-runtests -> build/scripts-3.6\r\n    copying and adjusting src/scripts/pyq-coverage -> build/scripts-3.6\r\n    copying src/scripts/ipyq -> build/scripts-3.6\r\n    copying src/scripts/pq -> build/scripts-3.6\r\n    copying src/scripts/qp -> build/scripts-3.6\r\n    changing mode of build/scripts-3.6/pyq-coverage from 664 to 775\r\n    changing mode of build/scripts-3.6/ipyq from 664 to 775\r\n    changing mode of build/scripts-3.6/pq from 664 to 775\r\n    changing mode of build/scripts-3.6/qp from 664 to 775\r\n    running build_qlib\r\n    creating build/qlib\r\n    copying src/pyq/python.q -> build/qlib\r\n    copying src/pyq/p.k -> build/qlib\r\n    copying src/pyq/pyq-operators.q -> build/qlib\r\n    running build_qext\r\n    creating build/temp.linux-x86_64\r\n    creating build/temp.linux-x86_64/src\r\n    creating build/temp.linux-x86_64/src/pyq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -DKXVER=4 -DKXVER2=0 -DPY3K=36 -Isrc/pyq -c src/pyq/p.c -o build/temp.linux-x86_64/src/pyq/p.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    creating build/qext.linux-x86_64\r\n    gcc -pthread -shared -Wl,-z,relro -g build/temp.linux-x86_64/src/pyq/p.o -o build/qext.linux-x86_64/p.so\r\n    running build_exe\r\n    **gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -DKXVER=4 -DQARCH=l64 -c src/pyq.c -o src/pyq.o -Wpointer-arith -Werror -fno-strict-aliasing\r\n    src/pyq.c:2:0: error: \"_GNU_SOURCE\" redefined [-Werror]**\r\n     #  define _GNU_SOURCE\r\n     ^\r\n    <command-line>:0:0: note: this is the location of the previous definition\r\n    cc1: all warnings being treated as errors\r\n    error: command 'gcc' failed with exit status 1\r\n   \r\n\r\n```\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 585,
    "metadata": {
      "issue_number": 143,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 1,
      "created_at": "2021-07-06T20:02:02Z",
      "updated_at": "2021-07-06T20:11:09Z",
      "closed_at": "2021-07-06T20:11:09Z",
      "author": "perfecto25",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-9c3076acfe14",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/125",
    "title": "[Windows] pyq shell error",
    "text": "# [Windows] pyq shell error\n\nWhen I install pyq on Windows in a venv, and then run 'q.exe python.q' i get loaded into the shell. At this point, as per instructions, i do ^Z and Enter. At this point, the prompt keeps printing \")\" continuously until I abort.\r\n\r\nEg.\r\n```\r\n(venv_32) c:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32>q python.q\r\nKDB+ 3.6 2019.04.02 Copyright (C) 1993-2019 Kx Systems\r\nw32/ 8()core 4095MB jmitek sydw1mx1qm2 10.16.203.24 NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\n'\r\n  [4]  C:\\Users\\jmitek\\apps\\q\\p.k:2: (`:./pyq 2:(`p_init;1)).pyq.python_dll\r\n                                     ^\r\n  [0]  (<load>)\r\n\r\n  )^Z\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n)  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )  )\r\n\r\n```\r\n\r\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 7\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n```\r\n(venv_32) c:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32>pip list pyq\r\nPackage            Version\r\n------------------ -------\r\natomicwrites       1.3.0\r\nattrs              19.3.0\r\ncolorama           0.4.3\r\nimportlib-metadata 1.5.0\r\nmore-itertools     8.2.0\r\npackaging          20.1\r\npip                20.0.2\r\npluggy             0.13.1\r\npy                 1.8.1\r\npyparsing          2.4.6\r\npyq                4.2.1\r\npyq-kernel         1.2\r\npytest             5.3.5\r\npytest-pyq         1.1\r\nqPython            2.0.0\r\nsetuptools         45.1.0\r\nsix                1.14.0\r\nwcwidth            0.1.8\r\nzipp               2.1.0\r\n\r\n```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32-bit, free version. v 3.6\r\n\r\n    (venv_32) c:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32>q --version\r\n    KDB+ 3.6 2019.04.02 Copyright (C) 1993-2019 Kx Systems\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - yes, used \"pip install pyq\"\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    (venv_32) C:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32>set QHOME\r\n    QHOME=C:\\Users\\jmitek\\apps\\q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    Yes, it uses conda venv, but I created a new venv in PyCharm\r\n    (venv_32) C:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32>conda --version\r\n    conda 4.7.12\r\n\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\ncd C:\\Users\\jmitek\\eFx\\scripts\\venv_32\\q\\w32\r\nq.exe python.q\r\nthen ^Z + Enter\r\n\r\n\r\n## Expected result\r\nSee python shell\r\n\r\n\r\n## Actual result\r\nRepeating )))))\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 874,
    "metadata": {
      "issue_number": 125,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2020-02-05T03:54:37Z",
      "updated_at": "2020-02-05T04:59:43Z",
      "closed_at": "2020-02-05T04:59:43Z",
      "author": "jmitek",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-a13dca5c5677",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/124",
    "title": "[Windows] Installing pyq does not generate binary",
    "text": "# [Windows] Installing pyq does not generate binary\n\nI have been able to run the pip installer for pyq, I can see it ran the build using MVC tools, but then there is no command line exe to start. It onlyt generates a pyq.dll which i assume would allow my to use python inside the q terminal, but I need the opposite.\r\n\r\nDoco refers to running \"pyq\" from the shell but there is no such exe.\r\n\r\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 7\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    Python 3.7.4\r\nPackage    Version\r\n---------- -------\r\npip        19.0.3\r\npyq        4.2.1\r\nsetuptools 45.1.0\r\n\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    (venv_32) C:\\Users\\jmitek\\eFx\\scripts>set QHOME\r\nQHOME=C:\\Users\\jmitek\\apps\\q\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n   PyCharm VEnv is created from Conda venv\r\n(venv_32) C:\\Users\\jmitek\\eFx\\scripts>conda -V\r\nconda 4.7.12\r\n\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nrun \"pip install pyq\"\r\n\r\n## Expected result\r\nWould expected to see a pyq.exe created (( assume, but documentation does not mentioned). It just says run \"pyq\" but no such file exists.\r\nHowever I can see a pyq.dll generated in my venv.\r\n\r\n## Actual result\r\nNo pyq.exe\r\ni can see all the build output when running in verbose and all looks okay.\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 348,
    "metadata": {
      "issue_number": 124,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2020-02-05T02:07:29Z",
      "updated_at": "2020-02-05T03:29:49Z",
      "closed_at": "2020-02-05T03:29:49Z",
      "author": "jmitek",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-f9e0e5db5926",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/123",
    "title": "extra q threads",
    "text": "# extra q threads\n\nI have a few python scripts interacting with q on a CentOS 7.7.1908 server with PyQ 4.2.1 on python 2.7.5. I noticed that running \"pyq\" spins up as many threads with name \"q\" as I have cpus on the server. None of the threads appear to be doing anything. I can also get the same behavior by running q and then doing \"p)1+1\". Upon pressing enter the threads appear.\r\n\r\nI tried replicating this on an AWS instance with the same CentOS version, but it behaves as expected there.\r\n\r\nAny suggestions?\r\n\r\nThank you,",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 96,
    "metadata": {
      "issue_number": 123,
      "state": "closed",
      "labels": [
        "invalid"
      ],
      "comments_count": 1,
      "created_at": "2019-10-10T21:41:39Z",
      "updated_at": "2019-10-11T12:25:59Z",
      "closed_at": "2019-10-11T12:25:48Z",
      "author": "ekrel",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-c8a1817d715e",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/122",
    "title": "Migrate LGTM.com installation from OAuth to GitHub App",
    "text": "# Migrate LGTM.com installation from OAuth to GitHub App\n\nHi There,\r\n\r\nThis project is still using an old implementation of LGTM's automated code review, which has now been disabled. To continue using automated code review, and receive checks on your Pull Requests, please [install the GitHub App](https://github.com/apps/lgtm-com/installations/new) on this repository.\r\n\r\nThanks,\r\nThe LGTM Team",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 54,
    "metadata": {
      "issue_number": 122,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2019-10-08T19:25:55Z",
      "updated_at": "2020-01-08T23:10:51Z",
      "closed_at": "2020-01-08T23:10:51Z",
      "author": "ghost",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-88c68ea2e1f1",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/119",
    "title": "test_closed_connection failing due to error handling issue ",
    "text": "# test_closed_connection failing due to error handling issue \n\n```\r\n____________________________ test_closed_connection ____________________________\r\nkdb_server = k('15i')\r\n\r\n    def test_closed_connection(kdb_server):\r\n...\r\n>           assert msg == 'close'\r\nE           AssertionError: assert 'close handle: 15' == 'close'\r\nE             - close handle: 15\r\nE             + close\r\n...\r\n```",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 41,
    "metadata": {
      "issue_number": 119,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2019-08-20T15:17:27Z",
      "updated_at": "2019-11-15T21:12:28Z",
      "closed_at": "2019-11-15T21:12:28Z",
      "author": "sashkab",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-7e69389c94bc",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/116",
    "title": "pyq conflict with python tables module",
    "text": "# pyq conflict with python tables module\n\n> ```\r\n> >>> import tables\r\n> Traceback (most recent call last):\r\n>   File \"<stdin>\", line 1, in <module>\r\n>   File \"/usr/local/lib/python3.6/dist-packages/pyq/__init__.py\", line 841, in __import__\r\n>     m = _imp(name, globals, locals, fromlist, level)\r\n>   File \"/usr/local/lib/python3.6/dist-packages/tables/__init__.py\", line 131, in <module>\r\n>     from .file import File, open_file, copy_file\r\n>   File \"/usr/local/lib/python3.6/dist-packages/pyq/__init__.py\", line 841, in __import__\r\n>     m = _imp(name, globals, locals, fromlist, level)\r\n>   File \"/usr/local/lib/python3.6/dist-packages/tables/file.py\", line 51, in <module>\r\n>     from .array import Array\r\n>   File \"/usr/local/lib/python3.6/dist-packages/pyq/__init__.py\", line 844, in __import__\r\n>     _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\n>   File \"/usr/local/lib/python3.6/dist-packages/pyq/__init__.py\", line 844, in <genexpr>\r\n>     _c.update((getattr(m, cname), conv) for cname, conv in pairs)\r\n> AttributeError: module 'tables.array' has no attribute 'array'\r\n> ```\r\n\r\n.array conflict with python tables module. rename .array to tables.array would solve this problem. but, it's hard under distribute compute env... there are too many computers...",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 150,
    "metadata": {
      "issue_number": 116,
      "state": "closed",
      "labels": [
        "bug",
        "duplicate",
        "invalid"
      ],
      "comments_count": 1,
      "created_at": "2019-07-11T09:04:36Z",
      "updated_at": "2019-07-11T12:01:42Z",
      "closed_at": "2019-07-11T12:01:42Z",
      "author": "fouvy",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-e35c857156ba",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/115",
    "title": "Bug: Global variable treated as splayed table column ",
    "text": "# Bug: Global variable treated as splayed table column \n\nAssigning in q under the global context usually works fine\r\n\r\n```\r\n$ pyq\r\nPython 3.7.2 (default, Dec 29 2018, 06:25:15)\r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q.a = 10\r\n>>> q.a\r\nk('10')\r\n```\r\n \r\n\r\nBut when the first variable in the global context is a splayed table, and weâ€™re no longer in that mount point, pyq throws an error:\r\n\r\n```\r\n$ pyq\r\nPython 3.7.2 (default, Dec 29 2018, 06:25:15)\r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q('`:/var/tmp/test/table/ set ([]til 10)') #create splayed table\r\nk('`:/var/tmp/test/table/')\r\n>>> q('\\l /var/tmp/test') #mount the directory to bring table into context\r\nk('::')\r\n>>> q('key `.')\r\nk(',`table')\r\n>>> q('\\cd /var/tmp') #change directory to somewhere else so table is no longer valid\r\nk('::')\r\n>>> q.a = 10\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/zodiac/.conda/envs/dev2/lib/python3.7/site-packages/pyq/__init__.py\", line 723, in __setattr__\r\n    self(\"@[`.;;:;]\", attr, value)\r\n  File \"/home/zodiac/.conda/envs/dev2/lib/python3.7/site-packages/pyq/__init__.py\", line 706, in __call__\r\n    return K._k(0, m, *map(K, args))\r\n  File \"/home/zodiac/.conda/envs/dev2/lib/python3.7/site-packages/pyq/__init__.py\", line 1058, in _trp_k\r\n    return cls_._trp(f, K(args))\r\n_k.error: ('table/x. OS reports: No such file or directory', k('(((k){(x[y;](. z)@)\\'!z};15);(();\"<q>\";-1;\"k){(x[y;](. z)@)\\'!z}\");14;3);(();((..'))\r\n('table/x. OS reports: No such file or directory', k('(((k){(x[y;](. z)@)\\'!z};15);(();\"<q>\";-1;\"k){(x[y;](. z)@)\\'!z}\");14;3);(();((..'))\r\n```\r\n\r\nIf we assign a variable in the global context before the splayed table, everything works as expected:\r\n\r\n```\r\n$ pyq\r\nPython 3.7.2 (default, Dec 29 2018, 06:25:15)\r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> q.z = 10\r\n>>> q('`:/var/tmp/test/table/ set ([]til 10)')\r\nk('`:/var/tmp/test/table/')\r\n>>> q('\\l /var/tmp/test')\r\nk('::')\r\n>>> q('key `.')\r\nk('`z`table')\r\n>>> q('\\cd /var/tmp')\r\nk('::')\r\n>>> q.a = 10\r\n>>> q.a\r\nk('10')\r\n```\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "negative",
    "word_count": 285,
    "metadata": {
      "issue_number": 115,
      "state": "closed",
      "labels": [
        "bug",
        "no-issue-activity"
      ],
      "comments_count": 1,
      "created_at": "2019-07-02T03:00:03Z",
      "updated_at": "2020-01-16T00:05:57Z",
      "closed_at": "2020-01-16T00:05:57Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": true
    }
  },
  {
    "id": "kx-github_issue-6e0a047b2f37",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/110",
    "title": "Issue installing pyQ on windows ",
    "text": "# Issue installing pyQ on windows \n\n# Questions\r\n\r\nWhich operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 7, 64 bit  \r\n    ```\r\n    \r\nWhich version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    pyq-4.2.1\r\n    ```\r\n    \r\n\r\nWhich version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    kdb+ 3.6, 32 bit \r\n    ```\r\n    \r\n\r\nIf on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        n/a\r\n        ```   \r\n\r\nDid you use virtual environment to install PyQ? If not, why?\r\n\r\n   - No, wanted local install\r\n\r\n\r\nDo you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    no\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\npip install pyq-4.2.1.tar.gz\r\n## Expected result\r\nPyQ installed\r\n\r\n## Actual result\r\n    C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG -DKXVER=3 -DKXVER2=6 -Ic:\\users\\owhalen\\appdata\\local\\programs\\python\\python35\\include -Ic:\\users\\owhalen\\appdata\\local\\programs\\python\\python35\\include \"-IC:\\Program Files (x86)\\Microsoft Vis\r\nual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.177\r\n63.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\winrt\" /Tcsrc/pyq/_k.c /Fobuild\\temp.win-amd64-3.5\\Release\\src/pyq/_k.obj /WX /wd4090\r\n    _k.c\r\n    C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64\\link.exe /nologo /INCREMENTAL:NO /LTCG /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIBPATH:c:\\users\\owhalen\\appdata\\local\\programs\\python\\python35\\libs /LIBPATH:c:\\users\\owhalen\\appdata\\local\\programs\\python\\python35\\PCbuild\\amd64 \"\r\n/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17763.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17763.0\\\r\num\\x64\" /LIBPATH:I:\\APPS\\Sybase\\OpenClient\\OpenClient_15.5-ESD7_win32\\DataAccess\\ADONET\\dll /LIBPATH:I:\\APPS\\Sybase\\OpenClient\\OpenClient_15.5-ESD7_win32\\OCS-15_0\\lib /EXPORT:PyInit__k build\\temp.win-amd64-3.5\\Release\\src/pyq/_k.obj /OUT:build\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd /IMPLIB:buil\r\nd\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.lib src\\pyq\\kx\\w32\\q.lib\r\n    _k.obj : warning LNK4197: export 'PyInit__k' specified multiple times; using first specification\r\n       Creating library build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\src/pyq\\_k.cp35-win_amd64.exp\r\n    _k.obj : error LNK2001: unresolved external symbol ka\r\n    _k.obj : error LNK2001: unresolved external symbol kh\r\n    _k.obj : error LNK2001: unresolved external symbol ki\r\n    _k.obj : error LNK2001: unresolved external symbol kz\r\n    _k.obj : error LNK2001: unresolved external symbol kg\r\n    _k.obj : error LNK2001: unresolved external symbol js\r\n    _k.obj : error LNK2001: unresolved external symbol sn\r\n    _k.obj : error LNK2001: unresolved external symbol kc\r\n    _k.obj : error LNK2001: unresolved external symbol ku\r\n    _k.obj : error LNK2001: unresolved external symbol krr\r\n    _k.obj : error LNK2001: unresolved external symbol sd0\r\n    _k.obj : error LNK2001: unresolved external symbol dl\r\n    _k.obj : error LNK2001: unresolved external symbol jv\r\n    _k.obj : error LNK2001: unresolved external symbol ymd\r\n    _k.obj : error LNK2001: unresolved external symbol ee\r\n    _k.obj : error LNK2001: unresolved external symbol ktj\r\n    _k.obj : error LNK2001: unresolved external symbol kb\r\n    _k.obj : error LNK2001: unresolved external symbol jk\r\n    _k.obj : error LNK2001: unresolved external symbol ke\r\n    _k.obj : error LNK2001: unresolved external symbol d9\r\n    _k.obj : error LNK2001: unresolved external symbol kj\r\n    _k.obj : error LNK2001: unresolved external symbol m9\r\n    _k.obj : error LNK2001: unresolved external symbol sd1\r\n    _k.obj : error LNK2001: unresolved external symbol dot\r\n    _k.obj : error LNK2001: unresolved external symbol r0\r\n    _k.obj : error LNK2001: unresolved external symbol ktd\r\n    _k.obj : error LNK2001: unresolved external symbol k\r\n    _k.obj : error LNK2001: unresolved external symbol r1\r\n    _k.obj : error LNK2001: unresolved external symbol setm\r\n    _k.obj : error LNK2001: unresolved external symbol ss\r\n    _k.obj : error LNK2001: unresolved external symbol b9\r\n    _k.obj : error LNK2001: unresolved external symbol dj\r\n    _k.obj : error LNK2001: unresolved external symbol xT\r\n    _k.obj : error LNK2001: unresolved external symbol ktn\r\n    _k.obj : error LNK2001: unresolved external symbol ks\r\n    _k.obj : error LNK2001: unresolved external symbol kd\r\n    _k.obj : error LNK2001: unresolved external symbol xD\r\n    _k.obj : error LNK2001: unresolved external symbol kf\r\n    _k.obj : error LNK2001: unresolved external symbol ja\r\n    _k.obj : error LNK2001: unresolved external symbol kt\r\n    _k.obj : error LNK2001: unresolved external symbol kpn\r\n    _k.obj : error LNK2001: unresolved external symbol okx\r\n    _k.obj : error LNK2001: unresolved external symbol knk\r\n    _k.obj : error LNK2001: unresolved external symbol knt\r\n    build\\lib.win-amd64-3.5\\pyq\\_k.cp35-win_amd64.pyd : fatal error LNK1120: 44 unresolved externals\r\n    error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\amd64\\\\link.exe' failed with exit status 1120\r\n\r\n    ----------------------------------------\r\nCommand \"c:\\users\\owhalen\\appdata\\local\\programs\\python\\python35\\python.exe -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\owhalen\\\\AppData\\\\Local\\\\Temp\\\\pip-coyspb6u-build\\\\setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" insta\r\nll --record C:\\Users\\owhalen\\AppData\\Local\\Temp\\pip-_v5lkvi4-record\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\owhalen\\AppData\\Local\\Temp\\pip-coyspb6u-build\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 681,
    "metadata": {
      "issue_number": 110,
      "state": "closed",
      "labels": [
        "windows",
        "user error"
      ],
      "comments_count": 1,
      "created_at": "2019-05-31T09:43:08Z",
      "updated_at": "2019-05-31T13:59:03Z",
      "closed_at": "2019-05-31T13:57:17Z",
      "author": "owhalen",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-7a2c80c383ad",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/106",
    "title": "Garbage collection in PyQ ",
    "text": "# Garbage collection in PyQ \n\nI am using PyQ 4.2.1 with Python 3.7. I have noticed that `sum .Q.gc\\[0]` efficiently frees up memory on the kdb side and keeps` .Q.w[]`peak` stable, while gc.collect() on the Python side does not prevent virtual memory from growing. Keeping track of both \r\n\r\n\r\n```\r\n.Q.w[]`peak\r\n```\r\n\r\nand\r\n\r\n```\r\nprocess = psutil.Process(os.getpid())\r\nprocess.memory_info().rss\r\n```\r\nin between calling .Q.gc[] and gc.collect(), shows the Python side growing in memory, while the former remains stable, and much smaller, in kdb. \r\n\r\nIs there a way to prevent memory leakage in PyQ, or to run the equivalent of \r\n\r\n```\r\n![`.;();0b;tables[]]; sum .Q.gc\\[0]\r\n```\r\n\r\nin Python? Does deleting K tables from kdb not free up memory on the Python side?",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 118,
    "metadata": {
      "issue_number": 106,
      "state": "closed",
      "labels": [
        "no-issue-activity"
      ],
      "comments_count": 1,
      "created_at": "2019-03-14T14:01:00Z",
      "updated_at": "2020-01-16T00:06:00Z",
      "closed_at": "2020-01-16T00:06:00Z",
      "author": "antipisa",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-5facff811adf",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/100",
    "title": "Anaconda 32 bit environment - install gcc_linux-32 ",
    "text": "# Anaconda 32 bit environment - install gcc_linux-32 \n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n    ```\r\n    Debian stretch amd64\r\n    ```\r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PyQ 4.1.4\r\n    NumPy 1.15.4\r\n    KDB+ 3.5 (2017.11.30) l32\r\n    Python 3.7.1 (default, Dec 14 2018, 19:51:47) \r\n    [GCC 7.3.0]   \r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32 bit, version 3.5    \r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - I used anaconda and added the gcc_linux-32 library\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n    ```\r\n    /home/share/src/q-site    \r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    5.3.1 32 bit    \r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nI've configured my Debian stretch amd64 host to run q by adding foreign architecture support for i386 and installing lib6:i386. I downloaded the pyq tar.gz file and patched it for the distutils.command install_data as install_misc issue.\r\n\r\n    conda install gcc_linux-32\r\n    pip install /misc/share/1/pyq-4.1.4\r\n\r\n## Expected result\r\n\r\nIt compiled and linked correctly.   And the pyq interpreter works correctly.\r\n\r\n## Actual result\r\n\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n\r\nIt should be written up that pyq can be installed into Anaconda using its own gcc package.\r\n\r\n    conda install gcc_linux-32\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 302,
    "metadata": {
      "issue_number": 100,
      "state": "closed",
      "labels": [],
      "comments_count": 1,
      "created_at": "2019-01-03T23:50:54Z",
      "updated_at": "2019-02-11T19:57:59Z",
      "closed_at": "2019-02-11T19:57:37Z",
      "author": "eepgwde",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-1c9ba06aa431",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/95",
    "title": "PyQ unresponsive after starting",
    "text": "# PyQ unresponsive after starting\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 10 64 bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    4.1.4\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32 bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        N/A\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - No - I'm on a work machine.\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    \r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\nstart pyq using the following command...\r\n`c:\\q\\w32\\q.exe python.q`\r\n\r\nthen import q object from pyq...\r\n`from pyq import q`\r\n\r\n## Expected result\r\nImport the object and allow me to enter additional commands\r\n\r\n## Actual result\r\n```\r\nC:\\Users\\a\\q\\q\\w32>q.exe python.q\r\nKDB+ 3.6 2018.05.17 Copyright (C) 1993-2018 Kx Systems\r\nw32/ 2()core 4095MB NONEXPIRE\r\n\r\nWelcome to kdb+ 32bit edition\r\nFor support please see http://groups.google.com/d/forum/personal-kdbplus\r\nTutorials can be found at http://code.kx.com/wiki/Tutorials\r\nTo exit, type \\\\\r\nTo remove this startup msg, edit q.q\r\nPython 3.6.4 (v3.6.4:d48eceb, Dec 19 2017, 06:04:45) [MSC v.1900 32 bit (Intel)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from pyq import q\r\n\r\n```\r\nInput will move to a blank line and nothing happens. Can't exit out of python without fully closing command prompt. Other commands produce the same behavior. Not sure if it has any affect, but should be noted that I'm using a work machine with a pre-approved version of python installed. Also, Microsoft Build Tools for Visual Studio 2017 have been installed.\r\n\r\n## Workaround\r\n\r\nIf you know workaround, please provide it here.\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 366,
    "metadata": {
      "issue_number": 95,
      "state": "closed",
      "labels": [
        "invalid",
        "windows"
      ],
      "comments_count": 1,
      "created_at": "2018-10-25T15:10:06Z",
      "updated_at": "2018-10-25T16:00:07Z",
      "closed_at": "2018-10-25T16:00:07Z",
      "author": "grokpronoia",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-ceeb796d78ed",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/94",
    "title": "Unable to \"import pyq\" or \"q python.q\"",
    "text": "# Unable to \"import pyq\" or \"q python.q\"\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Windows 64-bit\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    pyq 4.1.4\r\n    Python 2.7.14\r\n    Python 3.6.5\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    32-bit\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        \r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes. Created a virtualenv with 32-bit version of python 3.6.5\r\n   \r\n\r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n    ```\r\n    C:\\q\r\n    ```  \r\n\r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n    ```\r\n    conda 4.3.30\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n\r\nHave Visual Studio C++ 2015 Build Tools installed.\r\n\r\nTried it with python 2.7\r\n```\r\nset CONDA_FORCE_32BIT=1\r\nconda create -n py27_32 python=2.7\r\nset CONDA_FORCE_32BIT=0\r\nactivate py27_32\r\npip install pyq\r\npython\r\n>>> import pyq\r\n```\r\n\r\nTried it with python 3.6\r\n```\r\nset CONDA_FORCE_32BIT=1\r\nconda create -n py36_32 python=2.7\r\nset CONDA_FORCE_32BIT=0\r\nactivate py36_32\r\npip install pyq\r\npython\r\n>>> import pyq\r\n```\r\n\r\n## Expected result\r\n\r\n**pyq** should be able to import\r\n\r\n## Actual result\r\n\r\npython exits immediately without completing the import\r\n\r\n## Workaround\r\n\r\n-\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 279,
    "metadata": {
      "issue_number": 94,
      "state": "closed",
      "labels": [
        "invalid",
        "windows"
      ],
      "comments_count": 1,
      "created_at": "2018-10-25T11:46:24Z",
      "updated_at": "2018-10-25T11:55:57Z",
      "closed_at": "2018-10-25T11:54:49Z",
      "author": "sean185",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  },
  {
    "id": "kx-github_issue-b3650f2b05f4",
    "origin": "kx",
    "source_type": "github_issue",
    "url": "https://github.com/KxSystems/pyq/issues/91",
    "title": "Cannot read csv file with pyq",
    "text": "# Cannot read csv file with pyq\n\n# Questions\r\n\r\n- [ ] Which operating system are you using (if Linux, please provide flavour of it, i.e RedHat, CentOS or Ubuntu), is it 32-bit, or 64-bit?\r\n\r\n    ```\r\n    Linux 64-bit, Ubuntu\r\n    ```\r\n    \r\n- [ ] Which version of PyQ are you running? Please provide output of  `pyq --versions`, if PyQ isn't operational, please provide Python interpreter version and PyQ version `python -V; python3 -V; pip list | grep pyq`:\r\n\r\n    ```\r\n    PYQ 4.1.4; python 3.5.2\r\n    ```\r\n    \r\n\r\n- [ ] Which version of kdb+ are you using, is it 32-bit or 64-bit?\r\n\r\n    ```\r\n    64-bit; kdb+ 3.6\r\n    ```\r\n    \r\n\r\n    - [ ] If on 64-bit, is your `QLIC` set? Please provide output `env | grep QLIC` on linux/macOS, or `set|grep QLIC` on Windows.\r\n\r\n        ```\r\n        Not set.\r\n        ```   \r\n\r\n- [ ] Did you use virtual environment to install PyQ? If not, why?\r\n\r\n   - Yes\r\n   \r\n- [ ] Where is your `QHOME`? Please provide output `env | grep QHOME` on linux/macOS, or `set|grep QHOME` on Windows.\r\n\r\n\r\n    ```\r\n    QHOME=/home/robert/Downloads/kdb\r\n    ```  \r\n\r\n- [ ] Do you use Conda? If so, what version?\r\n\r\n\r\n    ```\r\n    No\r\n    ```   \r\n\r\n\r\n## Steps to reproduce the issue\r\n```python\r\nq(\"table1: (\"SSFFFIFFI\"; enlist \",\") 0:`data_fin.csv\")\r\n```\r\n\r\n## Expected result\r\nRead the table successfully\r\n\r\n## Actual result\r\n```python\r\nq(\"table1: (\"SSFFFIFFI\"; enlist \",\") 0:`data_fin.csv\")\r\n                         ^\r\nSyntaxError: invalid syntax\r\n```\r\n\r\n##\r\n(The data can be read in q successfully: q)table1: (\"SSFFFIFFI\"; enlist \",\") 0:`data_fin.csv)\r\n",
    "scraped_date": "2026-02-22",
    "content_date": null,
    "topics": [],
    "subtopics": [],
    "credibility": "community",
    "sentiment": "neutral",
    "word_count": 233,
    "metadata": {
      "issue_number": 91,
      "state": "closed",
      "labels": [
        "question",
        "user error"
      ],
      "comments_count": 1,
      "created_at": "2018-09-25T04:23:04Z",
      "updated_at": "2019-01-23T18:53:41Z",
      "closed_at": "2019-01-23T18:53:31Z",
      "author": "unix9999",
      "top_comments": [],
      "is_feature_request": false,
      "is_bug": false
    }
  }
]